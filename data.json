{
  "tableData": [
    {
      "id": 1,
      "name": "Новый проект",
      "date": "24.11.2025",
      "status": "Активен",
      "customData": {
        "col_1763960733989": ""
      },
      "attachments": {},
      "displayId": 1
    },
    {
      "id": 2,
      "name": "Новый проект",
      "date": "24.11.2025",
      "status": "Активен",
      "customData": {
        "col_1763960733989": ""
      },
      "attachments": {},
      "displayId": 2
    },
    {
      "id": 3,
      "name": "Новый проект",
      "date": "23.11.2025",
      "status": "Активен",
      "customData": {
        "col_1763922049044_0": "",
        "col_1763922049044_1": ""
      },
      "attachments": {
        "status": [
          {
            "name": "Рабочая версия.txt",
            "type": "text/plain",
            "data": "data:text/plain;base64,PCFET0NUWVBFIGh0bWw+DQo8aHRtbCBsYW5nPSJydSI+DQo8aGVhZD4NCiAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+DQogICAgPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLjAiPg0KICAgIDx0aXRsZT7Qo9C/0YDQsNCy0LvQtdC90LjQtSDQtNCw0L3QvdGL0LzQuDwvdGl0bGU+DQogICAgPHN0eWxlPg0KICAgICAgICAqIHsNCiAgICAgICAgICAgIG1hcmdpbjogMDsNCiAgICAgICAgICAgIHBhZGRpbmc6IDA7DQogICAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94Ow0KICAgICAgICAgICAgZm9udC1mYW1pbHk6ICdTZWdvZSBVSScsIFRhaG9tYSwgR2VuZXZhLCBWZXJkYW5hLCBzYW5zLXNlcmlmOw0KICAgICAgICB9DQoNCiAgICAgICAgLyog0J/QldCg0JXQnNCV0J3QndCr0JUg0JTQm9CvINCi0JXQnNCrICovDQogICAgICAgIDpyb290IHsNCiAgICAgICAgICAgIC0tYmctcHJpbWFyeTogIzJmMmYyZjsNCiAgICAgICAgICAgIC0tYmctc2Vjb25kYXJ5OiAjMjUyNTI1Ow0KICAgICAgICAgICAgLS1iZy10ZXJ0aWFyeTogIzRhNGE0YTsNCiAgICAgICAgICAgIC0tYmctZGFyay1jb250cm9sczogIzFhMWExYTsNCiAgICAgICAgICAgIC0tYWNjZW50LWNvbG9yOiAjZTY3ZTIyOw0KICAgICAgICAgICAgLS1hY2NlbnQtaG92ZXI6ICNkMzU0MDA7DQogICAgICAgICAgICAtLXRleHQtcHJpbWFyeTogI2VjZjBmMTsNCiAgICAgICAgICAgIC0tdGV4dC1zZWNvbmRhcnk6ICNiZGMzYzc7DQogICAgICAgICAgICAtLWJvcmRlci1jb2xvcjogIzRhNGE0YTsNCiAgICAgICAgICAgIC0tdGFibGUtYmc6ICMzYTNhM2E7DQogICAgICAgICAgICAtLXRhYmxlLWJvcmRlcjogIzRhNGE0YTsNCiAgICAgICAgICAgIC0tdGFibGUtaGVhZGVyLWJnOiAjMWExYTFhOw0KICAgICAgICAgICAgLS10YWJsZS1ob3ZlcjogIzVhNWE1YTsNCiAgICAgICAgfQ0KDQogICAgICAgIGJvZHkgew0KICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tYmctcHJpbWFyeSk7DQogICAgICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1wcmltYXJ5KTsNCiAgICAgICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7DQogICAgICAgIH0NCg0KICAgICAgICAjbG9naW4tc2NyZWVuIHsNCiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7DQogICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsNCiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogICAgICAgICAgICBoZWlnaHQ6IDEwMHZoOw0KICAgICAgICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgcmdiYSg0NywgNDcsIDQ3LCAwLjgpIDAlLCByZ2JhKDM3LCAzNywgMzcsIDAuOCkgMTAwJSksIHVybCgnZm9uLmpwZycpIG5vLXJlcGVhdCBjZW50ZXIgY2VudGVyIGZpeGVkOw0KICAgICAgICAgICAgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjsNCiAgICAgICAgfQ0KDQogICAgICAgIEBtZWRpYSAobWF4LXdpZHRoOiAxOTIwcHgpIHsNCiAgICAgICAgICAgICNsb2dpbi1zY3JlZW4gew0KICAgICAgICAgICAgICAgIGJhY2tncm91bmQtYXR0YWNobWVudDogc2Nyb2xsOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgLmxvZ2luLWNvbnRhaW5lciB7DQogICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iZy1zZWNvbmRhcnkpOw0KICAgICAgICAgICAgcGFkZGluZzogMi41cmVtOw0KICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMTJweDsNCiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgMTVweCAzNXB4IHJnYmEoMCwgMCwgMCwgMC4zKTsNCiAgICAgICAgICAgIHdpZHRoOiAxMDAlOw0KICAgICAgICAgICAgbWF4LXdpZHRoOiA0MjBweDsNCiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJvcmRlci1jb2xvcik7DQogICAgICAgIH0NCg0KICAgICAgICAubG9naW4tY29udGFpbmVyIGgyIHsNCiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDEuOHJlbTsNCiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsNCiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LXByaW1hcnkpOw0KICAgICAgICAgICAgZm9udC1zaXplOiAxLjhyZW07DQogICAgICAgICAgICBmb250LXdlaWdodDogNjAwOw0KICAgICAgICB9DQoNCiAgICAgICAgLmZvcm0tZ3JvdXAgew0KICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMS4ycmVtOw0KICAgICAgICB9DQoNCiAgICAgICAgLmZvcm0tZ3JvdXAgbGFiZWwgew0KICAgICAgICAgICAgZGlzcGxheTogYmxvY2s7DQogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAwLjZyZW07DQogICAgICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1zZWNvbmRhcnkpOw0KICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDUwMDsNCiAgICAgICAgICAgIGZvbnQtc2l6ZTogMC45NXJlbTsNCiAgICAgICAgfQ0KDQogICAgICAgIC5mb3JtLWdyb3VwIGlucHV0LCAuZm9ybS1ncm91cCBzZWxlY3Qgew0KICAgICAgICAgICAgd2lkdGg6IDEwMCU7DQogICAgICAgICAgICBwYWRkaW5nOiAwLjlyZW07DQogICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1ib3JkZXItY29sb3IpOw0KICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogOHB4Ow0KICAgICAgICAgICAgZm9udC1zaXplOiAxcmVtOw0KICAgICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmctcHJpbWFyeSk7DQogICAgICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1wcmltYXJ5KTsNCiAgICAgICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7DQogICAgICAgIH0NCg0KICAgICAgICAuZm9ybS1ncm91cCBpbnB1dDpmb2N1cywgLmZvcm0tZ3JvdXAgc2VsZWN0OmZvY3VzIHsNCiAgICAgICAgICAgIG91dGxpbmU6IG5vbmU7DQogICAgICAgICAgICBib3JkZXItY29sb3I6IHZhcigtLWFjY2VudC1jb2xvcik7DQogICAgICAgICAgICBib3gtc2hhZG93OiAwIDAgMCAzcHggcmdiYSgyMzAsIDEyNiwgMzQsIDAuMik7DQogICAgICAgIH0NCg0KICAgICAgICBidXR0b24gew0KICAgICAgICAgICAgcGFkZGluZzogMC45cmVtIDEuNXJlbTsNCiAgICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWFjY2VudC1jb2xvcik7DQogICAgICAgICAgICBjb2xvcjogd2hpdGU7DQogICAgICAgICAgICBib3JkZXI6IG5vbmU7DQogICAgICAgICAgICBib3JkZXItcmFkaXVzOiA4cHg7DQogICAgICAgICAgICBmb250LXNpemU6IDFyZW07DQogICAgICAgICAgICBmb250LXdlaWdodDogNjAwOw0KICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOw0KICAgICAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTsNCiAgICAgICAgICAgIGhlaWdodDogNDhweDsNCiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7DQogICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOw0KICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7DQogICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7DQogICAgICAgIH0NCg0KICAgICAgICBidXR0b246aG92ZXIgew0KICAgICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYWNjZW50LWhvdmVyKTsNCiAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMXB4KTsNCiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgNXB4IDE1cHggcmdiYSgyMzAsIDEyNiwgMzQsIDAuMyk7DQogICAgICAgIH0NCg0KICAgICAgICAjbWFpbi1zY3JlZW4gew0KICAgICAgICAgICAgZGlzcGxheTogbm9uZTsNCiAgICAgICAgICAgIGhlaWdodDogMTAwdmg7DQogICAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOw0KICAgICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmctcHJpbWFyeSk7DQogICAgICAgIH0NCg0KICAgICAgICAuaGVhZGVyIHsNCiAgICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJnLXNlY29uZGFyeSk7DQogICAgICAgICAgICBwYWRkaW5nOiAwLjhyZW0gMS41cmVtOw0KICAgICAgICAgICAgYm94LXNoYWRvdzogMCAzcHggMTBweCByZ2JhKDAsIDAsIDAsIDAuMik7DQogICAgICAgICAgICBkaXNwbGF5OiBmbGV4Ow0KICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOw0KICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAgICAgICAgICAgIGhlaWdodDogNzBweDsNCiAgICAgICAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB2YXIoLS1ib3JkZXItY29sb3IpOw0KICAgICAgICB9DQoNCiAgICAgICAgLmhlYWRlci1jb250ZW50IHsNCiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7DQogICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOw0KICAgICAgICAgICAgZ2FwOiAyMHB4Ow0KICAgICAgICB9DQoNCiAgICAgICAgLmxvZ28gew0KICAgICAgICAgICAgaGVpZ2h0OiA0MHB4Ow0KICAgICAgICAgICAgb3BhY2l0eTogMC45Ow0KICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOw0KICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNnB4Ow0KICAgICAgICB9DQoNCiAgICAgICAgLnVzZXItaW5mbyB7DQogICAgICAgICAgICBkaXNwbGF5OiBmbGV4Ow0KICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAgICAgICAgICAgIGdhcDogMTVweDsNCiAgICAgICAgfQ0KDQogICAgICAgIC51c2VyLW5hbWUgew0KICAgICAgICAgICAgY29sb3I6IHZhcigtLXRleHQtcHJpbWFyeSk7DQogICAgICAgICAgICBmb250LXdlaWdodDogNTAwOw0KICAgICAgICAgICAgZm9udC1zaXplOiAwLjk1cmVtOw0KICAgICAgICB9DQoNCiAgICAgICAgLnVzZXItcm9sZS1idG4gew0KICAgICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmctdGVydGlhcnkpOw0KICAgICAgICAgICAgY29sb3I6IHZhcigtLXRleHQtcHJpbWFyeSk7DQogICAgICAgICAgICBib3JkZXI6IG5vbmU7DQogICAgICAgICAgICBwYWRkaW5nOiAwLjVyZW0gMXJlbTsNCiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDhweDsNCiAgICAgICAgICAgIGZvbnQtc2l6ZTogMC45cmVtOw0KICAgICAgICAgICAgaGVpZ2h0OiAzNXB4Ow0KICAgICAgICAgICAgZGlzcGxheTogZmxleDsNCiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsNCiAgICAgICAgICAgIG1pbi13aWR0aDogMTIwcHg7DQogICAgICAgIH0NCg0KICAgICAgICAjbG9nb3V0LWJ0bi51c2VyLXJvbGUtYnRuIHsNCiAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjsNCiAgICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWFjY2VudC1jb2xvcik7DQogICAgICAgIH0NCg0KICAgICAgICAjbG9nb3V0LWJ0bi51c2VyLXJvbGUtYnRuOmhvdmVyIHsNCiAgICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWFjY2VudC1ob3Zlcik7DQogICAgICAgIH0NCg0KICAgICAgICAuc3RhdHVzLWJhci1oZWFkZXIgew0KICAgICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmctdGVydGlhcnkpOw0KICAgICAgICAgICAgY29sb3I6IHZhcigtLXRleHQtcHJpbWFyeSk7DQogICAgICAgICAgICBib3JkZXI6IG5vbmU7DQogICAgICAgICAgICBwYWRkaW5nOiAwLjVyZW0gMXJlbTsNCiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDhweDsNCiAgICAgICAgICAgIGZvbnQtc2l6ZTogMC44cmVtOw0KICAgICAgICAgICAgaGVpZ2h0OiAzNXB4Ow0KICAgICAgICAgICAgZGlzcGxheTogZmxleDsNCiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsNCiAgICAgICAgICAgIG1pbi13aWR0aDogMjAwcHg7DQogICAgICAgICAgICBtYXgtd2lkdGg6IDMwMHB4Ow0KICAgICAgICAgICAgd2hpdGUtc3BhY2U6IG5vd3JhcDsNCiAgICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW47DQogICAgICAgICAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpczsNCiAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjsNCiAgICAgICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7DQogICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7DQogICAgICAgIH0NCg0KICAgICAgICAuc3RhdHVzLWJhci1oZWFkZXI6aG92ZXI6OmFmdGVyIHsNCiAgICAgICAgICAgIGNvbnRlbnQ6IGF0dHIoZGF0YS10b29sdGlwKTsNCiAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgICAgICAgICAgIGJvdHRvbTogMTAwJTsNCiAgICAgICAgICAgIGxlZnQ6IDUwJTsNCiAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKTsNCiAgICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJnLXNlY29uZGFyeSk7DQogICAgICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1wcmltYXJ5KTsNCiAgICAgICAgICAgIHBhZGRpbmc6IDhweCAxMnB4Ow0KICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNnB4Ow0KICAgICAgICAgICAgZm9udC1zaXplOiAwLjhyZW07DQogICAgICAgICAgICB3aGl0ZS1zcGFjZTogbm93cmFwOw0KICAgICAgICAgICAgei1pbmRleDogMTAwMDsNCiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJvcmRlci1jb2xvcik7DQogICAgICAgICAgICBib3gtc2hhZG93OiAwIDRweCAxMnB4IHJnYmEoMCwwLDAsMC4zKTsNCiAgICAgICAgfQ0KDQogICAgICAgIC5zdGF0dXMtYmFyLWhlYWRlci5zeW5jaW5nIHsNCiAgICAgICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMjMwLCAxMjYsIDM0LCAwLjMpOw0KICAgICAgICAgICAgY29sb3I6IHZhcigtLWFjY2VudC1jb2xvcik7DQogICAgICAgIH0NCg0KICAgICAgICAuc3RhdHVzLWJhci1oZWFkZXIuc3VjY2VzcyB7DQogICAgICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDQ2LCAyMDQsIDExMywgMC4yKTsNCiAgICAgICAgICAgIGNvbG9yOiAjMmVjYzcxOw0KICAgICAgICB9DQoNCiAgICAgICAgLnN0YXR1cy1iYXItaGVhZGVyLmVycm9yIHsNCiAgICAgICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMjMxLCA3NiwgNjAsIDAuMik7DQogICAgICAgICAgICBjb2xvcjogI2U3NGMzYzsNCiAgICAgICAgfQ0KDQogICAgICAgIC5zdGF0dXMtaW5mby1oZWFkZXIgew0KICAgICAgICAgICAgZGlzcGxheTogZmxleDsNCiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogICAgICAgICAgICBnYXA6IDhweDsNCiAgICAgICAgICAgIHdpZHRoOiAxMDAlOw0KICAgICAgICB9DQoNCiAgICAgICAgLnN0YXR1cy1zeW5jLWhlYWRlciB7DQogICAgICAgICAgICBkaXNwbGF5OiBmbGV4Ow0KICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAgICAgICAgICAgIGdhcDogNXB4Ow0KICAgICAgICAgICAgZmxleDogMTsNCiAgICAgICAgICAgIG1pbi13aWR0aDogMDsNCiAgICAgICAgfQ0KDQogICAgICAgIC5zeW5jLWljb24gew0KICAgICAgICAgICAgZm9udC1zaXplOiAwLjlyZW07DQogICAgICAgICAgICBmbGV4LXNocmluazogMDsNCiAgICAgICAgfQ0KDQogICAgICAgIC5zeW5jLXRleHQgew0KICAgICAgICAgICAgZmxleDogMTsNCiAgICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW47DQogICAgICAgICAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpczsNCiAgICAgICAgICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7DQogICAgICAgICAgICBmb250LXdlaWdodDogNTAwOw0KICAgICAgICB9DQoNCiAgICAgICAgLnRvcC1jb250cm9scy1wYW5lbCB7DQogICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iZy1zZWNvbmRhcnkpOw0KICAgICAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLWJvcmRlci1jb2xvcik7DQogICAgICAgICAgICBwYWRkaW5nOiAxMnB4IDIwcHg7DQogICAgICAgICAgICBkaXNwbGF5OiBmbGV4Ow0KICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAgICAgICAgICAgIGdhcDogMTVweDsNCiAgICAgICAgICAgIGZsZXgtd3JhcDogbm93cmFwOw0KICAgICAgICAgICAgaGVpZ2h0OiA2NXB4Ow0KICAgICAgICAgICAgbWluLWhlaWdodDogNjVweDsNCiAgICAgICAgfQ0KDQogICAgICAgIC50YWJzLXdyYXBwZXIgew0KICAgICAgICAgICAgZGlzcGxheTogZmxleDsNCiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogICAgICAgICAgICBmbGV4OiAwIDEgYXV0bzsNCiAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsNCiAgICAgICAgICAgIGhlaWdodDogNDBweDsNCiAgICAgICAgICAgIG1heC13aWR0aDogNjAlOw0KICAgICAgICAgICAgbWluLXdpZHRoOiAyMDBweDsNCiAgICAgICAgfQ0KDQogICAgICAgIC50YWJzLXNjcm9sbC1idG4gew0KICAgICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmctdGVydGlhcnkpOw0KICAgICAgICAgICAgYm9yZGVyOiBub25lOw0KICAgICAgICAgICAgY29sb3I6IHZhcigtLXRleHQtcHJpbWFyeSk7DQogICAgICAgICAgICB3aWR0aDogMjRweDsNCiAgICAgICAgICAgIGhlaWdodDogMjRweDsNCiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDsNCiAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjsNCiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7DQogICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOw0KICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7DQogICAgICAgICAgICBmb250LXNpemU6IDEycHg7DQogICAgICAgICAgICB6LWluZGV4OiAyOw0KICAgICAgICAgICAgZmxleC1zaHJpbms6IDA7DQogICAgICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMC4ycyBlYXNlOw0KICAgICAgICB9DQoNCiAgICAgICAgLnRhYnMtc2Nyb2xsLWJ0bjpob3ZlciB7DQogICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS10YWJsZS1ob3Zlcik7DQogICAgICAgIH0NCg0KICAgICAgICAudGFicy1zY3JvbGwtYnRuLmxlZnQgew0KICAgICAgICAgICAgbWFyZ2luLXJpZ2h0OiA1cHg7DQogICAgICAgIH0NCg0KICAgICAgICAudGFicy1zY3JvbGwtYnRuLnJpZ2h0IHsNCiAgICAgICAgICAgIG1hcmdpbi1sZWZ0OiA1cHg7DQogICAgICAgIH0NCg0KICAgICAgICAudGFicy1jb250YWluZXIgew0KICAgICAgICAgICAgZGlzcGxheTogZmxleDsNCiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogICAgICAgICAgICBnYXA6IDhweDsNCiAgICAgICAgICAgIGhlaWdodDogNDBweDsNCiAgICAgICAgICAgIG92ZXJmbG93LXg6IGF1dG87DQogICAgICAgICAgICAtbXMtb3ZlcmZsb3ctc3R5bGU6IG5vbmU7DQogICAgICAgICAgICBzY3JvbGxiYXItd2lkdGg6IG5vbmU7DQogICAgICAgICAgICBzY3JvbGwtYmVoYXZpb3I6IHNtb290aDsNCiAgICAgICAgICAgIGZsZXg6IDE7DQogICAgICAgIH0NCg0KICAgICAgICAudGFicy1jb250YWluZXI6Oi13ZWJraXQtc2Nyb2xsYmFyIHsNCiAgICAgICAgICAgIGRpc3BsYXk6IG5vbmU7DQogICAgICAgIH0NCg0KICAgICAgICAudGFiIHsNCiAgICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJnLXRlcnRpYXJ5KTsNCiAgICAgICAgICAgIHBhZGRpbmc6IDhweCAxNnB4Ow0KICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogOHB4Ow0KICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOw0KICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tdGFibGUtaG92ZXIpOw0KICAgICAgICAgICAgd2hpdGUtc3BhY2U6IG5vd3JhcDsNCiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7DQogICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOw0KICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7DQogICAgICAgICAgICBnYXA6IDhweDsNCiAgICAgICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7DQogICAgICAgICAgICBtaW4td2lkdGg6IDE0MHB4Ow0KICAgICAgICAgICAgaGVpZ2h0OiA0MHB4Ow0KICAgICAgICAgICAgZmxleC1zaHJpbms6IDA7DQogICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7DQogICAgICAgIH0NCg0KICAgICAgICAudGFiLmFjdGl2ZSB7DQogICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1hY2NlbnQtY29sb3IpOw0KICAgICAgICAgICAgY29sb3I6IHdoaXRlOw0KICAgICAgICAgICAgYm9yZGVyLWNvbG9yOiB2YXIoLS1hY2NlbnQtY29sb3IpOw0KICAgICAgICB9DQoNCiAgICAgICAgLnRhYi5lZGl0YWJsZSB7DQogICAgICAgICAgICBjdXJzb3I6IHRleHQ7DQogICAgICAgICAgICBib3JkZXI6IDFweCBkYXNoZWQgdHJhbnNwYXJlbnQ7DQogICAgICAgIH0NCg0KICAgICAgICAudGFiLmVkaXRhYmxlOmhvdmVyIHsNCiAgICAgICAgICAgIGJvcmRlci1jb2xvcjogdmFyKC0tYWNjZW50LWNvbG9yKTsNCiAgICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJnLXNlY29uZGFyeSk7DQogICAgICAgIH0NCg0KICAgICAgICAudGFiLmVkaXRhYmxlOmZvY3VzIHsNCiAgICAgICAgICAgIG91dGxpbmU6IG5vbmU7DQogICAgICAgICAgICBib3JkZXItY29sb3I6IHZhcigtLWFjY2VudC1jb2xvcik7DQogICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iZy1wcmltYXJ5KTsNCiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgMCAwIDNweCByZ2JhKDIzMCwgMTI2LCAzNCwgMC4yKTsNCiAgICAgICAgfQ0KDQogICAgICAgIC50YWItY2xvc2Ugew0KICAgICAgICAgICAgYmFja2dyb3VuZDogbm9uZTsNCiAgICAgICAgICAgIGJvcmRlcjogbm9uZTsNCiAgICAgICAgICAgIGNvbG9yOiBpbmhlcml0Ow0KICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOw0KICAgICAgICAgICAgcGFkZGluZzogNHB4Ow0KICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4Ow0KICAgICAgICAgICAgZm9udC1zaXplOiAxNHB4Ow0KICAgICAgICAgICAgd2lkdGg6IDIwcHg7DQogICAgICAgICAgICBoZWlnaHQ6IDIwcHg7DQogICAgICAgICAgICBkaXNwbGF5OiBmbGV4Ow0KICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOw0KICAgICAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuMnMgZWFzZTsNCiAgICAgICAgfQ0KDQogICAgICAgIC50YWItY2xvc2U6aG92ZXIgew0KICAgICAgICAgICAgYmFja2dyb3VuZDogcmdiYSgyNTUsMjU1LDI1NSwwLjIpOw0KICAgICAgICAgICAgdHJhbnNmb3JtOiBzY2FsZSgxLjEpOw0KICAgICAgICB9DQoNCiAgICAgICAgLmNvbnRyb2xzLWdyb3VwIHsNCiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7DQogICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOw0KICAgICAgICAgICAgZ2FwOiAxMnB4Ow0KICAgICAgICAgICAgbWFyZ2luLWxlZnQ6IGF1dG87DQogICAgICAgICAgICBmbGV4LXNocmluazogMDsNCiAgICAgICAgICAgIGZsZXgtd3JhcDogbm93cmFwOw0KICAgICAgICAgICAgbWluLXdpZHRoOiA0MCU7DQogICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kOw0KICAgICAgICB9DQoNCiAgICAgICAgLm5ldy10YWItYnRuIHsNCiAgICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWFjY2VudC1jb2xvcik7DQogICAgICAgICAgICBjb2xvcjogd2hpdGU7DQogICAgICAgICAgICBib3JkZXI6IG5vbmU7DQogICAgICAgICAgICBwYWRkaW5nOiA4cHggMTZweDsNCiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDhweDsNCiAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjsNCiAgICAgICAgICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7DQogICAgICAgICAgICBmb250LXNpemU6IDAuOXJlbTsNCiAgICAgICAgICAgIGhlaWdodDogNDBweDsNCiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7DQogICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOw0KICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7DQogICAgICAgICAgICBnYXA6IDZweDsNCiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsNCiAgICAgICAgfQ0KDQogICAgICAgIC5uZXctdGFiLWJ0bjpob3ZlciB7DQogICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1hY2NlbnQtaG92ZXIpOw0KICAgICAgICB9DQoNCiAgICAgICAgLnNlYXJjaC1jb250YWluZXIgew0KICAgICAgICAgICAgZGlzcGxheTogZmxleDsNCiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogICAgICAgICAgICBnYXA6IDhweDsNCiAgICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJnLWRhcmstY29udHJvbHMpOw0KICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYm9yZGVyLWNvbG9yKTsNCiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDhweDsNCiAgICAgICAgICAgIHBhZGRpbmc6IDZweCAxMnB4Ow0KICAgICAgICAgICAgbWluLXdpZHRoOiAyNDBweDsNCiAgICAgICAgICAgIGhlaWdodDogNDBweDsNCiAgICAgICAgICAgIGZsZXgtc2hyaW5rOiAwOw0KICAgICAgICB9DQoNCiAgICAgICAgLnNlYXJjaC1pbnB1dCB7DQogICAgICAgICAgICBib3JkZXI6IG5vbmU7DQogICAgICAgICAgICBvdXRsaW5lOiBub25lOw0KICAgICAgICAgICAgZmxleDogMTsNCiAgICAgICAgICAgIHBhZGRpbmc6IDZweDsNCiAgICAgICAgICAgIGZvbnQtc2l6ZTogMC45cmVtOw0KICAgICAgICAgICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7DQogICAgICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1wcmltYXJ5KTsNCiAgICAgICAgfQ0KDQogICAgICAgIC5zZWFyY2gtaW5wdXQ6OnBsYWNlaG9sZGVyIHsNCiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LXNlY29uZGFyeSk7DQogICAgICAgIH0NCg0KICAgICAgICAuc2VhcmNoLWNsZWFyIHsNCiAgICAgICAgICAgIGJhY2tncm91bmQ6IG5vbmU7DQogICAgICAgICAgICBib3JkZXI6IG5vbmU7DQogICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7DQogICAgICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1zZWNvbmRhcnkpOw0KICAgICAgICAgICAgcGFkZGluZzogNHB4IDZweDsNCiAgICAgICAgICAgIGZvbnQtc2l6ZTogMC44cmVtOw0KICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4Ow0KICAgICAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuMnMgZWFzZTsNCiAgICAgICAgfQ0KDQogICAgICAgIC5zZWFyY2gtY2xlYXI6aG92ZXIgew0KICAgICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmctdGVydGlhcnkpOw0KICAgICAgICAgICAgY29sb3I6IHZhcigtLXRleHQtcHJpbWFyeSk7DQogICAgICAgIH0NCg0KICAgICAgICAuZmlsdGVyLXNlbGVjdGVkLWJ0biB7DQogICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iZy10ZXJ0aWFyeSk7DQogICAgICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1wcmltYXJ5KTsNCiAgICAgICAgICAgIGJvcmRlcjogbm9uZTsNCiAgICAgICAgICAgIHBhZGRpbmc6IDhweCAxNnB4Ow0KICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogOHB4Ow0KICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOw0KICAgICAgICAgICAgd2hpdGUtc3BhY2U6IG5vd3JhcDsNCiAgICAgICAgICAgIGZvbnQtc2l6ZTogMC45cmVtOw0KICAgICAgICAgICAgaGVpZ2h0OiA0MHB4Ow0KICAgICAgICAgICAgZGlzcGxheTogZmxleDsNCiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsNCiAgICAgICAgICAgIGdhcDogNnB4Ow0KICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOw0KICAgICAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTsNCiAgICAgICAgfQ0KDQogICAgICAgIC5maWx0ZXItc2VsZWN0ZWQtYnRuOmhvdmVyIHsNCiAgICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLXRhYmxlLWhvdmVyKTsNCiAgICAgICAgfQ0KDQogICAgICAgIC5leHBvcnQtZXhjZWwtYnRuIHsNCiAgICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJnLWRhcmstY29udHJvbHMpOw0KICAgICAgICAgICAgY29sb3I6IHZhcigtLXRleHQtcHJpbWFyeSk7DQogICAgICAgICAgICBib3JkZXI6IG5vbmU7DQogICAgICAgICAgICBwYWRkaW5nOiA4cHggMTZweDsNCiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDhweDsNCiAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjsNCiAgICAgICAgICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7DQogICAgICAgICAgICBmb250LXNpemU6IDAuOXJlbTsNCiAgICAgICAgICAgIGhlaWdodDogNDBweDsNCiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7DQogICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOw0KICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7DQogICAgICAgICAgICBnYXA6IDZweDsNCiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsNCiAgICAgICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7DQogICAgICAgIH0NCg0KICAgICAgICAuZXhwb3J0LWV4Y2VsLWJ0bjpob3ZlciB7DQogICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS10YWJsZS1ob3Zlcik7DQogICAgICAgIH0NCg0KICAgICAgICAuaW1wb3J0LWV4Y2VsLWJ0biB7DQogICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iZy1kYXJrLWNvbnRyb2xzKTsNCiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LXByaW1hcnkpOw0KICAgICAgICAgICAgYm9yZGVyOiBub25lOw0KICAgICAgICAgICAgcGFkZGluZzogOHB4IDE2cHg7DQogICAgICAgICAgICBib3JkZXItcmFkaXVzOiA4cHg7DQogICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7DQogICAgICAgICAgICB3aGl0ZS1zcGFjZTogbm93cmFwOw0KICAgICAgICAgICAgZm9udC1zaXplOiAwLjlyZW07DQogICAgICAgICAgICBoZWlnaHQ6IDQwcHg7DQogICAgICAgICAgICBkaXNwbGF5OiBmbGV4Ow0KICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOw0KICAgICAgICAgICAgZ2FwOiA2cHg7DQogICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7DQogICAgICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMC4zcyBlYXNlOw0KICAgICAgICB9DQoNCiAgICAgICAgLmltcG9ydC1leGNlbC1idG46aG92ZXIgew0KICAgICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tdGFibGUtaG92ZXIpOw0KICAgICAgICB9DQoNCiAgICAgICAgLmNvbnRhaW5lciB7DQogICAgICAgICAgICBkaXNwbGF5OiBmbGV4Ow0KICAgICAgICAgICAgaGVpZ2h0OiBjYWxjKDEwMHZoIC0gMTM1cHgpOw0KICAgICAgICB9DQoNCiAgICAgICAgLnNpZGViYXIgew0KICAgICAgICAgICAgd2lkdGg6IDI4MHB4Ow0KICAgICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmctc2Vjb25kYXJ5KTsNCiAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTsNCiAgICAgICAgICAgIHBhZGRpbmc6IDEuMnJlbTsNCiAgICAgICAgICAgIG92ZXJmbG93LXk6IGF1dG87DQogICAgICAgICAgICBkaXNwbGF5OiBmbGV4Ow0KICAgICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsNCiAgICAgICAgICAgIGJvcmRlci1yaWdodDogMXB4IHNvbGlkIHZhcigtLWJvcmRlci1jb2xvcik7DQogICAgICAgIH0NCg0KICAgICAgICAuc2lkZWJhci1idXR0b25zIHsNCiAgICAgICAgICAgIGZsZXg6IDE7DQogICAgICAgICAgICBvdmVyZmxvdy15OiBhdXRvOw0KICAgICAgICAgICAgcGFkZGluZy1yaWdodDogOHB4Ow0KICAgICAgICB9DQoNCiAgICAgICAgLnNpZGViYXItYnV0dG9uczo6LXdlYmtpdC1zY3JvbGxiYXIgew0KICAgICAgICAgICAgd2lkdGg6IDZweDsNCiAgICAgICAgfQ0KDQogICAgICAgIC5zaWRlYmFyLWJ1dHRvbnM6Oi13ZWJraXQtc2Nyb2xsYmFyLXRyYWNrIHsNCiAgICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJnLXByaW1hcnkpOw0KICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogM3B4Ow0KICAgICAgICB9DQoNCiAgICAgICAgLnNpZGViYXItYnV0dG9uczo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWIgew0KICAgICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmctdGVydGlhcnkpOw0KICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogM3B4Ow0KICAgICAgICB9DQoNCiAgICAgICAgLnNpZGViYXItYnV0dG9uczo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWI6aG92ZXIgew0KICAgICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tdGFibGUtaG92ZXIpOw0KICAgICAgICB9DQoNCiAgICAgICAgLnNpZGViYXItYm90dG9tIHsNCiAgICAgICAgICAgIG1hcmdpbi10b3A6IGF1dG87DQogICAgICAgICAgICBib3JkZXItdG9wOiAxcHggc29saWQgdmFyKC0tYm9yZGVyLWNvbG9yKTsNCiAgICAgICAgICAgIHBhZGRpbmctdG9wOiAxLjJyZW07DQogICAgICAgIH0NCg0KICAgICAgICAuc2lkZWJhciBidXR0b24gew0KICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogNHB4Ow0KICAgICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmctdGVydGlhcnkpOw0KICAgICAgICAgICAgd2lkdGg6IDEwMCU7DQogICAgICAgICAgICBoZWlnaHQ6IDQwcHg7DQogICAgICAgICAgICBkaXNwbGF5OiBmbGV4Ow0KICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOw0KICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlOw0KICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogOHB4Ow0KICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDUwMDsNCiAgICAgICAgICAgIGZvbnQtc2l6ZTogMC45cmVtOw0KICAgICAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTsNCiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsNCiAgICAgICAgICAgIHBhZGRpbmc6IDAgMTVweDsNCiAgICAgICAgfQ0KDQogICAgICAgIC5zaWRlYmFyIGJ1dHRvbjpob3ZlciB7DQogICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1hY2NlbnQtY29sb3IpOw0KICAgICAgICAgICAgdHJhbnNmb3JtOiBzY2FsZSgxLjA1KTsNCiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgNXB4IDE1cHggcmdiYSgyMzAsIDEyNiwgMzQsIDAuMyk7DQogICAgICAgIH0NCg0KICAgICAgICAuY3VzdG9tLWJ1dHRvbi13cmFwcGVyIHsNCiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDRweDsNCiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7DQogICAgICAgICAgICBnYXA6IDRweDsNCiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogICAgICAgIH0NCg0KICAgICAgICAuY3VzdG9tLWJ1dHRvbiB7DQogICAgICAgICAgICBkaXNwbGF5OiBmbGV4Ow0KICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOw0KICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAgICAgICAgICAgIHBhZGRpbmc6IDA7DQogICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iZy10ZXJ0aWFyeSk7DQogICAgICAgICAgICBib3JkZXI6IG5vbmU7DQogICAgICAgICAgICBib3JkZXItcmFkaXVzOiA4cHg7DQogICAgICAgICAgICBjb2xvcjogd2hpdGU7DQogICAgICAgICAgICBmbGV4OiAxOw0KICAgICAgICAgICAgaGVpZ2h0OiA0MHB4Ow0KICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOw0KICAgICAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTsNCiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsNCiAgICAgICAgfQ0KDQogICAgICAgIC5jdXN0b20tYnV0dG9uOmhvdmVyIHsNCiAgICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWFjY2VudC1jb2xvcik7DQogICAgICAgICAgICB0cmFuc2Zvcm06IHNjYWxlKDEuMDUpOw0KICAgICAgICAgICAgYm94LXNoYWRvdzogMCA1cHggMTVweCByZ2JhKDIzMCwgMTI2LCAzNCwgMC4zKTsNCiAgICAgICAgfQ0KDQogICAgICAgIC5idXR0b24tdGV4dCB7DQogICAgICAgICAgICBmbGV4OiAxOw0KICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOw0KICAgICAgICAgICAgcGFkZGluZzogMCAxMnB4Ow0KICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDUwMDsNCiAgICAgICAgICAgIGZvbnQtc2l6ZTogMC45cmVtOw0KICAgICAgICB9DQoNCiAgICAgICAgLmJ1dHRvbi1hY3Rpb25zIHsNCiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7DQogICAgICAgICAgICBnYXA6IDRweDsNCiAgICAgICAgICAgIGZsZXgtc2hyaW5rOiAwOw0KICAgICAgICB9DQoNCiAgICAgICAgLmJ0bi1lZGl0LXNtYWxsIHsNCiAgICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJnLXRlcnRpYXJ5KTsNCiAgICAgICAgICAgIHBhZGRpbmc6IDAuM3JlbSAwLjZyZW07DQogICAgICAgICAgICBmb250LXNpemU6IDAuOHJlbTsNCiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDVweDsNCiAgICAgICAgICAgIGJvcmRlcjogbm9uZTsNCiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LXByaW1hcnkpOw0KICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOw0KICAgICAgICAgICAgaGVpZ2h0OiA0MHB4Ow0KICAgICAgICAgICAgd2lkdGg6IDM2cHg7DQogICAgICAgICAgICBkaXNwbGF5OiBmbGV4Ow0KICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOw0KICAgICAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuMnMgZWFzZTsNCiAgICAgICAgfQ0KDQogICAgICAgIC5idG4tZWRpdC1zbWFsbDpob3ZlciB7DQogICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS10YWJsZS1ob3Zlcik7DQogICAgICAgIH0NCg0KICAgICAgICAuYnRuLWRhbmdlci1zbWFsbCB7DQogICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iZy10ZXJ0aWFyeSk7DQogICAgICAgICAgICBwYWRkaW5nOiAwLjNyZW0gMC42cmVtOw0KICAgICAgICAgICAgZm9udC1zaXplOiAwLjhyZW07DQogICAgICAgICAgICBib3JkZXItcmFkaXVzOiA1cHg7DQogICAgICAgICAgICBib3JkZXI6IG5vbmU7DQogICAgICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1wcmltYXJ5KTsNCiAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjsNCiAgICAgICAgICAgIGhlaWdodDogNDBweDsNCiAgICAgICAgICAgIHdpZHRoOiAzNnB4Ow0KICAgICAgICAgICAgZGlzcGxheTogZmxleDsNCiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsNCiAgICAgICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjJzIGVhc2U7DQogICAgICAgIH0NCg0KICAgICAgICAuYnRuLWRhbmdlci1zbWFsbDpob3ZlciB7DQogICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS10YWJsZS1ob3Zlcik7DQogICAgICAgIH0NCg0KICAgICAgICAuY29udGVudCB7DQogICAgICAgICAgICBmbGV4OiAxOw0KICAgICAgICAgICAgcGFkZGluZzogMS4ycmVtOw0KICAgICAgICAgICAgb3ZlcmZsb3c6IGF1dG87DQogICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7DQogICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iZy1zZWNvbmRhcnkpOw0KICAgICAgICB9DQoNCiAgICAgICAgLnRhYmxlLWNvbnRhaW5lciB7DQogICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7DQogICAgICAgICAgICBvdmVyZmxvdzogYXV0bzsNCiAgICAgICAgICAgIGhlaWdodDogMTAwJTsNCiAgICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLXRhYmxlLWJnKTsNCiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgNXB4IDIwcHggcmdiYSgwLCAwLCAwLCAwLjEpOw0KICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMTJweDsNCiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLXRhYmxlLWJvcmRlcik7DQogICAgICAgIH0NCg0KICAgICAgICAudGFibGUtY29udGFpbmVyOjotd2Via2l0LXNjcm9sbGJhciB7DQogICAgICAgICAgICB3aWR0aDogMTBweDsNCiAgICAgICAgICAgIGhlaWdodDogMTBweDsNCiAgICAgICAgfQ0KDQogICAgICAgIC50YWJsZS1jb250YWluZXI6Oi13ZWJraXQtc2Nyb2xsYmFyLXRyYWNrIHsNCiAgICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJnLXByaW1hcnkpOw0KICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNXB4Ow0KICAgICAgICB9DQoNCiAgICAgICAgLnRhYmxlLWNvbnRhaW5lcjo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWIgew0KICAgICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmctdGVydGlhcnkpOw0KICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNXB4Ow0KICAgICAgICB9DQoNCiAgICAgICAgLnRhYmxlLWNvbnRhaW5lcjo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWI6aG92ZXIgew0KICAgICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tdGFibGUtaG92ZXIpOw0KICAgICAgICB9DQoNCiAgICAgICAgLnRhYmxlLWNvbnRhaW5lciB7DQogICAgICAgICAgICBzY3JvbGxiYXItd2lkdGg6IHRoaW47DQogICAgICAgICAgICBzY3JvbGxiYXItY29sb3I6IHZhcigtLWJnLXRlcnRpYXJ5KSB2YXIoLS1iZy1wcmltYXJ5KTsNCiAgICAgICAgfQ0KDQogICAgICAgIHRhYmxlIHsNCiAgICAgICAgICAgIHdpZHRoOiAxMDAlOw0KICAgICAgICAgICAgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTsNCiAgICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLXRhYmxlLWJnKTsNCiAgICAgICAgfQ0KDQogICAgICAgIHRoLCB0ZCB7DQogICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS10YWJsZS1ib3JkZXIpOw0KICAgICAgICAgICAgcGFkZGluZzogMC40cmVtOw0KICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOw0KICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlOw0KICAgICAgICAgICAgY29sb3I6IHZhcigtLXRleHQtcHJpbWFyeSk7DQogICAgICAgICAgICBmb250LXNpemU6IDAuODVyZW07DQogICAgICAgIH0NCg0KICAgICAgICB0aCB7DQogICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS10YWJsZS1oZWFkZXItYmcpOw0KICAgICAgICAgICAgcG9zaXRpb246IHN0aWNreTsNCiAgICAgICAgICAgIHRvcDogMDsNCiAgICAgICAgICAgIHotaW5kZXg6IDEwOw0KICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOw0KICAgICAgICAgICAgdXNlci1zZWxlY3Q6IG5vbmU7DQogICAgICAgICAgICBwYWRkaW5nOiA4cHggNnB4Ow0KICAgICAgICAgICAgYm94LXNoYWRvdzogMCAycHggNHB4IHJnYmEoMCwwLDAsMC4xKTsNCiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7DQogICAgICAgICAgICBmb250LXNpemU6IDAuOXJlbTsNCiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LXByaW1hcnkpOw0KICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgIzMzMyAhaW1wb3J0YW50Ow0KICAgICAgICB9DQoNCiAgICAgICAgdGg6Zmlyc3QtY2hpbGQgew0KICAgICAgICAgICAgbWluLXdpZHRoOiA1MHB4Ow0KICAgICAgICAgICAgbWF4LXdpZHRoOiA2MHB4Ow0KICAgICAgICAgICAgd2lkdGg6IDUwcHg7DQogICAgICAgIH0NCg0KICAgICAgICB0aDpudGgtY2hpbGQoMikgew0KICAgICAgICAgICAgbWluLXdpZHRoOiA3MHB4Ow0KICAgICAgICAgICAgbWF4LXdpZHRoOiA4MHB4Ow0KICAgICAgICAgICAgd2lkdGg6IDcwcHg7DQogICAgICAgIH0NCg0KICAgICAgICB0aDpsYXN0LWNoaWxkIHsNCiAgICAgICAgICAgIG1pbi13aWR0aDogMTIwcHg7DQogICAgICAgICAgICBtYXgtd2lkdGg6IDIwMHB4Ow0KICAgICAgICAgICAgd2lkdGg6IGF1dG87DQogICAgICAgIH0NCg0KICAgICAgICB0aC5hY3Rpb25zLWhlYWRlciB7DQogICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS10YWJsZS1oZWFkZXItYmcpOw0KICAgICAgICAgICAgcG9zaXRpb246IHN0aWNreTsNCiAgICAgICAgICAgIHRvcDogMDsNCiAgICAgICAgICAgIHotaW5kZXg6IDEwOw0KICAgICAgICAgICAgcGFkZGluZzogOHB4IDRweDsNCiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgMnB4IDRweCByZ2JhKDAsMCwwLDAuMSk7DQogICAgICAgICAgICBmb250LXdlaWdodDogNjAwOw0KICAgICAgICAgICAgZm9udC1zaXplOiAwLjlyZW07DQogICAgICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1zZWNvbmRhcnkpOw0KICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgIzMzMyAhaW1wb3J0YW50Ow0KICAgICAgICB9DQoNCiAgICAgICAgdGguYWN0aW9ucy1oZWFkZXIgLnRoLXRpdGxlIHsNCiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LXNlY29uZGFyeSk7DQogICAgICAgICAgICBmb250LXNpemU6IDE2cHg7DQogICAgICAgICAgICBmb250LXdlaWdodDogYm9sZDsNCiAgICAgICAgfQ0KDQogICAgICAgIHRoLmVkaXRhYmxlLWhlYWRlcjpob3ZlciB7DQogICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS10YWJsZS1ob3Zlcik7DQogICAgICAgIH0NCg0KICAgICAgICB0cjpob3ZlciB7DQogICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS10YWJsZS1ob3Zlcik7DQogICAgICAgIH0NCg0KICAgICAgICAuZWRpdGFibGUgew0KICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOw0KICAgICAgICAgICAgdHJhbnNpdGlvbjogYmFja2dyb3VuZC1jb2xvciAwLjJzOw0KICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlOw0KICAgICAgICB9DQoNCiAgICAgICAgLmVkaXRhYmxlOmhvdmVyIHsNCiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXRhYmxlLWhvdmVyKTsNCiAgICAgICAgfQ0KDQogICAgICAgIC5yb3ctY2hlY2tib3ggew0KICAgICAgICAgICAgd2lkdGg6IDE4cHg7DQogICAgICAgICAgICBoZWlnaHQ6IDE4cHg7DQogICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7DQogICAgICAgIH0NCg0KICAgICAgICAuc2VsZWN0LWFsbC1jaGVja2JveCB7DQogICAgICAgICAgICB3aWR0aDogMThweDsNCiAgICAgICAgICAgIGhlaWdodDogMThweDsNCiAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjsNCiAgICAgICAgfQ0KDQogICAgICAgIC5kZWxldGUtcm93LWJ0biB7DQogICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iZy10ZXJ0aWFyeSk7DQogICAgICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1zZWNvbmRhcnkpOw0KICAgICAgICAgICAgYm9yZGVyOiBub25lOw0KICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNXB4Ow0KICAgICAgICAgICAgcGFkZGluZzogNHB4IDZweDsNCiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTJweDsNCiAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjsNCiAgICAgICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7DQogICAgICAgICAgICBoZWlnaHQ6IDI0cHg7DQogICAgICAgICAgICBkaXNwbGF5OiBmbGV4Ow0KICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOw0KICAgICAgICAgICAgd2lkdGg6IDI0cHg7DQogICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7DQogICAgICAgIH0NCg0KICAgICAgICAuZGVsZXRlLXJvdy1idG46aG92ZXIgew0KICAgICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tdGFibGUtaG92ZXIpOw0KICAgICAgICAgICAgY29sb3I6IHZhcigtLXRleHQtcHJpbWFyeSk7DQogICAgICAgIH0NCg0KICAgICAgICAuZGF0ZS1jZWxsLXdhcm5pbmcgew0KICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyMzAsIDEyNiwgMzQsIDAuMikgIWltcG9ydGFudDsNCiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWFjY2VudC1jb2xvcikgIWltcG9ydGFudDsNCiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LXByaW1hcnkpICFpbXBvcnRhbnQ7DQogICAgICAgIH0NCg0KICAgICAgICAuZGF0ZS1jZWxsLWRhbmdlciB7DQogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDIzMCwgMTI2LCAzNCwgMC40KSAhaW1wb3J0YW50Ow0KICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYWNjZW50LWhvdmVyKSAhaW1wb3J0YW50Ow0KICAgICAgICAgICAgY29sb3I6IHZhcigtLXRleHQtcHJpbWFyeSkgIWltcG9ydGFudDsNCiAgICAgICAgfQ0KDQogICAgICAgIC5kYXRlLWNlbGwtbm9ybWFsIHsNCiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLXRhYmxlLWJvcmRlcikgIWltcG9ydGFudDsNCiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LXByaW1hcnkpICFpbXBvcnRhbnQ7DQogICAgICAgIH0NCg0KICAgICAgICAuZGF0ZS1waWNrZXIgew0KICAgICAgICAgICAgcG9zaXRpb246IGZpeGVkOw0KICAgICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmctc2Vjb25kYXJ5KTsNCiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJvcmRlci1jb2xvcik7DQogICAgICAgICAgICBib3JkZXItcmFkaXVzOiA4cHg7DQogICAgICAgICAgICBwYWRkaW5nOiAxMnB4Ow0KICAgICAgICAgICAgYm94LXNoYWRvdzogMCA4cHggMjVweCByZ2JhKDAsMCwwLDAuMyk7DQogICAgICAgICAgICB6LWluZGV4OiAxMDAwMDsNCiAgICAgICAgICAgIG1pbi13aWR0aDogMjgwcHg7DQogICAgICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1wcmltYXJ5KTsNCiAgICAgICAgfQ0KDQogICAgICAgIC5kYXRlLXBpY2tlci1oZWFkZXIgew0KICAgICAgICAgICAgZGlzcGxheTogZmxleDsNCiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsNCiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxMnB4Ow0KICAgICAgICAgICAgcGFkZGluZzogNnB4Ow0KICAgICAgICB9DQoNCiAgICAgICAgLm1vbnRoLW5hdi1idG4gew0KICAgICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmctdGVydGlhcnkpOw0KICAgICAgICAgICAgYm9yZGVyOiBub25lOw0KICAgICAgICAgICAgZm9udC1zaXplOiAxNnB4Ow0KICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOw0KICAgICAgICAgICAgcGFkZGluZzogNnB4IDEycHg7DQogICAgICAgICAgICBib3JkZXItcmFkaXVzOiA1cHg7DQogICAgICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1wcmltYXJ5KTsNCiAgICAgICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjJzIGVhc2U7DQogICAgICAgIH0NCg0KICAgICAgICAubW9udGgtbmF2LWJ0bjpob3ZlciB7DQogICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1hY2NlbnQtY29sb3IpICFpbXBvcnRhbnQ7DQogICAgICAgICAgICBjb2xvcjogd2hpdGU7DQogICAgICAgIH0NCg0KICAgICAgICAuZGF0ZS1waWNrZXItZ3JpZCB7DQogICAgICAgICAgICBkaXNwbGF5OiBncmlkOw0KICAgICAgICAgICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoNywgMWZyKTsNCiAgICAgICAgICAgIGdhcDogM3B4Ow0KICAgICAgICB9DQoNCiAgICAgICAgLmRhdGUtcGlja2VyLWRheSB7DQogICAgICAgICAgICBwYWRkaW5nOiAxMHB4IDZweDsNCiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsNCiAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjsNCiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDVweDsNCiAgICAgICAgICAgIGJvcmRlcjogbm9uZTsNCiAgICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJnLXRlcnRpYXJ5KTsNCiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LXByaW1hcnkpOw0KICAgICAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuMnMgZWFzZTsNCiAgICAgICAgfQ0KDQogICAgICAgIC5kYXRlLXBpY2tlci1kYXk6aG92ZXIgew0KICAgICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYWNjZW50LWNvbG9yKSAhaW1wb3J0YW50Ow0KICAgICAgICAgICAgY29sb3I6IHdoaXRlOw0KICAgICAgICB9DQoNCiAgICAgICAgLmRhdGUtcGlja2VyLWRheS5zZWxlY3RlZCB7DQogICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1hY2NlbnQtY29sb3IpOw0KICAgICAgICAgICAgY29sb3I6IHdoaXRlOw0KICAgICAgICB9DQoNCiAgICAgICAgLmRhdGUtcGlja2VyLWRheS50b2RheSB7DQogICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iZy10ZXJ0aWFyeSk7DQogICAgICAgICAgICBmb250LXdlaWdodDogYm9sZDsNCiAgICAgICAgfQ0KDQogICAgICAgIC5ub3RpZmljYXRpb24tcGFuZWwgew0KICAgICAgICAgICAgcG9zaXRpb246IGZpeGVkOw0KICAgICAgICAgICAgdG9wOiAyMHB4Ow0KICAgICAgICAgICAgcmlnaHQ6IDIwcHg7DQogICAgICAgICAgICB3aWR0aDogNDIwcHg7DQogICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iZy1zZWNvbmRhcnkpOw0KICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYm9yZGVyLWNvbG9yKTsNCiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7DQogICAgICAgICAgICBib3gtc2hhZG93OiAwIDhweCAyNXB4IHJnYmEoMCwwLDAsMC4zKTsNCiAgICAgICAgICAgIHotaW5kZXg6IDEwMDAwOw0KICAgICAgICAgICAgbWF4LWhlaWdodDogODB2aDsNCiAgICAgICAgICAgIG92ZXJmbG93LXk6IGF1dG87DQogICAgICAgIH0NCg0KICAgICAgICAubm90aWZpY2F0aW9uLWhlYWRlciB7DQogICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iZy10ZXJ0aWFyeSk7DQogICAgICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1wcmltYXJ5KTsNCiAgICAgICAgICAgIHBhZGRpbmc6IDE0cHggMThweDsNCiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDEwcHggMTBweCAwIDA7DQogICAgICAgICAgICBkaXNwbGF5OiBmbGV4Ow0KICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOw0KICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAgICAgICAgfQ0KDQogICAgICAgIC5ub3RpZmljYXRpb24tY29udGVudCB7DQogICAgICAgICAgICBwYWRkaW5nOiAxOHB4Ow0KICAgICAgICB9DQoNCiAgICAgICAgLm5vdGlmaWNhdGlvbi1pdGVtIHsNCiAgICAgICAgICAgIHBhZGRpbmc6IDEycHg7DQogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxMHB4Ow0KICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNnB4Ow0KICAgICAgICAgICAgYm9yZGVyLWxlZnQ6IDRweCBzb2xpZCB2YXIoLS1iZy10ZXJ0aWFyeSk7DQogICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iZy1wcmltYXJ5KTsNCiAgICAgICAgfQ0KDQogICAgICAgIC5ub3RpZmljYXRpb24taXRlbS53YXJuaW5nIHsNCiAgICAgICAgICAgIGJvcmRlci1sZWZ0LWNvbG9yOiB2YXIoLS1hY2NlbnQtY29sb3IpOw0KICAgICAgICAgICAgYmFja2dyb3VuZDogcmdiYSgyMzAsIDEyNiwgMzQsIDAuMik7DQogICAgICAgIH0NCg0KICAgICAgICAubm90aWZpY2F0aW9uLWl0ZW0uZGFuZ2VyIHsNCiAgICAgICAgICAgIGJvcmRlci1sZWZ0LWNvbG9yOiB2YXIoLS1hY2NlbnQtaG92ZXIpOw0KICAgICAgICAgICAgYmFja2dyb3VuZDogcmdiYSgyMTEsIDg0LCAwLCAwLjMpOw0KICAgICAgICB9DQoNCiAgICAgICAgLmNsb3NlLW5vdGlmaWNhdGlvbnMgew0KICAgICAgICAgICAgYmFja2dyb3VuZDogbm9uZTsNCiAgICAgICAgICAgIGJvcmRlcjogbm9uZTsNCiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LXByaW1hcnkpOw0KICAgICAgICAgICAgZm9udC1zaXplOiAyMHB4Ow0KICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOw0KICAgICAgICAgICAgcGFkZGluZzogNHB4Ow0KICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4Ow0KICAgICAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuMnMgZWFzZTsNCiAgICAgICAgfQ0KDQogICAgICAgIC5jbG9zZS1ub3RpZmljYXRpb25zOmhvdmVyIHsNCiAgICAgICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMjU1LDI1NSwyNTUsMC4yKTsNCiAgICAgICAgfQ0KDQogICAgICAgIC5jZWxsLWNvbnRlbnQgew0KICAgICAgICAgICAgZGlzcGxheTogZmxleDsNCiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47DQogICAgICAgICAgICBtaW4taGVpZ2h0OiAyMHB4Ow0KICAgICAgICB9DQoNCiAgICAgICAgLmNlbGwtdGV4dCB7DQogICAgICAgICAgICBmbGV4OiAxOw0KICAgICAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjsNCiAgICAgICAgICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzOw0KICAgICAgICAgICAgd2hpdGUtc3BhY2U6IG5vd3JhcDsNCiAgICAgICAgICAgIHBhZGRpbmc6IDAgNHB4Ow0KICAgICAgICB9DQoNCiAgICAgICAgLmZpbGUtaWNvbnMgew0KICAgICAgICAgICAgZGlzcGxheTogZmxleDsNCiAgICAgICAgICAgIGdhcDogNHB4Ow0KICAgICAgICAgICAgZmxleC1zaHJpbms6IDA7DQogICAgICAgIH0NCg0KICAgICAgICAuZmlsZS1pY29uLXNtYWxsIHsNCiAgICAgICAgICAgIHdpZHRoOiAyMHB4Ow0KICAgICAgICAgICAgaGVpZ2h0OiAyMHB4Ow0KICAgICAgICAgICAgZm9udC1zaXplOiAxMHB4Ow0KICAgICAgICAgICAgZGlzcGxheTogZmxleDsNCiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsNCiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDsNCiAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjsNCiAgICAgICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjJzIGVhc2U7DQogICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iZy10ZXJ0aWFyeSk7DQogICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS10YWJsZS1ib3JkZXIpOw0KICAgICAgICAgICAgY29sb3I6IHZhcigtLXRleHQtc2Vjb25kYXJ5KTsNCiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsNCiAgICAgICAgfQ0KDQogICAgICAgIC5maWxlLWljb24tc21hbGw6aG92ZXIgew0KICAgICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tdGFibGUtaG92ZXIpOw0KICAgICAgICAgICAgY29sb3I6IHZhcigtLXRleHQtcHJpbWFyeSk7DQogICAgICAgIH0NCg0KICAgICAgICAudGgtY29udGVudCB7DQogICAgICAgICAgICBkaXNwbGF5OiBmbGV4Ow0KICAgICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsNCiAgICAgICAgICAgIGhlaWdodDogMTAwJTsNCiAgICAgICAgfQ0KDQogICAgICAgIC50aC1tYWluIHsNCiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7DQogICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47DQogICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOw0KICAgICAgICAgICAgbWluLWhlaWdodDogMjBweDsNCiAgICAgICAgfQ0KDQogICAgICAgIC50aC10aXRsZSB7DQogICAgICAgICAgICBmbGV4OiAxOw0KICAgICAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjsNCiAgICAgICAgICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzOw0KICAgICAgICAgICAgd2hpdGUtc3BhY2U6IG5vd3JhcDsNCiAgICAgICAgICAgIHBhZGRpbmc6IDJweCA0cHg7DQogICAgICAgICAgICBmb250LXdlaWdodDogNjAwOw0KICAgICAgICAgICAgZm9udC1zaXplOiAwLjg1cmVtOw0KICAgICAgICAgICAgY29sb3I6IHZhcigtLXRleHQtcHJpbWFyeSk7DQogICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7DQogICAgICAgIH0NCg0KICAgICAgICAuZmlsdGVyLWNvbnRyb2xzIHsNCiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7DQogICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOw0KICAgICAgICAgICAgZ2FwOiAzcHg7DQogICAgICAgICAgICBmbGV4LXNocmluazogMDsNCiAgICAgICAgfQ0KDQogICAgICAgIC5zb3J0LWJ0biB7DQogICAgICAgICAgICBiYWNrZ3JvdW5kOiBub25lOw0KICAgICAgICAgICAgYm9yZGVyOiBub25lOw0KICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOw0KICAgICAgICAgICAgcGFkZGluZzogM3B4Ow0KICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogM3B4Ow0KICAgICAgICAgICAgY29sb3I6IHZhcigtLXRleHQtc2Vjb25kYXJ5KTsNCiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTNweDsNCiAgICAgICAgICAgIHdpZHRoOiAxOHB4Ow0KICAgICAgICAgICAgaGVpZ2h0OiAxOHB4Ow0KICAgICAgICAgICAgZGlzcGxheTogZmxleDsNCiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsNCiAgICAgICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjJzIGVhc2U7DQogICAgICAgIH0NCg0KICAgICAgICAuc29ydC1idG46aG92ZXIgew0KICAgICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tdGFibGUtaG92ZXIpOw0KICAgICAgICAgICAgY29sb3I6IHZhcigtLXRleHQtcHJpbWFyeSk7DQogICAgICAgIH0NCg0KICAgICAgICAuZmlsdGVyLWJ0biB7DQogICAgICAgICAgICBiYWNrZ3JvdW5kOiBub25lOw0KICAgICAgICAgICAgYm9yZGVyOiBub25lOw0KICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOw0KICAgICAgICAgICAgcGFkZGluZzogM3B4Ow0KICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogM3B4Ow0KICAgICAgICAgICAgY29sb3I6IHZhcigtLXRleHQtc2Vjb25kYXJ5KTsNCiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTNweDsNCiAgICAgICAgICAgIHdpZHRoOiAxOHB4Ow0KICAgICAgICAgICAgaGVpZ2h0OiAxOHB4Ow0KICAgICAgICAgICAgZGlzcGxheTogZmxleDsNCiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsNCiAgICAgICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjJzIGVhc2U7DQogICAgICAgIH0NCg0KICAgICAgICAuZmlsdGVyLWJ0bjpob3ZlciB7DQogICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS10YWJsZS1ob3Zlcik7DQogICAgICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1wcmltYXJ5KTsNCiAgICAgICAgfQ0KDQogICAgICAgIC5maWx0ZXItYnRuLmFjdGl2ZSB7DQogICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS10YWJsZS1ob3Zlcik7DQogICAgICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1wcmltYXJ5KTsNCiAgICAgICAgfQ0KDQogICAgICAgIC5maWx0ZXItYnRuLmZpbHRlcmVkIHsNCiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS1hY2NlbnQtY29sb3IpOw0KICAgICAgICB9DQoNCiAgICAgICAgLmZpbHRlci1kcm9wZG93biB7DQogICAgICAgICAgICBwb3NpdGlvbjogZml4ZWQ7DQogICAgICAgICAgICB0b3A6IDA7DQogICAgICAgICAgICBsZWZ0OiAwOw0KICAgICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmctc2Vjb25kYXJ5KTsNCiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJvcmRlci1jb2xvcik7DQogICAgICAgICAgICBib3JkZXItcmFkaXVzOiA2cHg7DQogICAgICAgICAgICBwYWRkaW5nOiAxMHB4Ow0KICAgICAgICAgICAgYm94LXNoYWRvdzogMCA1cHggMjBweCByZ2JhKDAsMCwwLDAuMyk7DQogICAgICAgICAgICB6LWluZGV4OiAxMDAwMDsNCiAgICAgICAgICAgIG1pbi13aWR0aDogMjQwcHg7DQogICAgICAgICAgICBtYXgtd2lkdGg6IDMyMHB4Ow0KICAgICAgICAgICAgbWF4LWhlaWdodDogNDIwcHg7DQogICAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuOw0KICAgICAgICAgICAgZm9udC1mYW1pbHk6ICdTZWdvZSBVSScsIHNhbnMtc2VyaWY7DQogICAgICAgICAgICBmb250LXNpemU6IDE0cHg7DQogICAgICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1wcmltYXJ5KTsNCiAgICAgICAgfQ0KDQogICAgICAgIC5maWx0ZXItaGVhZGVyIHsNCiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7DQogICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47DQogICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOw0KICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMTBweDsNCiAgICAgICAgICAgIHBhZGRpbmctYm90dG9tOiA4cHg7DQogICAgICAgICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgdmFyKC0tYm9yZGVyLWNvbG9yKTsNCiAgICAgICAgfQ0KDQogICAgICAgIC5maWx0ZXItdGl0bGUgew0KICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDsNCiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LXByaW1hcnkpOw0KICAgICAgICAgICAgZm9udC1zaXplOiAxNHB4Ow0KICAgICAgICB9DQoNCiAgICAgICAgLmZpbHRlci1jbG9zZSB7DQogICAgICAgICAgICBiYWNrZ3JvdW5kOiBub25lOw0KICAgICAgICAgICAgYm9yZGVyOiBub25lOw0KICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOw0KICAgICAgICAgICAgZm9udC1zaXplOiAxOHB4Ow0KICAgICAgICAgICAgY29sb3I6IHZhcigtLXRleHQtc2Vjb25kYXJ5KTsNCiAgICAgICAgICAgIHBhZGRpbmc6IDA7DQogICAgICAgICAgICB3aWR0aDogMjRweDsNCiAgICAgICAgICAgIGhlaWdodDogMjRweDsNCiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7DQogICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOw0KICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7DQogICAgICAgICAgICBib3JkZXItcmFkaXVzOiAzcHg7DQogICAgICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMC4ycyBlYXNlOw0KICAgICAgICB9DQoNCiAgICAgICAgLmZpbHRlci1jbG9zZTpob3ZlciB7DQogICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iZy10ZXJ0aWFyeSk7DQogICAgICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1wcmltYXJ5KTsNCiAgICAgICAgfQ0KDQogICAgICAgIC5maWx0ZXItc2VhcmNoIHsNCiAgICAgICAgICAgIHdpZHRoOiAxMDAlOw0KICAgICAgICAgICAgcGFkZGluZzogOHB4IDEwcHg7DQogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxMHB4Ow0KICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYm9yZGVyLWNvbG9yKTsNCiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDVweDsNCiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTNweDsNCiAgICAgICAgICAgIG91dGxpbmU6IG5vbmU7DQogICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iZy1wcmltYXJ5KTsNCiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LXByaW1hcnkpOw0KICAgICAgICB9DQoNCiAgICAgICAgLmZpbHRlci1zZWFyY2g6Zm9jdXMgew0KICAgICAgICAgICAgYm9yZGVyLWNvbG9yOiB2YXIoLS1hY2NlbnQtY29sb3IpOw0KICAgICAgICAgICAgYm94LXNoYWRvdzogMCAwIDAgMnB4IHJnYmEoMjMwLCAxMjYsIDM0LCAwLjIpOw0KICAgICAgICB9DQoNCiAgICAgICAgLmZpbHRlci1zZWFyY2g6OnBsYWNlaG9sZGVyIHsNCiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LXNlY29uZGFyeSk7DQogICAgICAgIH0NCg0KICAgICAgICAuZmlsdGVyLW9wdGlvbnMgew0KICAgICAgICAgICAgbWF4LWhlaWdodDogMjIwcHg7DQogICAgICAgICAgICBvdmVyZmxvdy15OiBhdXRvOw0KICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYm9yZGVyLWNvbG9yKTsNCiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDVweDsNCiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDEwcHg7DQogICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iZy1wcmltYXJ5KTsNCiAgICAgICAgfQ0KDQogICAgICAgIC5maWx0ZXItb3B0aW9uczo6LXdlYmtpdC1zY3JvbGxiYXIgew0KICAgICAgICAgICAgd2lkdGg6IDhweDsNCiAgICAgICAgfQ0KDQogICAgICAgIC5maWx0ZXItb3B0aW9uczo6LXdlYmtpdC1zY3JvbGxiYXItdHJhY2sgew0KICAgICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmctc2Vjb25kYXJ5KTsNCiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDsNCiAgICAgICAgfQ0KDQogICAgICAgIC5maWx0ZXItb3B0aW9uczo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWIgew0KICAgICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmctdGVydGlhcnkpOw0KICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4Ow0KICAgICAgICB9DQoNCiAgICAgICAgLmZpbHRlci1vcHRpb25zOjotd2Via2l0LXNjcm9sbGJhci10aHVtYjpob3ZlciB7DQogICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS10YWJsZS1ob3Zlcik7DQogICAgICAgIH0NCg0KICAgICAgICAuZmlsdGVyLW9wdGlvbiB7DQogICAgICAgICAgICBkaXNwbGF5OiBmbGV4Ow0KICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAgICAgICAgICAgIGdhcDogOHB4Ow0KICAgICAgICAgICAgcGFkZGluZzogOHB4IDEwcHg7DQogICAgICAgICAgICBmb250LXNpemU6IDEzcHg7DQogICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7DQogICAgICAgICAgICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIDAuMXM7DQogICAgICAgICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgdmFyKC0tYmctc2Vjb25kYXJ5KTsNCiAgICAgICAgfQ0KDQogICAgICAgIC5maWx0ZXItb3B0aW9uOmhvdmVyIHsNCiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWJnLXRlcnRpYXJ5KTsNCiAgICAgICAgfQ0KDQogICAgICAgIC5maWx0ZXItb3B0aW9uIGlucHV0W3R5cGU9ImNoZWNrYm94Il0gew0KICAgICAgICAgICAgbWFyZ2luOiAwOw0KICAgICAgICAgICAgd2lkdGg6IDE2cHg7DQogICAgICAgICAgICBoZWlnaHQ6IDE2cHg7DQogICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7DQogICAgICAgIH0NCg0KICAgICAgICAuZmlsdGVyLW9wdGlvbiBsYWJlbCB7DQogICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7DQogICAgICAgICAgICBmbGV4OiAxOw0KICAgICAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjsNCiAgICAgICAgICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzOw0KICAgICAgICAgICAgd2hpdGUtc3BhY2U6IG5vd3JhcDsNCiAgICAgICAgfQ0KDQogICAgICAgIC5maWx0ZXItYWN0aW9ucyB7DQogICAgICAgICAgICBkaXNwbGF5OiBmbGV4Ow0KICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOw0KICAgICAgICAgICAgZ2FwOiA4cHg7DQogICAgICAgIH0NCg0KICAgICAgICAuZmlsdGVyLWFjdGlvbnMgYnV0dG9uIHsNCiAgICAgICAgICAgIGZsZXg6IDE7DQogICAgICAgICAgICBwYWRkaW5nOiA4cHggMTJweDsNCiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTNweDsNCiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJvcmRlci1jb2xvcik7DQogICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iZy10ZXJ0aWFyeSk7DQogICAgICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1wcmltYXJ5KTsNCiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDVweDsNCiAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjsNCiAgICAgICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjJzIGVhc2U7DQogICAgICAgICAgICBoZWlnaHQ6IDM2cHg7DQogICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7DQogICAgICAgIH0NCg0KICAgICAgICAuZmlsdGVyLWFjdGlvbnMgYnV0dG9uOmhvdmVyIHsNCiAgICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLXRhYmxlLWhvdmVyKTsNCiAgICAgICAgICAgIGJvcmRlci1jb2xvcjogdmFyKC0tdGFibGUtaG92ZXIpOw0KICAgICAgICB9DQoNCiAgICAgICAgLmZpbHRlci1hY3Rpb25zIC5idG4tcHJpbWFyeSB7DQogICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iZy10ZXJ0aWFyeSk7DQogICAgICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1wcmltYXJ5KTsNCiAgICAgICAgICAgIGJvcmRlci1jb2xvcjogdmFyKC0tYm9yZGVyLWNvbG9yKTsNCiAgICAgICAgfQ0KDQogICAgICAgIC5maWx0ZXItYWN0aW9ucyAuYnRuLXByaW1hcnk6aG92ZXIgew0KICAgICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tdGFibGUtaG92ZXIpOw0KICAgICAgICAgICAgYm9yZGVyLWNvbG9yOiB2YXIoLS10YWJsZS1ob3Zlcik7DQogICAgICAgIH0NCg0KICAgICAgICAuZmlsdGVyLWNvdW50IHsNCiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTJweDsNCiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LXNlY29uZGFyeSk7DQogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiA4cHg7DQogICAgICAgIH0NCg0KICAgICAgICAuc29ydC1pbmRpY2F0b3Igew0KICAgICAgICAgICAgbWFyZ2luLWxlZnQ6IDRweDsNCiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTFweDsNCiAgICAgICAgfQ0KDQogICAgICAgIC5zb3J0LWFzYyAuc29ydC1pbmRpY2F0b3I6OmFmdGVyIHsNCiAgICAgICAgICAgIGNvbnRlbnQ6ICLihpEiOw0KICAgICAgICB9DQoNCiAgICAgICAgLnNvcnQtZGVzYyAuc29ydC1pbmRpY2F0b3I6OmFmdGVyIHsNCiAgICAgICAgICAgIGNvbnRlbnQ6ICLihpMiOw0KICAgICAgICB9DQoNCiAgICAgICAgLm1vZGFsIHsNCiAgICAgICAgICAgIGRpc3BsYXk6IG5vbmU7DQogICAgICAgICAgICBwb3NpdGlvbjogZml4ZWQ7DQogICAgICAgICAgICB0b3A6IDA7DQogICAgICAgICAgICBsZWZ0OiAwOw0KICAgICAgICAgICAgd2lkdGg6IDEwMCU7DQogICAgICAgICAgICBoZWlnaHQ6IDEwMCU7DQogICAgICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIDAuNyk7DQogICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsNCiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogICAgICAgICAgICB6LWluZGV4OiAxMDAwOw0KICAgICAgICB9DQoNCiAgICAgICAgLm1vZGFsLWNvbnRlbnQgew0KICAgICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmctc2Vjb25kYXJ5KTsNCiAgICAgICAgICAgIHBhZGRpbmc6IDIuNXJlbTsNCiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDEycHg7DQogICAgICAgICAgICB3aWR0aDogOTAlOw0KICAgICAgICAgICAgbWF4LXdpZHRoOiA4NTBweDsNCiAgICAgICAgICAgIG1heC1oZWlnaHQ6IDkwdmg7DQogICAgICAgICAgICBvdmVyZmxvdy15OiBhdXRvOw0KICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYm9yZGVyLWNvbG9yKTsNCiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgMjBweCA0MHB4IHJnYmEoMCwwLDAsMC40KTsNCiAgICAgICAgfQ0KDQogICAgICAgIC5tb2RhbC1oZWFkZXIgew0KICAgICAgICAgICAgZGlzcGxheTogZmxleDsNCiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsNCiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxLjhyZW07DQogICAgICAgICAgICBwYWRkaW5nLWJvdHRvbTogMXJlbTsNCiAgICAgICAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB2YXIoLS1ib3JkZXItY29sb3IpOw0KICAgICAgICB9DQoNCiAgICAgICAgLm1vZGFsLWhlYWRlciBoMyB7DQogICAgICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1wcmltYXJ5KTsNCiAgICAgICAgICAgIGZvbnQtc2l6ZTogMS41cmVtOw0KICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDsNCiAgICAgICAgfQ0KDQogICAgICAgIC5jbG9zZSB7DQogICAgICAgICAgICBmb250LXNpemU6IDEuOHJlbTsNCiAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjsNCiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LXNlY29uZGFyeSk7DQogICAgICAgICAgICBwYWRkaW5nOiA1cHg7DQogICAgICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7DQogICAgICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMC4ycyBlYXNlOw0KICAgICAgICB9DQoNCiAgICAgICAgLmNsb3NlOmhvdmVyIHsNCiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LXByaW1hcnkpOw0KICAgICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmctdGVydGlhcnkpOw0KICAgICAgICB9DQoNCiAgICAgICAgLmZvcm0tcm93IHsNCiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7DQogICAgICAgICAgICBnYXA6IDEycHg7DQogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxLjJyZW07DQogICAgICAgIH0NCg0KICAgICAgICAuZm9ybS1yb3cgaW5wdXQgew0KICAgICAgICAgICAgZmxleDogMTsNCiAgICAgICAgICAgIHBhZGRpbmc6IDAuOXJlbTsNCiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJvcmRlci1jb2xvcik7DQogICAgICAgICAgICBib3JkZXItcmFkaXVzOiA4cHg7DQogICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iZy1wcmltYXJ5KTsNCiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LXByaW1hcnkpOw0KICAgICAgICB9DQoNCiAgICAgICAgLmFkbWluLW9ubHkgew0KICAgICAgICAgICAgZGlzcGxheTogbm9uZTsNCiAgICAgICAgfQ0KDQogICAgICAgIC5hZG1pbiAuYWRtaW4tb25seSB7DQogICAgICAgICAgICBkaXNwbGF5OiBibG9jazsNCiAgICAgICAgfQ0KDQogICAgICAgIC51c2VyLW9ubHkgew0KICAgICAgICAgICAgZGlzcGxheTogYmxvY2s7DQogICAgICAgIH0NCg0KICAgICAgICAuYWRtaW4gLnVzZXItb25seSB7DQogICAgICAgICAgICBkaXNwbGF5OiBub25lOw0KICAgICAgICB9DQoNCiAgICAgICAgLnVzZXItbGlzdCB7DQogICAgICAgICAgICBtYXJnaW4tdG9wOiAxLjJyZW07DQogICAgICAgIH0NCg0KICAgICAgICAudXNlci1pdGVtIHsNCiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7DQogICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47DQogICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOw0KICAgICAgICAgICAgcGFkZGluZzogMXJlbTsNCiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJvcmRlci1jb2xvcik7DQogICAgICAgICAgICBib3JkZXItcmFkaXVzOiA4cHg7DQogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAwLjhyZW07DQogICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iZy1wcmltYXJ5KTsNCiAgICAgICAgfQ0KDQogICAgICAgIC51c2VyLWFjdGlvbnMgew0KICAgICAgICAgICAgZGlzcGxheTogZmxleDsNCiAgICAgICAgICAgIGdhcDogNnB4Ow0KICAgICAgICB9DQoNCiAgICAgICAgLmJ0bi1kYW5nZXIgew0KICAgICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmctdGVydGlhcnkpOw0KICAgICAgICB9DQoNCiAgICAgICAgLmJ0bi1kYW5nZXI6aG92ZXIgew0KICAgICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tdGFibGUtaG92ZXIpOw0KICAgICAgICB9DQoNCiAgICAgICAgLmJ0bi1lZGl0IHsNCiAgICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJnLXRlcnRpYXJ5KTsNCiAgICAgICAgfQ0KDQogICAgICAgIC5idG4tZWRpdDpob3ZlciB7DQogICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS10YWJsZS1ob3Zlcik7DQogICAgICAgIH0NCg0KICAgICAgICAuZmlsZS11cGxvYWQtYXJlYSB7DQogICAgICAgICAgICBib3JkZXI6IDJweCBkYXNoZWQgdmFyKC0tYm9yZGVyLWNvbG9yKTsNCiAgICAgICAgICAgIHBhZGRpbmc6IDEuNXJlbTsNCiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsNCiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDEuMnJlbTsNCiAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjsNCiAgICAgICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7DQogICAgICAgICAgICBib3JkZXItcmFkaXVzOiA4cHg7DQogICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iZy1wcmltYXJ5KTsNCiAgICAgICAgfQ0KDQogICAgICAgIC5maWxlLXVwbG9hZC1hcmVhOmhvdmVyIHsNCiAgICAgICAgICAgIGJvcmRlci1jb2xvcjogdmFyKC0tYWNjZW50LWNvbG9yKTsNCiAgICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJnLXNlY29uZGFyeSk7DQogICAgICAgIH0NCg0KICAgICAgICAuYXR0YWNoZWQtZmlsZXMgew0KICAgICAgICAgICAgbWFyZ2luLXRvcDogMS4ycmVtOw0KICAgICAgICB9DQoNCiAgICAgICAgLmF0dGFjaGVkLWZpbGUgew0KICAgICAgICAgICAgZGlzcGxheTogZmxleDsNCiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsNCiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogICAgICAgICAgICBwYWRkaW5nOiAwLjhyZW07DQogICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iZy1wcmltYXJ5KTsNCiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDZweDsNCiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDAuNnJlbTsNCiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJvcmRlci1jb2xvcik7DQogICAgICAgIH0NCg0KICAgICAgICAuZWRpdC1jZWxsLWNvbnRlbnQgew0KICAgICAgICAgICAgbWluLWhlaWdodDogMTIwcHg7DQogICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1ib3JkZXItY29sb3IpOw0KICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogOHB4Ow0KICAgICAgICAgICAgcGFkZGluZzogMC45cmVtOw0KICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMS4ycmVtOw0KICAgICAgICAgICAgd2lkdGg6IDEwMCU7DQogICAgICAgICAgICByZXNpemU6IHZlcnRpY2FsOw0KICAgICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmctcHJpbWFyeSk7DQogICAgICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1wcmltYXJ5KTsNCiAgICAgICAgICAgIGZvbnQtZmFtaWx5OiBpbmhlcml0Ow0KICAgICAgICB9DQoNCiAgICAgICAgLnByZXZpZXctY29udGVudCB7DQogICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7DQogICAgICAgICAgICBtYXJnaW46IDEuMnJlbSAwOw0KICAgICAgICB9DQoNCiAgICAgICAgLnByZXZpZXctaW1hZ2Ugew0KICAgICAgICAgICAgbWF4LXdpZHRoOiAxMDAlOw0KICAgICAgICAgICAgbWF4LWhlaWdodDogNDUwcHg7DQogICAgICAgICAgICBib3JkZXItcmFkaXVzOiA4cHg7DQogICAgICAgICAgICBib3gtc2hhZG93OiAwIDhweCAyMHB4IHJnYmEoMCwwLDAsMC4zKTsNCiAgICAgICAgfQ0KDQogICAgICAgIC5wcmV2aWV3LWRvY3VtZW50IHsNCiAgICAgICAgICAgIHdpZHRoOiAxMDAlOw0KICAgICAgICAgICAgaGVpZ2h0OiA1NTBweDsNCiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJvcmRlci1jb2xvcik7DQogICAgICAgICAgICBib3JkZXItcmFkaXVzOiA4cHg7DQogICAgICAgIH0NCg0KICAgICAgICAucHJldmlldy1hY3Rpb25zIHsNCiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7DQogICAgICAgICAgICBnYXA6IDEycHg7DQogICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsNCiAgICAgICAgICAgIG1hcmdpbi10b3A6IDEuMnJlbTsNCiAgICAgICAgfQ0KDQogICAgICAgIC5wcmV2aWV3LWFjdGlvbnMgYnV0dG9uIHsNCiAgICAgICAgICAgIHBhZGRpbmc6IDAuOHJlbSAxLjVyZW07DQogICAgICAgIH0NCg0KICAgICAgICAuYnRuLXN1Y2Nlc3Mgew0KICAgICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmctdGVydGlhcnkpOw0KICAgICAgICB9DQoNCiAgICAgICAgLmJ0bi1zdWNjZXNzOmhvdmVyIHsNCiAgICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLXRhYmxlLWhvdmVyKTsNCiAgICAgICAgfQ0KDQogICAgICAgIC5idG4tc2Vjb25kYXJ5IHsNCiAgICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJnLXRlcnRpYXJ5KTsNCiAgICAgICAgfQ0KDQogICAgICAgIC5idG4tc2Vjb25kYXJ5OmhvdmVyIHsNCiAgICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLXRhYmxlLWhvdmVyKTsNCiAgICAgICAgfQ0KDQogICAgICAgIC5maWxlLWluZm8gew0KICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOw0KICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMS4ycmVtOw0KICAgICAgICAgICAgcGFkZGluZzogMS4ycmVtOw0KICAgICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmctcHJpbWFyeSk7DQogICAgICAgICAgICBib3JkZXItcmFkaXVzOiA4cHg7DQogICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1ib3JkZXItY29sb3IpOw0KICAgICAgICB9DQoNCiAgICAgICAgI2FkZC1yb3ctYnRuIHsNCiAgICAgICAgICAgIHBvc2l0aW9uOiBmaXhlZDsNCiAgICAgICAgICAgIGxlZnQ6IDVweDsNCiAgICAgICAgICAgIGJvdHRvbTogNXB4Ow0KICAgICAgICAgICAgd2lkdGg6IDFweCAhaW1wb3J0YW50Ow0KICAgICAgICAgICAgaGVpZ2h0OiAxcHggIWltcG9ydGFudDsNCiAgICAgICAgICAgIG1pbi13aWR0aDogMXB4ICFpbXBvcnRhbnQ7DQogICAgICAgICAgICBtaW4taGVpZ2h0OiAxcHggIWltcG9ydGFudDsNCiAgICAgICAgICAgIHBhZGRpbmc6IDAgIWltcG9ydGFudDsNCiAgICAgICAgICAgIG1hcmdpbjogMCAhaW1wb3J0YW50Ow0KICAgICAgICAgICAgZm9udC1zaXplOiAwICFpbXBvcnRhbnQ7DQogICAgICAgICAgICBvcGFjaXR5OiAwLjE7DQogICAgICAgICAgICB6LWluZGV4OiA5OTk5Ow0KICAgICAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjsNCiAgICAgICAgICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50ICFpbXBvcnRhbnQ7DQogICAgICAgICAgICBib3JkZXI6IG5vbmUgIWltcG9ydGFudDsNCiAgICAgICAgICAgIGJveC1zaGFkb3c6IG5vbmUgIWltcG9ydGFudDsNCiAgICAgICAgfQ0KDQogICAgICAgIC5hZG1pbiAjYWRkLXJvdy1idG4gew0KICAgICAgICAgICAgcG9zaXRpb246IHN0YXRpYzsNCiAgICAgICAgICAgIHdpZHRoOiAxMDAlICFpbXBvcnRhbnQ7DQogICAgICAgICAgICBoZWlnaHQ6IDQwcHggIWltcG9ydGFudDsNCiAgICAgICAgICAgIG1pbi13aWR0aDogYXV0byAhaW1wb3J0YW50Ow0KICAgICAgICAgICAgbWluLWhlaWdodDogYXV0byAhaW1wb3J0YW50Ow0KICAgICAgICAgICAgcGFkZGluZzogMC45cmVtIDEuNXJlbSAhaW1wb3J0YW50Ow0KICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogNHB4ICFpbXBvcnRhbnQ7DQogICAgICAgICAgICBmb250LXNpemU6IDFyZW0gIWltcG9ydGFudDsNCiAgICAgICAgICAgIG9wYWNpdHk6IDE7DQogICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1hY2NlbnQtY29sb3IpICFpbXBvcnRhbnQ7DQogICAgICAgIH0NCg0KICAgICAgICAuYWRtaW4gI2FkZC1yb3ctYnRuOmhvdmVyIHsNCiAgICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWFjY2VudC1ob3ZlcikgIWltcG9ydGFudDsNCiAgICAgICAgfQ0KDQogICAgICAgIC5hZGQtcm93LWJ0biB7DQogICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1hY2NlbnQtY29sb3IpICFpbXBvcnRhbnQ7DQogICAgICAgIH0NCg0KICAgICAgICAuYWRkLXJvdy1idG46aG92ZXIgew0KICAgICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYWNjZW50LWhvdmVyKSAhaW1wb3J0YW50Ow0KICAgICAgICB9DQoNCiAgICAgICAgLmNoZWNrLWRhdGVzLWJ0biB7DQogICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1hY2NlbnQtY29sb3IpICFpbXBvcnRhbnQ7DQogICAgICAgIH0NCg0KICAgICAgICAuY2hlY2stZGF0ZXMtYnRuOmhvdmVyIHsNCiAgICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWFjY2VudC1ob3ZlcikgIWltcG9ydGFudDsNCiAgICAgICAgfQ0KDQogICAgICAgIC5tYW5hZ2UtdXNlcnMtYnRuIHsNCiAgICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWFjY2VudC1jb2xvcikgIWltcG9ydGFudDsNCiAgICAgICAgfQ0KDQogICAgICAgIC5tYW5hZ2UtdXNlcnMtYnRuOmhvdmVyIHsNCiAgICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWFjY2VudC1ob3ZlcikgIWltcG9ydGFudDsNCiAgICAgICAgfQ0KDQogICAgICAgIC5hZGQtY3VzdG9tLWJ1dHRvbi1idG4gew0KICAgICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYWNjZW50LWNvbG9yKSAhaW1wb3J0YW50Ow0KICAgICAgICB9DQoNCiAgICAgICAgLmFkZC1jdXN0b20tYnV0dG9uLWJ0bjpob3ZlciB7DQogICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1hY2NlbnQtaG92ZXIpICFpbXBvcnRhbnQ7DQogICAgICAgIH0NCg0KICAgICAgICAuZGF0ZS1pbnB1dC1vdmVybGF5IHsNCiAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgICAgICAgICAgIHRvcDogMDsNCiAgICAgICAgICAgIGxlZnQ6IDA7DQogICAgICAgICAgICByaWdodDogMDsNCiAgICAgICAgICAgIGJvdHRvbTogMDsNCiAgICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJnLXByaW1hcnkpOw0KICAgICAgICAgICAgZGlzcGxheTogZmxleDsNCiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogICAgICAgICAgICBwYWRkaW5nOiAwIDhweDsNCiAgICAgICAgICAgIHotaW5kZXg6IDEwMDsNCiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDsNCiAgICAgICAgfQ0KDQogICAgICAgIC5kYXRlLWlucHV0IHsNCiAgICAgICAgICAgIHdpZHRoOiAxMDAlOw0KICAgICAgICAgICAgYm9yZGVyOiAycHggc29saWQgdmFyKC0tYWNjZW50LWNvbG9yKTsNCiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDVweDsNCiAgICAgICAgICAgIHBhZGRpbmc6IDZweCA4cHg7DQogICAgICAgICAgICBmb250LXNpemU6IDE0cHg7DQogICAgICAgICAgICBvdXRsaW5lOiBub25lOw0KICAgICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmctcHJpbWFyeSk7DQogICAgICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1wcmltYXJ5KTsNCiAgICAgICAgfQ0KDQogICAgICAgIC5oZWFkZXItdGl0bGUgew0KICAgICAgICAgICAgY3Vyc29yOiBkZWZhdWx0Ow0KICAgICAgICAgICAgZm9udC1zaXplOiAxLjRyZW07DQogICAgICAgICAgICBmb250LXdlaWdodDogNzAwOw0KICAgICAgICAgICAgY29sb3I6IHZhcigtLXRleHQtcHJpbWFyeSk7DQogICAgICAgIH0NCg0KICAgICAgICAuaGVhZGVyLXRpdGxlLmVkaXRhYmxlIHsNCiAgICAgICAgICAgIGN1cnNvcjogdGV4dDsNCiAgICAgICAgICAgIGJvcmRlcjogMXB4IGRhc2hlZCB0cmFuc3BhcmVudDsNCiAgICAgICAgICAgIHBhZGRpbmc6IDZweCAxMnB4Ow0KICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNnB4Ow0KICAgICAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTsNCiAgICAgICAgfQ0KDQogICAgICAgIC5oZWFkZXItdGl0bGUuZWRpdGFibGU6aG92ZXIgew0KICAgICAgICAgICAgYm9yZGVyLWNvbG9yOiB2YXIoLS1hY2NlbnQtY29sb3IpOw0KICAgICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmctc2Vjb25kYXJ5KTsNCiAgICAgICAgfQ0KDQogICAgICAgIC5oZWFkZXItdGl0bGUuZWRpdGFibGU6Zm9jdXMgew0KICAgICAgICAgICAgb3V0bGluZTogbm9uZTsNCiAgICAgICAgICAgIGJvcmRlci1jb2xvcjogdmFyKC0tYWNjZW50LWNvbG9yKTsNCiAgICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJnLXByaW1hcnkpOw0KICAgICAgICAgICAgYm94LXNoYWRvdzogMCAwIDAgM3B4IHJnYmEoMjMwLCAxMjYsIDM0LCAwLjIpOw0KICAgICAgICB9DQoNCiAgICAgICAgLmljb24gew0KICAgICAgICAgICAgZm9udC1zaXplOiAxLjFlbTsNCiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LXByaW1hcnkpOw0KICAgICAgICB9DQoNCiAgICAgICAgLmNvbHVtbi1jb250cm9scyB7DQogICAgICAgICAgICBwb3NpdGlvbjogZml4ZWQ7DQogICAgICAgICAgICBib3R0b206IDIwcHg7DQogICAgICAgICAgICByaWdodDogMjBweDsNCiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7DQogICAgICAgICAgICBnYXA6IDRweDsNCiAgICAgICAgICAgIHotaW5kZXg6IDEwMDA7DQogICAgICAgIH0NCg0KICAgICAgICAuY29sdW1uLWNvbnRyb2wtYnRuIHsNCiAgICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJnLXNlY29uZGFyeSk7DQogICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1ib3JkZXItY29sb3IpOw0KICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4Ow0KICAgICAgICAgICAgd2lkdGg6IDI4cHg7DQogICAgICAgICAgICBoZWlnaHQ6IDI4cHg7DQogICAgICAgICAgICBkaXNwbGF5OiBmbGV4Ow0KICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOw0KICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOw0KICAgICAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTsNCiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LXByaW1hcnkpOw0KICAgICAgICAgICAgZm9udC1zaXplOiAxMnB4Ow0KICAgICAgICAgICAgb3BhY2l0eTogMC4zOw0KICAgICAgICB9DQoNCiAgICAgICAgLmNvbHVtbi1jb250cm9sLWJ0bjpob3ZlciB7DQogICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iZy10ZXJ0aWFyeSk7DQogICAgICAgICAgICBvcGFjaXR5OiAwLjc7DQogICAgICAgIH0NCg0KICAgICAgICBib2R5Om5vdCguYWRtaW4pIC5jb2x1bW4tY29udHJvbHMgew0KICAgICAgICAgICAgcG9zaXRpb246IGZpeGVkOw0KICAgICAgICAgICAgYm90dG9tOiAxMHB4Ow0KICAgICAgICAgICAgcmlnaHQ6IDEwcHg7DQogICAgICAgICAgICB6LWluZGV4OiAxMDAwOw0KICAgICAgICB9DQoNCiAgICAgICAgYm9keTpub3QoLmFkbWluKSAuY29sdW1uLWNvbnRyb2wtYnRuIHsNCiAgICAgICAgICAgIHdpZHRoOiAxcHg7DQogICAgICAgICAgICBoZWlnaHQ6IDFweDsNCiAgICAgICAgICAgIG9wYWNpdHk6IDAuMDE7DQogICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7DQogICAgICAgICAgICBib3R0b206IDA7DQogICAgICAgICAgICByaWdodDogMDsNCiAgICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW47DQogICAgICAgICAgICBwb2ludGVyLWV2ZW50czogYXV0bzsNCiAgICAgICAgfQ0KDQogICAgICAgIGJvZHk6bm90KC5hZG1pbikgLmNvbHVtbi1jb250cm9sLWJ0bjpob3ZlciB7DQogICAgICAgICAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDsNCiAgICAgICAgICAgIG9wYWNpdHk6IDAuMDE7DQogICAgICAgIH0NCg0KICAgICAgICAuZml4ZWQtY29sdW1ucy1zZXR0aW5nIHsNCiAgICAgICAgICAgIHBvc2l0aW9uOiBmaXhlZDsNCiAgICAgICAgICAgIGJvdHRvbTogNjBweDsNCiAgICAgICAgICAgIHJpZ2h0OiAyMHB4Ow0KICAgICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmctc2Vjb25kYXJ5KTsNCiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJvcmRlci1jb2xvcik7DQogICAgICAgICAgICBib3JkZXItcmFkaXVzOiA2cHg7DQogICAgICAgICAgICBwYWRkaW5nOiAxMHB4Ow0KICAgICAgICAgICAgei1pbmRleDogMTAwMDsNCiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LXByaW1hcnkpOw0KICAgICAgICAgICAgZm9udC1zaXplOiAxMnB4Ow0KICAgICAgICB9DQoNCiAgICAgICAgLmZpeGVkLWNvbHVtbnMtc2V0dGluZyBpbnB1dCB7DQogICAgICAgICAgICB3aWR0aDogNTBweDsNCiAgICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJnLXByaW1hcnkpOw0KICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYm9yZGVyLWNvbG9yKTsNCiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LXByaW1hcnkpOw0KICAgICAgICAgICAgcGFkZGluZzogNHB4Ow0KICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogM3B4Ow0KICAgICAgICAgICAgbWFyZ2luLWxlZnQ6IDhweDsNCiAgICAgICAgfQ0KDQogICAgICAgIC5yZWZyZXNoLWRhdGEtYnRuIHsNCiAgICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWFjY2VudC1jb2xvcikgIWltcG9ydGFudDsNCiAgICAgICAgfQ0KDQogICAgICAgIC5yZWZyZXNoLWRhdGEtYnRuOmhvdmVyIHsNCiAgICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWFjY2VudC1ob3ZlcikgIWltcG9ydGFudDsNCiAgICAgICAgfQ0KDQogICAgICAgIC5jb25mbGljdC1tb2RhbCB7DQogICAgICAgICAgICB6LWluZGV4OiAxMDAwMTsNCiAgICAgICAgfQ0KDQogICAgICAgIC5jb25mbGljdC1kZXRhaWxzIHsNCiAgICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJnLXByaW1hcnkpOw0KICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNnB4Ow0KICAgICAgICAgICAgcGFkZGluZzogMTBweDsNCiAgICAgICAgICAgIG1hcmdpbjogMTBweCAwOw0KICAgICAgICAgICAgbWF4LWhlaWdodDogMjAwcHg7DQogICAgICAgICAgICBvdmVyZmxvdy15OiBhdXRvOw0KICAgICAgICB9DQoNCiAgICAgICAgLmNvbmZsaWN0LWl0ZW0gew0KICAgICAgICAgICAgcGFkZGluZzogNXB4Ow0KICAgICAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLWJvcmRlci1jb2xvcik7DQogICAgICAgIH0NCg0KICAgICAgICAuY29uZmxpY3QtaXRlbTpsYXN0LWNoaWxkIHsNCiAgICAgICAgICAgIGJvcmRlci1ib3R0b206IG5vbmU7DQogICAgICAgIH0NCg0KICAgICAgICBAbWVkaWEgKG1heC13aWR0aDogMTIwMHB4KSB7DQogICAgICAgICAgICAudG9wLWNvbnRyb2xzLXBhbmVsIHsNCiAgICAgICAgICAgICAgICBoZWlnaHQ6IGF1dG87DQogICAgICAgICAgICAgICAgcGFkZGluZzogMTVweDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIA0KICAgICAgICAgICAgLmNvbnRyb2xzLWdyb3VwIHsNCiAgICAgICAgICAgICAgICBmbGV4LXdyYXA6IHdyYXA7DQogICAgICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIA0KICAgICAgICAgICAgLnNlYXJjaC1jb250YWluZXIgew0KICAgICAgICAgICAgICAgIG1pbi13aWR0aDogMjAwcHg7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC5zdGF0dXMtYmFyLWhlYWRlciB7DQogICAgICAgICAgICAgICAgbWluLXdpZHRoOiAxODBweDsNCiAgICAgICAgICAgICAgICBtYXgtd2lkdGg6IDIyMHB4Ow0KICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMC43NXJlbTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIEBtZWRpYSAobWF4LXdpZHRoOiA5OTJweCkgew0KICAgICAgICAgICAgLmNvbnRhaW5lciB7DQogICAgICAgICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsNCiAgICAgICAgICAgICAgICBoZWlnaHQ6IGF1dG87DQogICAgICAgICAgICB9DQogICAgICAgICAgICANCiAgICAgICAgICAgIC5zaWRlYmFyIHsNCiAgICAgICAgICAgICAgICB3aWR0aDogMTAwJTsNCiAgICAgICAgICAgICAgICBoZWlnaHQ6IGF1dG87DQogICAgICAgICAgICAgICAgbWF4LWhlaWdodDogMzAwcHg7DQogICAgICAgICAgICAgICAgb3JkZXI6IDI7DQogICAgICAgICAgICB9DQogICAgICAgICAgICANCiAgICAgICAgICAgIC5jb250ZW50IHsNCiAgICAgICAgICAgICAgICBvcmRlcjogMTsNCiAgICAgICAgICAgICAgICBmbGV4OiBub25lOw0KICAgICAgICAgICAgICAgIGhlaWdodDogNjB2aDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIA0KICAgICAgICAgICAgLnRvcC1jb250cm9scy1wYW5lbCB7DQogICAgICAgICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsNCiAgICAgICAgICAgICAgICBoZWlnaHQ6IGF1dG87DQogICAgICAgICAgICAgICAgZ2FwOiAxMHB4Ow0KICAgICAgICAgICAgICAgIHBhZGRpbmc6IDEwcHg7DQogICAgICAgICAgICB9DQogICAgICAgICAgICANCiAgICAgICAgICAgIC50YWJzLXdyYXBwZXIgew0KICAgICAgICAgICAgICAgIG1heC13aWR0aDogMTAwJTsNCiAgICAgICAgICAgICAgICB3aWR0aDogMTAwJTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIA0KICAgICAgICAgICAgLnRhYnMtc2Nyb2xsLWJ0biB7DQogICAgICAgICAgICAgICAgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50Ow0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgDQogICAgICAgICAgICAuY29udHJvbHMtZ3JvdXAgew0KICAgICAgICAgICAgICAgIHdpZHRoOiAxMDAlOw0KICAgICAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsNCiAgICAgICAgICAgICAgICBtYXJnaW4tbGVmdDogMDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIA0KICAgICAgICAgICAgLnNlYXJjaC1jb250YWluZXIgew0KICAgICAgICAgICAgICAgIG1pbi13aWR0aDogMTUwcHg7DQogICAgICAgICAgICAgICAgZmxleDogMTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIA0KICAgICAgICAgICAgLmhlYWRlciB7DQogICAgICAgICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsNCiAgICAgICAgICAgICAgICBoZWlnaHQ6IGF1dG87DQogICAgICAgICAgICAgICAgcGFkZGluZzogMTBweDsNCiAgICAgICAgICAgICAgICBnYXA6IDEwcHg7DQogICAgICAgICAgICB9DQogICAgICAgICAgICANCiAgICAgICAgICAgIC5oZWFkZXItY29udGVudCB7DQogICAgICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7DQogICAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7DQogICAgICAgICAgICB9DQogICAgICAgICAgICANCiAgICAgICAgICAgIC51c2VyLWluZm8gew0KICAgICAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOw0KICAgICAgICAgICAgICAgIHdpZHRoOiAxMDAlOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAuc3RhdHVzLWJhci1oZWFkZXIgew0KICAgICAgICAgICAgICAgIG9yZGVyOiAtMTsNCiAgICAgICAgICAgICAgICB3aWR0aDogMTAwJTsNCiAgICAgICAgICAgICAgICBtYXgtd2lkdGg6IG5vbmU7DQogICAgICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogNXB4Ow0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgQG1lZGlhIChtYXgtd2lkdGg6IDc2OHB4KSB7DQogICAgICAgICAgICAuc2lkZWJhciB7DQogICAgICAgICAgICAgICAgbWF4LWhlaWdodDogMjUwcHg7DQogICAgICAgICAgICB9DQogICAgICAgICAgICANCiAgICAgICAgICAgIC5jb250ZW50IHsNCiAgICAgICAgICAgICAgICBoZWlnaHQ6IDUwdmg7DQogICAgICAgICAgICB9DQogICAgICAgICAgICANCiAgICAgICAgICAgIC5jb250cm9scy1ncm91cCB7DQogICAgICAgICAgICAgICAgZmxleC13cmFwOiB3cmFwOw0KICAgICAgICAgICAgICAgIGdhcDogOHB4Ow0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgDQogICAgICAgICAgICAuc2VhcmNoLWNvbnRhaW5lciB7DQogICAgICAgICAgICAgICAgb3JkZXI6IC0xOw0KICAgICAgICAgICAgICAgIHdpZHRoOiAxMDAlOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgDQogICAgICAgICAgICAudGFicy1jb250YWluZXIgew0KICAgICAgICAgICAgICAgIG1heC13aWR0aDogMTAwJTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIA0KICAgICAgICAgICAgLnRhYiB7DQogICAgICAgICAgICAgICAgbWluLXdpZHRoOiAxMTBweDsNCiAgICAgICAgICAgICAgICBwYWRkaW5nOiA2cHggMTBweDsNCiAgICAgICAgICAgICAgICBmb250LXNpemU6IDAuOHJlbTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIA0KICAgICAgICAgICAgLm1vZGFsLWNvbnRlbnQgew0KICAgICAgICAgICAgICAgIHBhZGRpbmc6IDEuNXJlbTsNCiAgICAgICAgICAgICAgICB3aWR0aDogOTUlOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgDQogICAgICAgICAgICAubm90aWZpY2F0aW9uLXBhbmVsIHsNCiAgICAgICAgICAgICAgICB3aWR0aDogOTUlOw0KICAgICAgICAgICAgICAgIHJpZ2h0OiAyLjUlOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgQG1lZGlhIChtYXgtd2lkdGg6IDU3NnB4KSB7DQogICAgICAgICAgICAubG9naW4tY29udGFpbmVyIHsNCiAgICAgICAgICAgICAgICBwYWRkaW5nOiAxLjVyZW07DQogICAgICAgICAgICAgICAgbWFyZ2luOiAxMHB4Ow0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgDQogICAgICAgICAgICAuc2lkZWJhciB7DQogICAgICAgICAgICAgICAgcGFkZGluZzogMXJlbTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIA0KICAgICAgICAgICAgLmNvbnRlbnQgew0KICAgICAgICAgICAgICAgIHBhZGRpbmc6IDAuOHJlbTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIA0KICAgICAgICAgICAgLnRvcC1jb250cm9scy1wYW5lbCB7DQogICAgICAgICAgICAgICAgcGFkZGluZzogOHB4Ow0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgDQogICAgICAgICAgICAuY29udHJvbHMtZ3JvdXAgew0KICAgICAgICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47DQogICAgICAgICAgICAgICAgZ2FwOiA1cHg7DQogICAgICAgICAgICB9DQogICAgICAgICAgICANCiAgICAgICAgICAgIC5jb250cm9scy1ncm91cCBidXR0b24gew0KICAgICAgICAgICAgICAgIHdpZHRoOiAxMDAlOw0KICAgICAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgDQogICAgICAgICAgICAudGFicy13cmFwcGVyIHsNCiAgICAgICAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOw0KICAgICAgICAgICAgICAgIGhlaWdodDogYXV0bzsNCiAgICAgICAgICAgICAgICBnYXA6IDVweDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIA0KICAgICAgICAgICAgLnRhYnMtY29udGFpbmVyIHsNCiAgICAgICAgICAgICAgICBvcmRlcjogMjsNCiAgICAgICAgICAgICAgICBoZWlnaHQ6IDM1cHg7DQogICAgICAgICAgICB9DQogICAgICAgICAgICANCiAgICAgICAgICAgIC5oZWFkZXItdGl0bGUgew0KICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMS4ycmVtOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgDQogICAgICAgICAgICAudXNlci1yb2xlLWJ0biB7DQogICAgICAgICAgICAgICAgbWluLXdpZHRoOiAxMDBweDsNCiAgICAgICAgICAgICAgICBmb250LXNpemU6IDAuOHJlbTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLnN0YXR1cy1iYXItaGVhZGVyIHsNCiAgICAgICAgICAgICAgICBtaW4td2lkdGg6IDE1MHB4Ow0KICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMC43cmVtOw0KICAgICAgICAgICAgICAgIHBhZGRpbmc6IDAuNHJlbSAwLjhyZW07DQogICAgICAgICAgICB9DQogICAgICAgICAgICANCiAgICAgICAgICAgIHRoLCB0ZCB7DQogICAgICAgICAgICAgICAgcGFkZGluZzogMC4zcmVtOw0KICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMC44cmVtOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgDQogICAgICAgICAgICB0aCB7DQogICAgICAgICAgICAgICAgcGFkZGluZzogNnB4IDRweDsNCiAgICAgICAgICAgICAgICBmb250LXNpemU6IDAuOHJlbTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIA0KICAgICAgICAgICAgLmNvbHVtbi1jb250cm9scyB7DQogICAgICAgICAgICAgICAgYm90dG9tOiAxMHB4Ow0KICAgICAgICAgICAgICAgIHJpZ2h0OiAxMHB4Ow0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgDQogICAgICAgICAgICAuZml4ZWQtY29sdW1ucy1zZXR0aW5nIHsNCiAgICAgICAgICAgICAgICBib3R0b206IDUwcHg7DQogICAgICAgICAgICAgICAgcmlnaHQ6IDEwcHg7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICBAbWVkaWEgKG1heC13aWR0aDogNDAwcHgpIHsNCiAgICAgICAgICAgIC5zaWRlYmFyIGJ1dHRvbiB7DQogICAgICAgICAgICAgICAgZm9udC1zaXplOiAwLjhyZW07DQogICAgICAgICAgICAgICAgcGFkZGluZzogMCAxMHB4Ow0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgDQogICAgICAgICAgICAuYnV0dG9uLXRleHQgew0KICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMC44cmVtOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgDQogICAgICAgICAgICAuY3VzdG9tLWJ1dHRvbi13cmFwcGVyIHsNCiAgICAgICAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOw0KICAgICAgICAgICAgICAgIGdhcDogMnB4Ow0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgDQogICAgICAgICAgICAuYnV0dG9uLWFjdGlvbnMgew0KICAgICAgICAgICAgICAgIHdpZHRoOiAxMDAlOw0KICAgICAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC5zdGF0dXMtYmFyLWhlYWRlciB7DQogICAgICAgICAgICAgICAgbWluLXdpZHRoOiAxMjBweDsNCiAgICAgICAgICAgICAgICBmb250LXNpemU6IDAuNjVyZW07DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICAjc2hvdy1hbGwgew0KICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMTBweCAhaW1wb3J0YW50Ow0KICAgICAgICB9DQoNCiAgICAgICAgLmVkaXRhYmxlLWNlbGwgew0KICAgICAgICAgICAgY3Vyc29yOiB0ZXh0Ow0KICAgICAgICAgICAgb3V0bGluZTogbm9uZTsNCiAgICAgICAgfQ0KDQogICAgICAgIC5lZGl0YWJsZS1jZWxsOmZvY3VzIHsNCiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXRhYmxlLWhvdmVyKTsNCiAgICAgICAgICAgIGJveC1zaGFkb3c6IGluc2V0IDAgMCAwIDJweCB2YXIoLS1hY2NlbnQtY29sb3IpOw0KICAgICAgICB9DQoNCiAgICAgICAgLmZpbGUtbWFuYWdlbWVudC1tb2RhbCAuZm9ybS1ncm91cDpudGgtY2hpbGQoMikgew0KICAgICAgICAgICAgZGlzcGxheTogbm9uZTsNCiAgICAgICAgfQ0KDQogICAgICAgIC5maWxlLW1hbmFnZW1lbnQtbW9kYWwgI3NhdmUtY2VsbC1idG4gew0KICAgICAgICAgICAgZGlzcGxheTogbm9uZTsNCiAgICAgICAgfQ0KDQogICAgICAgIC5maWxlLW1hbmFnZW1lbnQtbW9kYWwgI2Nsb3NlLWZpbGUtbW9kYWwgew0KICAgICAgICAgICAgZGlzcGxheTogYmxvY2s7DQogICAgICAgIH0NCg0KICAgICAgICAjY2xvc2UtZmlsZS1tb2RhbCB7DQogICAgICAgICAgICBkaXNwbGF5OiBub25lOw0KICAgICAgICB9DQoNCiAgICAgICAgLmNlbGwtZWRpdGluZyB7DQogICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7DQogICAgICAgICAgICB6LWluZGV4OiAxMDA7DQogICAgICAgIH0NCg0KICAgICAgICAuY2VsbC1pbnB1dCB7DQogICAgICAgICAgICB3aWR0aDogMTAwJTsNCiAgICAgICAgICAgIGhlaWdodDogMTAwJTsNCiAgICAgICAgICAgIGJvcmRlcjogMnB4IHNvbGlkIHZhcigtLWFjY2VudC1jb2xvcik7DQogICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iZy1wcmltYXJ5KTsNCiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LXByaW1hcnkpOw0KICAgICAgICAgICAgcGFkZGluZzogNHB4IDhweDsNCiAgICAgICAgICAgIGZvbnQtc2l6ZTogaW5oZXJpdDsNCiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDsNCiAgICAgICAgICAgIG91dGxpbmU6IG5vbmU7DQogICAgICAgIH0NCg0KICAgICAgICAudGV4dC1jZWxsLWVkaXRpbmcgew0KICAgICAgICAgICAgY3Vyc29yOiB0ZXh0Ow0KICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tdGFibGUtaG92ZXIpOw0KICAgICAgICAgICAgYm94LXNoYWRvdzogaW5zZXQgMCAwIDAgMnB4IHZhcigtLWFjY2VudC1jb2xvcik7DQogICAgICAgIH0NCiAgICA8L3N0eWxlPg0KPC9oZWFkPg0KPGJvZHkgY2xhc3M9InRoZW1lLW9yYW5nZSI+DQogICAgPCEtLSDQrdC60YDQsNC9INCy0YXQvtC00LAgLS0+DQogICAgPGRpdiBpZD0ibG9naW4tc2NyZWVuIj4NCiAgICAgICAgPGRpdiBjbGFzcz0ibG9naW4tY29udGFpbmVyIj4NCiAgICAgICAgICAgIDxoMj7QktGF0L7QtCDQsiDRgdC40YHRgtC10LzRgzwvaDI+DQogICAgICAgICAgICA8Zm9ybSBpZD0ibG9naW4tZm9ybSI+DQogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+DQogICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9InVzZXJuYW1lIj7QmNC80Y8g0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPPC9sYWJlbD4NCiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJ1c2VybmFtZSIgcmVxdWlyZWQ+DQogICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+DQogICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9InBhc3N3b3JkIj7Qn9Cw0YDQvtC70Yw8L2xhYmVsPg0KICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0icGFzc3dvcmQiIGlkPSJwYXNzd29yZCIgcmVxdWlyZWQ+DQogICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSJzdWJtaXQiPtCS0L7QudGC0Lg8L2J1dHRvbj4NCiAgICAgICAgICAgIDwvZm9ybT4NCiAgICAgICAgPC9kaXY+DQogICAgPC9kaXY+DQoNCiAgICA8IS0tINCe0YHQvdC+0LLQvdC+0Lkg0Y3QutGA0LDQvSAtLT4NCiAgICA8ZGl2IGlkPSJtYWluLXNjcmVlbiI+DQogICAgICAgIDxkaXYgY2xhc3M9ImhlYWRlciI+DQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJoZWFkZXItY29udGVudCI+DQogICAgICAgICAgICAgICAgPGltZyBpZD0iaGVhZGVyLWxvZ28iIGNsYXNzPSJsb2dvIiBzcmM9IiIgYWx0PSJMb2dvIiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPg0KICAgICAgICAgICAgICAgIDxoMSBpZD0iaGVhZGVyLXRpdGxlIiBjbGFzcz0iaGVhZGVyLXRpdGxlIj7QntGB0L3QvtCy0L3QvtC1INC+0LrQvdC+PC9oMT4NCiAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0idXNlci1pbmZvIj4NCiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0idXNlci1uYW1lIiBpZD0idXNlci1uYW1lLWRpc3BsYXkiPjwvc3Bhbj4NCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzdGF0dXMtYmFyLWhlYWRlciIgaWQ9InN0YXR1cy1iYXItaGVhZGVyIiBkYXRhLXRvb2x0aXA9IiI+DQogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InN0YXR1cy1pbmZvLWhlYWRlciI+DQogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzdGF0dXMtc3luYy1oZWFkZXIiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJzeW5jLWljb24iPvCflIQ8L3NwYW4+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9InN5bmMtdGV4dCIgaWQ9InN5bmMtc3RhdHVzLXRleHQiPtCT0L7RgtC+0LIg0Log0YHQuNC90YXRgNC+0L3QuNC30LDRhtC40Lg8L3NwYW4+DQogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0idXNlci1yb2xlLWJ0biIgaWQ9InVzZXItcm9sZSI+0J/QvtC70YzQt9C+0LLQsNGC0LXQu9GMPC9idXR0b24+DQogICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD0ibG9nb3V0LWJ0biIgY2xhc3M9InVzZXItcm9sZS1idG4iPtCS0YvQudGC0Lg8L2J1dHRvbj4NCiAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICA8L2Rpdj4NCg0KICAgICAgICA8IS0tINCd0L7QstCw0Y8g0L/QsNC90LXQu9GMINGD0L/RgNCw0LLQu9C10L3QuNGPIC0tPg0KICAgICAgICA8ZGl2IGNsYXNzPSJ0b3AtY29udHJvbHMtcGFuZWwiPg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0idGFicy13cmFwcGVyIj4NCiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJ0YWJzLXNjcm9sbC1idG4gbGVmdCI+4oC5PC9idXR0b24+DQogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0idGFicy1jb250YWluZXIiIGlkPSJ0YWJzLWNvbnRhaW5lciI+DQogICAgICAgICAgICAgICAgICAgIDwhLS0g0JLQutC70LDQtNC60Lgg0LHRg9C00YPRgiDQtNC+0LHQsNCy0LvRj9GC0YzRgdGPINC30LTQtdGB0Ywg0LTQuNC90LDQvNC40YfQtdGB0LrQuCAtLT4NCiAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJ0YWJzLXNjcm9sbC1idG4gcmlnaHQiPuKAujwvYnV0dG9uPg0KICAgICAgICAgICAgPC9kaXY+DQoNCiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNvbnRyb2xzLWdyb3VwIj4NCiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJuZXctdGFiLWJ0biBhZG1pbi1vbmx5IiBpZD0ibmV3LXRhYi1idG4iIHRpdGxlPSLQodC+0LfQtNCw0YLRjCDQvdC+0LLRg9GOINCy0LrQu9Cw0LTQutGDINGBINGC0LDQsdC70LjRhtC10LkiPg0KICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0iaWNvbiI+Kzwvc3Bhbj4g0J3QvtCy0L7QtSDQvtC60L3Qvg0KICAgICAgICAgICAgICAgIDwvYnV0dG9uPg0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InNlYXJjaC1jb250YWluZXIiPg0KICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgY2xhc3M9InNlYXJjaC1pbnB1dCIgaWQ9InRhYmxlLXNlYXJjaCIgcGxhY2Vob2xkZXI9ItCf0L7QuNGB0Log0L/QviDRgtCw0LHQu9C40YbQtS4uLiIgdGl0bGU9ItCf0L7QuNGB0Log0L/QviDQstGB0LXQvCDQtNCw0L3QvdGL0Lwg0YLQsNCx0LvQuNGG0YsiPg0KICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJzZWFyY2gtY2xlYXIiIGlkPSJzZWFyY2gtY2xlYXIiIHRpdGxlPSLQntGH0LjRgdGC0LjRgtGMINC/0L7QuNGB0LoiPsOXPC9idXR0b24+DQogICAgICAgICAgICAgICAgPC9kaXY+DQoNCiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJmaWx0ZXItc2VsZWN0ZWQtYnRuIiBpZD0iZmlsdGVyLXNlbGVjdGVkLWJ0biIgdGl0bGU9ItCf0L7QutCw0LfQsNGC0Ywg0YLQvtC70YzQutC+INCy0YvQtNC10LvQtdC90L3Ri9C1INGB0YLRgNC+0LrQuCI+DQogICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJpY29uIj7ijJU8L3NwYW4+INCk0LjQu9GM0YLRgCDQstGL0LTQtdC70LXQvdC90L7Qs9C+DQogICAgICAgICAgICAgICAgPC9idXR0b24+DQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iaW1wb3J0LWV4Y2VsLWJ0biBhZG1pbi1vbmx5IiBpZD0iaW1wb3J0LWV4Y2VsLWJ0biIgdGl0bGU9ItCY0LzQv9C+0YDRgiDQtNCw0L3QvdGL0YUg0LjQtyBFeGNlbCDRhNCw0LnQu9CwIj4NCiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9Imljb24iPuKGkzwvc3Bhbj4g0JjQvNC/0L7RgNGCIEV4Y2VsDQogICAgICAgICAgICAgICAgPC9idXR0b24+DQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iZXhwb3J0LWV4Y2VsLWJ0biIgaWQ9ImV4cG9ydC1leGNlbC1idG4iIHRpdGxlPSLQrdC60YHQv9C+0YDRgiDQtNCw0L3QvdGL0YUg0LIgRXhjZWwg0YTQsNC50LsiPg0KICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0iaWNvbiI+4oaRPC9zcGFuPiDQrdC60YHQv9C+0YDRgiDQsiBFeGNlbA0KICAgICAgICAgICAgICAgIDwvYnV0dG9uPg0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgIDwvZGl2Pg0KDQogICAgICAgIDxkaXYgY2xhc3M9ImNvbnRhaW5lciI+DQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJzaWRlYmFyIj4NCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzaWRlYmFyLWJ1dHRvbnMiPg0KICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPSJzaG93LWFsbCIgdGl0bGU9ItCf0L7QutCw0LfQsNGC0Ywg0LLRgdC1INGB0YLQvtC70LHRhtGLIj7QntGC0L7QsdGA0LDQt9C40YLRjCDQstGB0LU8L2J1dHRvbj4NCiAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD0iY3VzdG9tLWJ1dHRvbnMiPjwvZGl2Pg0KICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InNpZGViYXItYm90dG9tIj4NCiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iYWRtaW4tb25seSI+DQogICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPSJhZGQtYnV0dG9uIiBjbGFzcz0iYWRkLWN1c3RvbS1idXR0b24tYnRuIiB0aXRsZT0i0JTQvtCx0LDQstC40YLRjCDQv9C+0LvRjNC30L7QstCw0YLQtdC70YzRgdC60YPRjiDQutC90L7Qv9C60YMg0LTQu9GPINC+0YLQvtCx0YDQsNC20LXQvdC40Y8g0YHRgtC+0LvQsdGG0L7QsiI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9Imljb24iPis8L3NwYW4+INCU0L7QsdCw0LLQuNGC0Ywg0LrQvdC+0L/QutGDDQogICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj4NCiAgICAgICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9InJlZnJlc2gtZGF0YS1idG4iIGNsYXNzPSJyZWZyZXNoLWRhdGEtYnRuIHVzZXItb25seSIgdGl0bGU9ItCX0LDQs9GA0YPQt9C40YLRjCDQvtCx0L3QvtCy0LvQtdC90L3Ri9C1INC00LDQvdC90YvQtSDRgSBHaXRIdWIiPg0KICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9Imljb24iPuKGuzwvc3Bhbj4g0J7QsdC90L7QstC40YLRjCDQtNCw0L3QvdGL0LUNCiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+DQogICAgICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9ImFkZC1yb3ctYnRuIiBjbGFzcz0iYWRkLXJvdy1idG4iIHRpdGxlPSLQlNC+0LHQsNCy0LjRgtGMINC90L7QstGD0Y4g0YHRgtGA0L7QutGDINCyINGC0LDQsdC70LjRhtGDIj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJpY29uIj4rPC9zcGFuPiDQlNC+0LHQsNCy0LjRgtGMINGB0YLRgNC+0LrRgw0KICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj4NCiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD0iY2hlY2stZGF0ZXMtYnRuIiBjbGFzcz0iY2hlY2stZGF0ZXMtYnRuIiB0aXRsZT0i0J/RgNC+0LLQtdGA0LjRgtGMINCy0YHQtSDQtNCw0YLRiyDQvdCwINC40YHRgtC10YfQtdC90LjQtSDRgdGA0L7QutCwIj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJpY29uIj7wn5OFPC9zcGFuPiDQn9GA0L7QstC10YDQutCwINC00LDRgg0KICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj4NCiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iYWRtaW4tb25seSI+DQogICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPSJtYW5hZ2UtdXNlcnMiIGNsYXNzPSJtYW5hZ2UtdXNlcnMtYnRuIiB0aXRsZT0i0KPQv9GA0LDQstC70LXQvdC40LUg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GP0LzQuCDRgdC40YHRgtC10LzRiyI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9Imljb24iPvCfkaU8L3NwYW4+INCj0L/RgNCw0LLQu9C10L3QuNC1INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRj9C80LgNCiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD0iZ2l0aHViLXN5bmMtYnRuIiBjbGFzcz0ibWFuYWdlLXVzZXJzLWJ0biIgdGl0bGU9ItCd0LDRgdGC0YDQvtC50LrQuCDRgdC40L3RhdGA0L7QvdC40LfQsNGG0LjQuCDRgSBHaXRIdWIiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJpY29uIj7wn5SXPC9zcGFuPiBHaXRIdWIg0KHQuNC90YXRgNC+0L3QuNC30LDRhtC40Y8NCiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD0ic2F2ZS1jaGFuZ2VzLWJ0biIgY2xhc3M9Im1hbmFnZS11c2Vycy1idG4iIHRpdGxlPSLQodC+0YXRgNCw0L3QuNGC0Ywg0LjQt9C80LXQvdC10L3QuNGPINC90LAgR2l0SHViIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0iaWNvbiI+8J+Svjwvc3Bhbj4g0KHQvtGF0YDQsNC90LjRgtGMINC40LfQvNC10L3QtdC90LjRjw0KICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+DQogICAgICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJjb250ZW50Ij4NCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJ0YWJsZS1jb250YWluZXIiPg0KICAgICAgICAgICAgICAgICAgICA8dGFibGUgaWQ9ImRhdGEtdGFibGUiPg0KICAgICAgICAgICAgICAgICAgICAgICAgPHRoZWFkPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0cj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPjxpbnB1dCB0eXBlPSJjaGVja2JveCIgY2xhc3M9InNlbGVjdC1hbGwtY2hlY2tib3giIGlkPSJzZWxlY3QtYWxsLWNoZWNrYm94IiB0aXRsZT0i0J/QvtC60LDQt9Cw0YLRjCDQstGB0LUg0YHRgtGA0L7QutC4Ij48L3RoPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGg+4oSWINC/L9C/PC90aD4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPtCd0LDQt9Cy0LDQvdC40LU8L3RoPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGg+0JTQsNGC0LAg0YHQvtC30LTQsNC90LjRjzwvdGg+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aD7QodGC0LDRgtGD0YE8L3RoPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3M9ImFkbWluLW9ubHkgYWN0aW9ucy1oZWFkZXIiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0idGgtY29udGVudCI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0idGgtbWFpbiI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InRoLXRpdGxlIj7DlzwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmaWx0ZXItY29udHJvbHMiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPCEtLSDQn9GD0YHRgtC+IC0g0LTQu9GPINCy0YvRgNCw0LLQvdC40LLQsNC90LjRjyDRgSDQtNGA0YPQs9C40LzQuCDQt9Cw0LPQvtC70L7QstC60LDQvNC4IC0tPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RoPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+DQogICAgICAgICAgICAgICAgICAgICAgICA8L3RoZWFkPg0KICAgICAgICAgICAgICAgICAgICAgICAgPHRib2R5Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwhLS0g0JTQsNC90L3Ri9C1INCx0YPQtNGD0YIg0LfQsNCz0YDRg9C20LDRgtGM0YHRjyDQtNC40L3QsNC80LjRh9C10YHQutC4IC0tPg0KICAgICAgICAgICAgICAgICAgICAgICAgPC90Ym9keT4NCiAgICAgICAgICAgICAgICAgICAgPC90YWJsZT4NCiAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICA8L2Rpdj4NCg0KICAgICAgICA8IS0tINCa0L3QvtC/0LrQuCDRg9C/0YDQsNCy0LvQtdC90LjRjyDRgdGC0L7Qu9Cx0YbQsNC80LggLS0+DQogICAgICAgIDxkaXYgY2xhc3M9ImNvbHVtbi1jb250cm9scyI+DQogICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJjb2x1bW4tY29udHJvbC1idG4iIGlkPSJhZGQtY29sdW1uLWJ0biIgdGl0bGU9ItCU0L7QsdCw0LLQuNGC0Ywg0YHRgtC+0LvQsdC10YYiPis8L2J1dHRvbj4NCiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImNvbHVtbi1jb250cm9sLWJ0biIgaWQ9InJlbW92ZS1jb2x1bW4tYnRuIiB0aXRsZT0i0KPQtNCw0LvQuNGC0Ywg0YHRgtC+0LvQsdC10YYiPi08L2J1dHRvbj4NCiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImNvbHVtbi1jb250cm9sLWJ0biIgaWQ9Im1vdmUtY29sdW1uLWxlZnQtYnRuIiB0aXRsZT0i0J/QtdGA0LXQvNC10YHRgtC40YLRjCDRgdGC0L7Qu9Cx0LXRhiDQstC70LXQstC+Ij7ihpA8L2J1dHRvbj4NCiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImNvbHVtbi1jb250cm9sLWJ0biIgaWQ9Im1vdmUtY29sdW1uLXJpZ2h0LWJ0biIgdGl0bGU9ItCf0LXRgNC10LzQtdGB0YLQuNGC0Ywg0YHRgtC+0LvQsdC10YYg0LLQv9GA0LDQstC+Ij7ihpI8L2J1dHRvbj4NCiAgICAgICAgPC9kaXY+DQoNCiAgICAgICAgPCEtLSDQndCw0YHRgtGA0L7QudC60Lgg0YTQuNC60YHQuNGA0L7QstCw0L3QvdGL0YUg0YHRgtC+0LvQsdGG0L7QsiAtLT4NCiAgICAgICAgPGRpdiBjbGFzcz0iZml4ZWQtY29sdW1ucy1zZXR0aW5nIGFkbWluLW9ubHkiPg0KICAgICAgICAgICAgPGxhYmVsPtCk0LjQutGBLiDRgdGC0L7Qu9Cx0YbQvtCyOiA8aW5wdXQgdHlwZT0ibnVtYmVyIiBpZD0iZml4ZWQtY29sdW1ucy1jb3VudCIgbWluPSIxIiBtYXg9IjEwIiB2YWx1ZT0iMyIgdGl0bGU9ItCa0L7Qu9C40YfQtdGB0YLQstC+INGE0LjQutGB0LjRgNC+0LLQsNC90L3Ri9GFINGB0YLQvtC70LHRhtC+0LIg0YHQu9C10LLQsCI+PC9sYWJlbD4NCiAgICAgICAgPC9kaXY+DQogICAgPC9kaXY+DQoNCiAgICA8IS0tINCc0L7QtNCw0LvRjNC90L7QtSDQvtC60L3QviDQtNC70Y8g0LTQvtCx0LDQstC70LXQvdC40Y8g0LrQvdC+0L/QutC4IC0tPg0KICAgIDxkaXYgaWQ9ImFkZC1idXR0b24tbW9kYWwiIGNsYXNzPSJtb2RhbCI+DQogICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWNvbnRlbnQiPg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtaGVhZGVyIj4NCiAgICAgICAgICAgICAgICA8aDM+0JTQvtCx0LDQstC40YLRjCDQvdC+0LLRg9GOINC60L3QvtC/0LrRgzwvaDM+DQogICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImNsb3NlIj4mdGltZXM7PC9zcGFuPg0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICA8Zm9ybSBpZD0iYWRkLWJ1dHRvbi1mb3JtIj4NCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4NCiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj0iYnV0dG9uLW5hbWUiPtCd0LDQt9Cy0LDQvdC40LUg0LrQvdC+0L/QutC4PC9sYWJlbD4NCiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJidXR0b24tbmFtZSIgcmVxdWlyZWQgdGl0bGU9ItCd0LDQt9Cy0LDQvdC40LUg0LrQvdC+0L/QutC4LCDQutC+0YLQvtGA0L7QtSDQsdGD0LTQtdGCINC+0YLQvtCx0YDQsNC20LDRgtGM0YHRjyDQsiDQsdC+0LrQvtCy0L7QuSDQv9Cw0L3QtdC70LgiPg0KICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPg0KICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPSJjb2x1bW4tY291bnQiPtCa0L7Qu9C40YfQtdGB0YLQstC+INGB0YLQvtC70LHRhtC+0LI8L2xhYmVsPg0KICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0ibnVtYmVyIiBpZD0iY29sdW1uLWNvdW50IiBtaW49IjEiIG1heD0iMTAiIHZhbHVlPSIxIiByZXF1aXJlZCB0aXRsZT0i0JrQvtC70LjRh9C10YHRgtCy0L4g0YHRgtC+0LvQsdGG0L7Qsiwg0LrQvtGC0L7RgNGL0LUg0LHRg9C00YPRgiDQvtGC0L7QsdGA0LDQttCw0YLRjNGB0Y8g0L/RgNC4INC90LDQttCw0YLQuNC4INC90LAg0LrQvdC+0L/QutGDIj4NCiAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICA8ZGl2IGlkPSJjb2x1bW5zLWNvbnRhaW5lciI+DQogICAgICAgICAgICAgICAgICAgIDwhLS0g0JTQuNC90LDQvNC40YfQtdGB0LrQuCDQtNC+0LHQsNCy0LvRj9C10LzRi9C1INC/0L7Qu9GPINC00LvRjyDQvdCw0LfQstCw0L3QuNC5INGB0YLQvtC70LHRhtC+0LIgLS0+DQogICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+DQogICAgICAgICAgICAgICAgICAgIDxsYWJlbD7Qn9GA0L7QstC10YDQutCwINC00LDRgiDQtNC70Y8g0YHRgtC+0LvQsdGG0L7Qsjo8L2xhYmVsPg0KICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPSJkYXRlLXZhbGlkYXRpb24tY29sdW1ucyI+DQogICAgICAgICAgICAgICAgICAgICAgICA8IS0tINCU0LjQvdCw0LzQuNGH0LXRgdC60Lgg0LTQvtCx0LDQstC70Y/QtdC80YvQtSBjaGVja2JveCDQtNC70Y8g0LrQsNC20LTQvtCz0L4g0YHRgtC+0LvQsdGG0LAgLS0+DQogICAgICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT0ic3VibWl0Ij7QlNC+0LHQsNCy0LjRgtGMINC60L3QvtC/0LrRgzwvYnV0dG9uPg0KICAgICAgICAgICAgPC9mb3JtPg0KICAgICAgICA8L2Rpdj4NCiAgICA8L2Rpdj4NCg0KICAgIDwhLS0g0JzQvtC00LDQu9GM0L3QvtC1INC+0LrQvdC+INGD0L/RgNCw0LLQu9C10L3QuNGPINC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRj9C80LggLS0+DQogICAgPGRpdiBpZD0idXNlcnMtbW9kYWwiIGNsYXNzPSJtb2RhbCI+DQogICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWNvbnRlbnQiPg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtaGVhZGVyIj4NCiAgICAgICAgICAgICAgICA8aDM+0KPQv9GA0LDQstC70LXQvdC40LUg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GP0LzQuDwvaDM+DQogICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImNsb3NlIj4mdGltZXM7PC9zcGFuPg0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICA8Zm9ybSBpZD0iYWRkLXVzZXItZm9ybSI+DQogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+DQogICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9Im5ldy11c2VybmFtZSI+0JjQvNGPINC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjzwvbGFiZWw+DQogICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0ibmV3LXVzZXJuYW1lIiByZXF1aXJlZCB0aXRsZT0i0KPQvdC40LrQsNC70YzQvdC+0LUg0LjQvNGPINC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjyDQtNC70Y8g0LLRhdC+0LTQsCDQsiDRgdC40YHRgtC10LzRgyI+DQogICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+DQogICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9Im5ldy1wYXNzd29yZCI+0J/QsNGA0L7Qu9GMPC9sYWJlbD4NCiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InBhc3N3b3JkIiBpZD0ibmV3LXBhc3N3b3JkIiByZXF1aXJlZCB0aXRsZT0i0J/QsNGA0L7Qu9GMINC00LvRjyDQstGF0L7QtNCwINCyINGB0LjRgdGC0LXQvNGDIj4NCiAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4NCiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj0ibmV3LXJvbGUiPtCg0L7Qu9GMPC9sYWJlbD4NCiAgICAgICAgICAgICAgICAgICAgPHNlbGVjdCBpZD0ibmV3LXJvbGUiIHJlcXVpcmVkIHRpdGxlPSLQoNC+0LvRjCDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y8g0L7Qv9GA0LXQtNC10LvRj9C10YIg0LTQvtGB0YLRg9C/0L3Ri9C1INGE0YPQvdC60YbQuNC4Ij4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9InVzZXIiPtCf0L7Qu9GM0LfQvtCy0LDRgtC10LvRjDwvb3B0aW9uPg0KICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iYWRtaW4iPtCQ0LTQvNC40L3QuNGB0YLRgNCw0YLQvtGAPC9vcHRpb24+DQogICAgICAgICAgICAgICAgICAgIDwvc2VsZWN0Pg0KICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT0ic3VibWl0Ij7QlNC+0LHQsNCy0LjRgtGMINC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjzwvYnV0dG9uPg0KICAgICAgICAgICAgPC9mb3JtPg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0idXNlci1saXN0IiBpZD0idXNlcnMtbGlzdCI+DQogICAgICAgICAgICAgICAgPCEtLSDQodC/0LjRgdC+0Log0L/QvtC70YzQt9C+0LLQsNGC0LXQu9C10Lkg0LHRg9C00LXRgiDQt9C00LXRgdGMIC0tPg0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgIDwvZGl2Pg0KICAgIDwvZGl2Pg0KDQogICAgPCEtLSDQnNC+0LTQsNC70YzQvdC+0LUg0L7QutC90L4g0LTQu9GPINGA0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40Y8g0Y/Rh9C10LnQutC4IC0tPg0KICAgIDxkaXYgaWQ9ImVkaXQtY2VsbC1tb2RhbCIgY2xhc3M9Im1vZGFsIj4NCiAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtY29udGVudCI+DQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1oZWFkZXIiPg0KICAgICAgICAgICAgICAgIDxoMyBpZD0iZWRpdC1jZWxsLXRpdGxlIj7QoNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNC1INGP0YfQtdC50LrQuDwvaDM+DQogICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImNsb3NlIj4mdGltZXM7PC9zcGFuPg0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4NCiAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPSJjZWxsLXZhbHVlIj7Ql9C90LDRh9C10L3QuNC1OjwvbGFiZWw+DQogICAgICAgICAgICAgICAgPHRleHRhcmVhIGlkPSJjZWxsLXZhbHVlIiBjbGFzcz0iZWRpdC1jZWxsLWNvbnRlbnQiIHRpdGxlPSLQktCy0LXQtNC40YLQtSDQvdC+0LLQvtC1INC30L3QsNGH0LXQvdC40LUg0LTQu9GPINGP0YfQtdC50LrQuCI+PC90ZXh0YXJlYT4NCiAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+DQogICAgICAgICAgICAgICAgPGxhYmVsPtCf0YDQuNC60YDQtdC/0LvQtdC90L3Ri9C1INGE0LDQudC70Ys6PC9sYWJlbD4NCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmaWxlLXVwbG9hZC1hcmVhIiBpZD0iZmlsZS11cGxvYWQtYXJlYSIgdGl0bGU9ItCf0LXRgNC10YLQsNGJ0LjRgtC1INGE0LDQudC70Ysg0YHRjtC00LAg0LjQu9C4INC60LvQuNC60L3QuNGC0LUg0LTQu9GPINCy0YvQsdC+0YDQsCI+DQogICAgICAgICAgICAgICAgICAgINCf0LXRgNC10YLQsNGJ0LjRgtC1INGE0LDQudC70Ysg0YHRjtC00LAg0LjQu9C4INC60LvQuNC60L3QuNGC0LUg0LTQu9GPINCy0YvQsdC+0YDQsDxicj4NCiAgICAgICAgICAgICAgICAgICAgPHNtYWxsPijQuNC30L7QsdGA0LDQttC10L3QuNGPLCBQREYsIFdvcmQsIEV4Y2VsKTwvc21hbGw+DQogICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJmaWxlIiBpZD0iZmlsZS1pbnB1dCIgbXVsdGlwbGUgc3R5bGU9ImRpc3BsYXk6IG5vbmU7IiANCiAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjY2VwdD0iaW1hZ2UvKiwucGRmLC5kb2MsLmRvY3gsLnhscywueGxzeCwudHh0Ij4NCiAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJhdHRhY2hlZC1maWxlcyIgaWQ9ImF0dGFjaGVkLWZpbGVzIj4NCiAgICAgICAgICAgICAgICAgICAgPCEtLSDQn9GA0LjQutGA0LXQv9C70LXQvdC90YvQtSDRhNCw0LnQu9GLINCx0YPQtNGD0YIg0LfQtNC10YHRjCAtLT4NCiAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0icHJldmlldy1hY3Rpb25zIj4NCiAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPSJzYXZlLWNlbGwtYnRuIiB0aXRsZT0i0KHQvtGF0YDQsNC90LjRgtGMINC40LfQvNC10L3QtdC90LjRjyDQsiDRj9GH0LXQudC60LUiPtCh0L7RhdGA0LDQvdC40YLRjDwvYnV0dG9uPg0KICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9ImNsb3NlLWZpbGUtbW9kYWwiIHRpdGxlPSLQl9Cw0LrRgNGL0YLRjCDQvtC60L3QviI+0JfQsNC60YDRi9GC0Yw8L2J1dHRvbj4NCiAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICA8L2Rpdj4NCiAgICA8L2Rpdj4NCg0KICAgIDwhLS0g0JzQvtC00LDQu9GM0L3QvtC1INC+0LrQvdC+INC/0YDQtdC00L/RgNC+0YHQvNC+0YLRgNCwINGE0LDQudC70L7QsiAtLT4NCiAgICA8ZGl2IGlkPSJmaWxlLXByZXZpZXctbW9kYWwiIGNsYXNzPSJtb2RhbCI+DQogICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWNvbnRlbnQiPg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtaGVhZGVyIj4NCiAgICAgICAgICAgICAgICA8aDMgaWQ9InByZXZpZXctdGl0bGUiPtCf0YDQvtGB0LzQvtGC0YAg0YTQsNC50LvQsDwvaDM+DQogICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImNsb3NlIj4mdGltZXM7PC9zcGFuPg0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJmaWxlLWluZm8iPg0KICAgICAgICAgICAgICAgIDxzdHJvbmcgaWQ9InByZXZpZXctZmlsZW5hbWUiPtCd0LDQt9Cy0LDQvdC40LUg0YTQsNC50LvQsDwvc3Ryb25nPg0KICAgICAgICAgICAgICAgIDxkaXYgaWQ9InByZXZpZXctZmlsZXR5cGUiIHN0eWxlPSJmb250LXNpemU6IDAuOXJlbTsgY29sb3I6ICNiZGMzYzc7Ij48L2Rpdj4NCiAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0icHJldmlldy1jb250ZW50IiBpZD0icHJldmlldy1jb250ZW50Ij4NCiAgICAgICAgICAgICAgICA8IS0tINCa0L7QvdGC0LXQvdGCINGE0LDQudC70LAg0LHRg9C00LXRgiDQt9C00LXRgdGMIC0tPg0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJwcmV2aWV3LWFjdGlvbnMiPg0KICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9ImRvd25sb2FkLXByZXZpZXctYnRuIiBjbGFzcz0iYnRuLXN1Y2Nlc3MiIHRpdGxlPSLQodC60LDRh9Cw0YLRjCDRhNCw0LnQuyDQvdCwINC60L7QvNC/0YzRjtGC0LXRgCI+DQogICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJpY29uIj7ihpM8L3NwYW4+INCh0L7RhdGA0LDQvdC40YLRjA0KICAgICAgICAgICAgICAgIDwvYnV0dG9uPg0KICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9ImNvcHktcHJldmlldy1idG4iIGNsYXNzPSJidG4tc2Vjb25kYXJ5IiB0aXRsZT0i0KHQutC+0L/QuNGA0L7QstCw0YLRjCDRhNCw0LnQuyDQsiDQsdGD0YTQtdGAINC+0LHQvNC10L3QsCAo0LTQu9GPINC40LfQvtCx0YDQsNC20LXQvdC40LkpIj4NCiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9Imljb24iPvCfk4s8L3NwYW4+INCa0L7Qv9C40YDQvtCy0LDRgtGMDQogICAgICAgICAgICAgICAgPC9idXR0b24+DQogICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD0icHJpbnQtcHJldmlldy1idG4iIGNsYXNzPSJidG4tc2Vjb25kYXJ5IiB0aXRsZT0i0KDQsNGB0L/QtdGH0LDRgtCw0YLRjCDRhNCw0LnQuyI+DQogICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJpY29uIj7wn5aoPC9zcGFuPiDQn9C10YfQsNGC0YwNCiAgICAgICAgICAgICAgICA8L2J1dHRvbj4NCiAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICA8L2Rpdj4NCiAgICA8L2Rpdj4NCg0KICAgIDwhLS0g0JzQvtC00LDQu9GM0L3QvtC1INC+0LrQvdC+INC40LzQv9C+0YDRgtCwIEV4Y2VsIC0tPg0KICAgIDxkaXYgaWQ9ImltcG9ydC1leGNlbC1tb2RhbCIgY2xhc3M9Im1vZGFsIj4NCiAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtY29udGVudCI+DQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1oZWFkZXIiPg0KICAgICAgICAgICAgICAgIDxoMz7QmNC80L/QvtGA0YIg0LTQsNC90L3Ri9GFINC40LcgRXhjZWw8L2gzPg0KICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJjbG9zZSI+JnRpbWVzOzwvc3Bhbj4NCiAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+DQogICAgICAgICAgICAgICAgPGxhYmVsPtCS0YvQsdC10YDQuNGC0LUg0YTQsNC50LsgRXhjZWwgKC54bHN4LCAueGxzLCAuY3N2KTo8L2xhYmVsPg0KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZpbGUtdXBsb2FkLWFyZWEiIGlkPSJleGNlbC11cGxvYWQtYXJlYSIgdGl0bGU9ItCf0LXRgNC10YLQsNGJ0LjRgtC1INGE0LDQudC7IEV4Y2VsINGB0Y7QtNCwINC40LvQuCDQutC70LjQutC90LjRgtC1INC00LvRjyDQstGL0LHQvtGA0LAiPg0KICAgICAgICAgICAgICAgICAgICDQn9C10YDQtdGC0LDRidC40YLQtSDRhNCw0LnQuyBFeGNlbCDRgdGO0LTQsCDQuNC70Lgg0LrQu9C40LrQvdC40YLQtSDQtNC70Y8g0LLRi9Cx0L7RgNCwPGJyPg0KICAgICAgICAgICAgICAgICAgICA8c21hbGw+0J/QvtC00LTQtdGA0LbQuNCy0LDQtdC80YvQtSDRhNC+0YDQvNCw0YLRizogLnhsc3gsIC54bHMsIC5jc3Y8L3NtYWxsPg0KICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iZmlsZSIgaWQ9ImV4Y2VsLWZpbGUtaW5wdXQiIHN0eWxlPSJkaXNwbGF5OiBub25lOyIgDQogICAgICAgICAgICAgICAgICAgICAgICAgICBhY2NlcHQ9Ii54bHN4LC54bHMsLmNzdiI+DQogICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPg0KICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9ImltcG9ydC1tb2RlIj7QoNC10LbQuNC8INC40LzQv9C+0YDRgtCwOjwvbGFiZWw+DQogICAgICAgICAgICAgICAgPHNlbGVjdCBpZD0iaW1wb3J0LW1vZGUiIHRpdGxlPSLQktGL0LHQtdGA0LjRgtC1INGB0L/QvtGB0L7QsSDQtNC+0LHQsNCy0LvQtdC90LjRjyDQtNCw0L3QvdGL0YUiPg0KICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJyZXBsYWNlIj7Ql9Cw0LzQtdC90LjRgtGMINCy0YHQtSDQtNCw0L3QvdGL0LU8L29wdGlvbj4NCiAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iYXBwZW5kIj7QlNC+0LHQsNCy0LjRgtGMINC6INGB0YPRidC10YHRgtCy0YPRjtGJ0LjQvDwvb3B0aW9uPg0KICAgICAgICAgICAgICAgIDwvc2VsZWN0Pg0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICA8ZGl2IGlkPSJpbXBvcnQtcHJldmlldyIgc3R5bGU9ImRpc3BsYXk6IG5vbmU7IG1hcmdpbi10b3A6IDFyZW07Ij4NCiAgICAgICAgICAgICAgICA8aDQ+0J/RgNC10LTQv9GA0L7RgdC80L7RgtGAINC00LDQvdC90YvRhTo8L2g0Pg0KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InRhYmxlLWNvbnRhaW5lciIgc3R5bGU9Im1heC1oZWlnaHQ6IDMwMHB4OyI+DQogICAgICAgICAgICAgICAgICAgIDx0YWJsZSBpZD0iaW1wb3J0LXByZXZpZXctdGFibGUiPg0KICAgICAgICAgICAgICAgICAgICAgICAgPCEtLSDQn9GA0LXQtNC/0YDQvtGB0LzQvtGC0YAg0LTQsNC90L3Ri9GFINCx0YPQtNC10YIg0LfQtNC10YHRjCAtLT4NCiAgICAgICAgICAgICAgICAgICAgPC90YWJsZT4NCiAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0icHJldmlldy1hY3Rpb25zIj4NCiAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPSJjb25maXJtLWltcG9ydC1idG4iIGNsYXNzPSJidG4tc3VjY2VzcyIgc3R5bGU9ImRpc3BsYXk6IG5vbmU7IiB0aXRsZT0i0JjQvNC/0L7RgNGC0LjRgNC+0LLQsNGC0Ywg0LTQsNC90L3Ri9C1INCyINGC0LDQsdC70LjRhtGDIj4NCiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9Imljb24iPuKGkzwvc3Bhbj4g0JjQvNC/0L7RgNGC0LjRgNC+0LLQsNGC0Ywg0LTQsNC90L3Ri9C1DQogICAgICAgICAgICAgICAgPC9idXR0b24+DQogICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD0iY2FuY2VsLWltcG9ydC1idG4iIGNsYXNzPSJidG4tc2Vjb25kYXJ5IiB0aXRsZT0i0J7RgtC80LXQvdC40YLRjCDQuNC80L/QvtGA0YIiPg0KICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0iaWNvbiI+w5c8L3NwYW4+INCe0YLQvNC10L3QsA0KICAgICAgICAgICAgICAgIDwvYnV0dG9uPg0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgIDwvZGl2Pg0KICAgIDwvZGl2Pg0KDQogICAgPCEtLSDQnNC+0LTQsNC70YzQvdC+0LUg0L7QutC90L4g0LTQu9GPINGD0LTQsNC70LXQvdC40Y8g0YHRgtC+0LvQsdGG0LAgLS0+DQogICAgPGRpdiBpZD0icmVtb3ZlLWNvbHVtbi1tb2RhbCIgY2xhc3M9Im1vZGFsIj4NCiAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtY29udGVudCI+DQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1oZWFkZXIiPg0KICAgICAgICAgICAgICAgIDxoMz7Qo9C00LDQu9C10L3QuNC1INGB0YLQvtC70LHRhtCwPC9oMz4NCiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0iY2xvc2UiPiZ0aW1lczs8L3NwYW4+DQogICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPg0KICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9ImNvbHVtbi10by1yZW1vdmUiPtCS0YvQsdC10YDQuNGC0LUg0YHRgtC+0LvQsdC10YYg0LTQu9GPINGD0LTQsNC70LXQvdC40Y86PC9sYWJlbD4NCiAgICAgICAgICAgICAgICA8c2VsZWN0IGlkPSJjb2x1bW4tdG8tcmVtb3ZlIiBzdHlsZT0id2lkdGg6IDEwMCU7IHBhZGRpbmc6IDAuNXJlbTsgYm9yZGVyOiAxcHggc29saWQgIzRhNGE0YTsgYm9yZGVyLXJhZGl1czogNXB4OyBiYWNrZ3JvdW5kOiAjMmYyZjJmOyBjb2xvcjogI2VjZjBmMTsiPg0KICAgICAgICAgICAgICAgICAgICA8IS0tINCh0YLQvtC70LHRhtGLINCx0YPQtNGD0YIg0LTQvtCx0LDQstC70LXQvdGLINC00LjQvdCw0LzQuNGH0LXRgdC60LggLS0+DQogICAgICAgICAgICAgICAgPC9zZWxlY3Q+DQogICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgIDxidXR0b24gaWQ9ImNvbmZpcm0tcmVtb3ZlLWNvbHVtbiI+0KPQtNCw0LvQuNGC0Ywg0YHRgtC+0LvQsdC10YY8L2J1dHRvbj4NCiAgICAgICAgPC9kaXY+DQogICAgPC9kaXY+DQoNCiAgICA8IS0tINCc0L7QtNCw0LvRjNC90L7QtSDQvtC60L3QviDQv9C10YDQtdC80LXRidC10L3QuNGPINGB0YLQvtC70LHRhtCwIC0tPg0KICAgIDxkaXYgaWQ9Im1vdmUtY29sdW1uLW1vZGFsIiBjbGFzcz0ibW9kYWwiPg0KICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1jb250ZW50Ij4NCiAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWhlYWRlciI+DQogICAgICAgICAgICAgICAgPGgzPtCf0LXRgNC10LzQtdGJ0LXQvdC40LUg0YHRgtC+0LvQsdGG0LA8L2gzPg0KICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJjbG9zZSI+JnRpbWVzOzwvc3Bhbj4NCiAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+DQogICAgICAgICAgICAgICAgPGxhYmVsIGZvcj0iY29sdW1uLXRvLW1vdmUiPtCS0YvQsdC10YDQuNGC0LUg0YHRgtC+0LvQsdC10YYg0LTQu9GPINC/0LXRgNC10LzQtdGJ0LXQvdC40Y86PC9sYWJlbD4NCiAgICAgICAgICAgICAgICA8c2VsZWN0IGlkPSJjb2x1bW4tdG8tbW92ZSIgc3R5bGU9IndpZHRoOiAxMDAlOyBwYWRkaW5nOiAwLjVyZW07IGJvcmRlcjogMXB4IHNvbGlkICM0YTRhNGE7IGJvcmRlci1yYWRpdXM6IDVweDsgYmFja2dyb3VuZDogIzJmMmYyZjsgY29sb3I6ICNlY2YwZjE7Ij4NCiAgICAgICAgICAgICAgICAgICAgPCEtLSDQodGC0L7Qu9Cx0YbRiyDQsdGD0LTRg9GCINC00L7QsdCw0LLQu9C10L3RiyDQtNC40L3QsNC80LjRh9C10YHQutC4IC0tPg0KICAgICAgICAgICAgICAgIDwvc2VsZWN0Pg0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4NCiAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPSJjb2x1bW4tcG9zaXRpb24iPtCd0L7QstCw0Y8g0L/QvtC30LjRhtC40Y8gKNC+0YIgMSDQtNC+IDxzcGFuIGlkPSJtYXgtcG9zaXRpb24iPjA8L3NwYW4+KTo8L2xhYmVsPg0KICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJudW1iZXIiIGlkPSJjb2x1bW4tcG9zaXRpb24iIG1pbj0iMSIgdmFsdWU9IjEiIHN0eWxlPSJ3aWR0aDogMTAwJTsgcGFkZGluZzogMC41cmVtOyBib3JkZXI6IDFweCBzb2xpZCAjNGE0YTRhOyBib3JkZXItcmFkaXVzOiA1cHg7IGJhY2tncm91bmQ6ICMyZjJmMmY7IGNvbG9yOiAjZWNmMGYxOyI+DQogICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgIDxidXR0b24gaWQ9ImNvbmZpcm0tbW92ZS1jb2x1bW4iPtCf0LXRgNC10LzQtdGB0YLQuNGC0Ywg0YHRgtC+0LvQsdC10YY8L2J1dHRvbj4NCiAgICAgICAgPC9kaXY+DQogICAgPC9kaXY+DQoNCiAgICA8IS0tINCc0L7QtNCw0LvRjNC90L7QtSDQvtC60L3QviDQvdCw0YHRgtGA0L7QtdC6IEdpdEh1YiAtLT4NCiAgICA8ZGl2IGlkPSJnaXRodWItc3luYy1tb2RhbCIgY2xhc3M9Im1vZGFsIj4NCiAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtY29udGVudCI+DQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1oZWFkZXIiPg0KICAgICAgICAgICAgICAgIDxoMz7QndCw0YHRgtGA0L7QudC60Lgg0YHQuNC90YXRgNC+0L3QuNC30LDRhtC40Lgg0YEgR2l0SHViPC9oMz4NCiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0iY2xvc2UiPiZ0aW1lczs8L3NwYW4+DQogICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgIDxmb3JtIGlkPSJnaXRodWItc3luYy1mb3JtIj4NCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4NCiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj0iZ2l0aHViLXRva2VuIj5HaXRIdWIg0KLQvtC60LXQvTwvbGFiZWw+DQogICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJwYXNzd29yZCIgaWQ9ImdpdGh1Yi10b2tlbiIgcmVxdWlyZWQgdGl0bGU9ItCi0L7QutC10L0g0LTQvtGB0YLRg9C/0LAgR2l0SHViINGBINC/0YDQsNCy0LDQvNC4IHJlcG8iPg0KICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPg0KICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPSJnaXRodWItcmVwbyI+0KDQtdC/0L7Qt9C40YLQvtGA0LjQuTwvbGFiZWw+DQogICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0iZ2l0aHViLXJlcG8iIHZhbHVlPSJ2aWt0b3IxNTA4MTk4NS9UcmFuc29ydCIgcmVxdWlyZWQgdGl0bGU9ItCg0LXQv9C+0LfQuNGC0L7RgNC40Lkg0LIg0YTQvtGA0LzQsNGC0LUgdXNlcm5hbWUvcmVwbyI+DQogICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+DQogICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9ImdpdGh1Yi1icmFuY2giPtCS0LXRgtC60LA8L2xhYmVsPg0KICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9ImdpdGh1Yi1icmFuY2giIHZhbHVlPSJtYWluIiByZXF1aXJlZCB0aXRsZT0i0JLQtdGC0LrQsCDRgNC10L/QvtC30LjRgtC+0YDQuNGPIj4NCiAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9InN1Ym1pdCI+0KHQvtGF0YDQsNC90LjRgtGMINC90LDRgdGC0YDQvtC50LrQuDwvYnV0dG9uPg0KICAgICAgICAgICAgPC9mb3JtPg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0icHJldmlldy1hY3Rpb25zIj4NCiAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPSJzeW5jLW5vdy1idG4iIGNsYXNzPSJidG4tc3VjY2VzcyI+0KHQuNC90YXRgNC+0L3QuNC30LjRgNC+0LLQsNGC0Ywg0YHQtdC50YfQsNGBPC9idXR0b24+DQogICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD0ibG9hZC1mcm9tLWdpdGh1Yi1idG4iIGNsYXNzPSJidG4tc2Vjb25kYXJ5Ij7Ql9Cw0LPRgNGD0LfQuNGC0Ywg0LjQtyBHaXRIdWI8L2J1dHRvbj4NCiAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICA8L2Rpdj4NCiAgICA8L2Rpdj4NCg0KICAgIDwhLS0g0JzQvtC00LDQu9GM0L3QvtC1INC+0LrQvdC+INC00LvRjyDRgNCw0LfRgNC10YjQtdC90LjRjyDQutC+0L3RhNC70LjQutGC0L7QsiAtLT4NCiAgICA8ZGl2IGlkPSJjb25mbGljdC1yZXNvbHV0aW9uLW1vZGFsIiBjbGFzcz0ibW9kYWwgY29uZmxpY3QtbW9kYWwiPg0KICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1jb250ZW50Ij4NCiAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWhlYWRlciI+DQogICAgICAgICAgICAgICAgPGgzPtCe0LHQvdCw0YDRg9C20LXQvSDQutC+0L3RhNC70LjQutGCINC00LDQvdC90YvRhTwvaDM+DQogICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImNsb3NlIj4mdGltZXM7PC9zcGFuPg0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4NCiAgICAgICAgICAgICAgICA8cD7QlNCw0L3QvdGL0LUg0LHRi9C70Lgg0LjQt9C80LXQvdC10L3RiyDQtNGA0YPQs9C40Lwg0LDQtNC80LjQvdC40YHRgtGA0LDRgtC+0YDQvtC8LiDQktGL0LHQtdGA0LjRgtC1INC00LXQudGB0YLQstC40LU6PC9wPg0KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNvbmZsaWN0LWRldGFpbHMiIGlkPSJjb25mbGljdC1kZXRhaWxzIj4NCiAgICAgICAgICAgICAgICAgICAgPCEtLSDQlNC10YLQsNC70Lgg0LrQvtC90YTQu9C40LrRgtCwINCx0YPQtNGD0YIg0LfQtNC10YHRjCAtLT4NCiAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0icHJldmlldy1hY3Rpb25zIj4NCiAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPSJvdmVyd3JpdGUtY29uZmxpY3QtYnRuIiBjbGFzcz0iYnRuLXN1Y2Nlc3MiPtCf0LXRgNC10LfQsNC/0LjRgdCw0YLRjCDQtNCw0L3QvdGL0LU8L2J1dHRvbj4NCiAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPSJrZWVwLWNoYW5nZXMtYnRuIiBjbGFzcz0iYnRuLXNlY29uZGFyeSI+0KHQvtGF0YDQsNC90LjRgtGMINC80L7QuCDQuNC30LzQtdC90LXQvdC40Y88L2J1dHRvbj4NCiAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPSJjYW5jZWwtY29uZmxpY3QtYnRuIiBjbGFzcz0iYnRuLXNlY29uZGFyeSI+0J7RgtC80LXQvdCwPC9idXR0b24+DQogICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgPC9kaXY+DQogICAgPC9kaXY+DQoNCiAgICA8IS0tINCh0LrRgNGL0YLRi9C5IGlucHV0INC00LvRjyDQt9Cw0LPRgNGD0LfQutC4INC70L7Qs9C+0YLQuNC/0LAgLS0+DQogICAgPGlucHV0IHR5cGU9ImZpbGUiIGlkPSJsb2dvLXVwbG9hZCIgYWNjZXB0PSIucG5nIiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPg0KDQogICAgPHNjcmlwdD4NCiAgICAgICAgLy8gPT09PT09PT09PSBTdG9yYWdlTWFuYWdlciBDbGFzcyA9PT09PT09PT09DQogICAgICAgIGNsYXNzIFN0b3JhZ2VNYW5hZ2VyIHsNCiAgICAgICAgICAgIGNvbnN0cnVjdG9yKCkgew0KICAgICAgICAgICAgICAgIHRoaXMuR0lUSFVCX0NPTkZJRyA9IHsNCiAgICAgICAgICAgICAgICAgICAgdG9rZW46IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdnaXRodWJUb2tlbicpIHx8ICcnLA0KICAgICAgICAgICAgICAgICAgICByZXBvOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZ2l0aHViUmVwbycpIHx8ICd2aWt0b3IxNTA4MTk4NS9UcmFuc29ydCcsDQogICAgICAgICAgICAgICAgICAgIGJyYW5jaDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2dpdGh1YkJyYW5jaCcpIHx8ICdtYWluJw0KICAgICAgICAgICAgICAgIH07DQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgdGhpcy5wZW5kaW5nQ2hhbmdlcyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3BlbmRpbmdDaGFuZ2VzJykpIHx8IFtdOw0KICAgICAgICAgICAgICAgIHRoaXMuaXNTeW5jaW5nID0gZmFsc2U7DQogICAgICAgICAgICAgICAgdGhpcy5zeW5jUmV0cnlDb3VudCA9IDA7DQogICAgICAgICAgICAgICAgdGhpcy5NQVhfU1lOQ19SRVRSSUVTID0gMzsNCiAgICAgICAgICAgICAgICB0aGlzLnN5bmNSZXRyeVRpbWVvdXQgPSBudWxsOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAvLyDQn9C+0LvRg9GH0LXQvdC40LUg0LLRgdC10YUg0LTQsNC90L3Ri9GFINC/0YDQuNC70L7QttC10L3QuNGPDQogICAgICAgICAgICBnZXRBbGxBcHBEYXRhKHRhYmxlRGF0YSwgdXNlcnMsIGFwcFNldHRpbmdzLCBjdXN0b21CdXR0b25zLCBjdXN0b21Db2x1bW5zLCBiYXNpY0NvbHVtbnMsIGRhdGVWYWxpZGF0aW9uQ29sdW1ucywgdGFicywgY3VycmVudFVzZXIpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgICAgICAgICB0YWJsZURhdGEsDQogICAgICAgICAgICAgICAgICAgIHVzZXJzLA0KICAgICAgICAgICAgICAgICAgICBhcHBTZXR0aW5ncywNCiAgICAgICAgICAgICAgICAgICAgY3VzdG9tQnV0dG9ucywNCiAgICAgICAgICAgICAgICAgICAgY3VzdG9tQ29sdW1ucywNCiAgICAgICAgICAgICAgICAgICAgYmFzaWNDb2x1bW5zLA0KICAgICAgICAgICAgICAgICAgICBkYXRlVmFsaWRhdGlvbkNvbHVtbnMsDQogICAgICAgICAgICAgICAgICAgIHRhYnMsDQogICAgICAgICAgICAgICAgICAgIGxhc3RTeW5jOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksDQogICAgICAgICAgICAgICAgICAgIGxhc3RFZGl0b3I6IGN1cnJlbnRVc2VyLnVzZXJuYW1lDQogICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLy8g0KHQvtGF0YDQsNC90LXQvdC40LUg0LLRgdC10YUg0LTQsNC90L3Ri9GFINCyIGxvY2FsU3RvcmFnZQ0KICAgICAgICAgICAgc2F2ZVRvTG9jYWxTdG9yYWdlKHRhYmxlRGF0YSwgdXNlcnMsIGFwcFNldHRpbmdzLCBjdXN0b21CdXR0b25zLCBjdXN0b21Db2x1bW5zLCBiYXNpY0NvbHVtbnMsIGRhdGVWYWxpZGF0aW9uQ29sdW1ucywgdGFicykgew0KICAgICAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0YWJsZURhdGEnLCBKU09OLnN0cmluZ2lmeSh0YWJsZURhdGEpKTsNCiAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzZXJzJywgSlNPTi5zdHJpbmdpZnkodXNlcnMpKTsNCiAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2FwcFNldHRpbmdzJywgSlNPTi5zdHJpbmdpZnkoYXBwU2V0dGluZ3MpKTsNCiAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2N1c3RvbUJ1dHRvbnMnLCBKU09OLnN0cmluZ2lmeShjdXN0b21CdXR0b25zKSk7DQogICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdjdXN0b21Db2x1bW5zJywgSlNPTi5zdHJpbmdpZnkoY3VzdG9tQ29sdW1ucykpOw0KICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnYmFzaWNDb2x1bW5zJywgSlNPTi5zdHJpbmdpZnkoYmFzaWNDb2x1bW5zKSk7DQogICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdkYXRlVmFsaWRhdGlvbkNvbHVtbnMnLCBKU09OLnN0cmluZ2lmeShkYXRlVmFsaWRhdGlvbkNvbHVtbnMpKTsNCiAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3RhYnMnLCBKU09OLnN0cmluZ2lmeSh0YWJzKSk7DQogICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRhSGFzaCA9IEpTT04uc3RyaW5naWZ5KHRhYmxlRGF0YSkgKyBKU09OLnN0cmluZ2lmeSh1c2VycykgKyBKU09OLnN0cmluZ2lmeShhcHBTZXR0aW5ncyk7DQogICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdsYXN0RGF0YUhhc2gnLCBkYXRhSGFzaCk7DQogICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgew0KICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfQntGI0LjQsdC60LAg0YHQvtGF0YDQsNC90LXQvdC40Y8g0LIgbG9jYWxTdG9yYWdlOicsIGVycm9yKTsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLy8g0JfQsNCz0YDRg9C30LrQsCDQstGB0LXRhSDQtNCw0L3QvdGL0YUg0LjQtyBsb2NhbFN0b3JhZ2UNCiAgICAgICAgICAgIGxvYWRGcm9tTG9jYWxTdG9yYWdlKCkgew0KICAgICAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhYmxlRGF0YSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3RhYmxlRGF0YScpKSB8fCBbXTsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgdXNlcnMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VycycpKSB8fCBbXTsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgYXBwU2V0dGluZ3MgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhcHBTZXR0aW5ncycpKSB8fCB7fTsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VzdG9tQnV0dG9ucyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2N1c3RvbUJ1dHRvbnMnKSkgfHwgW107DQogICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1c3RvbUNvbHVtbnMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjdXN0b21Db2x1bW5zJykpIHx8IFtdOw0KICAgICAgICAgICAgICAgICAgICBjb25zdCBiYXNpY0NvbHVtbnMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdiYXNpY0NvbHVtbnMnKSkgfHwgW107DQogICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGVWYWxpZGF0aW9uQ29sdW1ucyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2RhdGVWYWxpZGF0aW9uQ29sdW1ucycpKSB8fCB7fTsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGFicyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3RhYnMnKSkgfHwgW107DQogICAgICAgICAgICAgICAgICAgIGNvbnN0IHBlbmRpbmdDaGFuZ2VzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncGVuZGluZ0NoYW5nZXMnKSkgfHwgW107DQogICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgICAgICAgICAgICAgdGFibGVEYXRhLA0KICAgICAgICAgICAgICAgICAgICAgICAgdXNlcnMsDQogICAgICAgICAgICAgICAgICAgICAgICBhcHBTZXR0aW5ncywNCiAgICAgICAgICAgICAgICAgICAgICAgIGN1c3RvbUJ1dHRvbnMsDQogICAgICAgICAgICAgICAgICAgICAgICBjdXN0b21Db2x1bW5zLA0KICAgICAgICAgICAgICAgICAgICAgICAgYmFzaWNDb2x1bW5zLA0KICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZVZhbGlkYXRpb25Db2x1bW5zLA0KICAgICAgICAgICAgICAgICAgICAgICAgdGFicywNCiAgICAgICAgICAgICAgICAgICAgICAgIHBlbmRpbmdDaGFuZ2VzDQogICAgICAgICAgICAgICAgICAgIH07DQogICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign0J7RiNC40LHQutCwINC30LDQs9GA0YPQt9C60Lgg0LjQtyBsb2NhbFN0b3JhZ2U6JywgZXJyb3IpOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXREZWZhdWx0RGF0YSgpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLy8g0JTQsNC90L3Ri9C1INC/0L4g0YPQvNC+0LvRh9Cw0L3QuNGODQogICAgICAgICAgICBnZXREZWZhdWx0RGF0YSgpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgICAgICAgICB0YWJsZURhdGE6IFsNCiAgICAgICAgICAgICAgICAgICAgICAgIHsgaWQ6IDEsIG5hbWU6ICfQn9GA0L7QtdC60YIg0JAnLCBkYXRlOiAnMDEuMTAuMjAyMycsIHN0YXR1czogJ9CQ0LrRgtC40LLQtdC9JywgY3VzdG9tRGF0YToge30sIGF0dGFjaG1lbnRzOiB7fSB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgeyBpZDogMiwgbmFtZTogJ9Cf0YDQvtC10LrRgiDQkScsIGRhdGU6ICcwNS4xMC4yMDIzJywgc3RhdHVzOiAn0JfQsNCy0LXRgNGI0LXQvScsIGN1c3RvbURhdGE6IHt9LCBhdHRhY2htZW50czoge30gfSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHsgaWQ6IDMsIG5hbWU6ICfQn9GA0L7QtdC60YIg0JInLCBkYXRlOiAnMTAuMTAuMjAyMycsIHN0YXR1czogJ9CSINC/0YDQvtGG0LXRgdGB0LUnLCBjdXN0b21EYXRhOiB7fSwgYXR0YWNobWVudHM6IHt9IH0NCiAgICAgICAgICAgICAgICAgICAgXSwNCiAgICAgICAgICAgICAgICAgICAgdXNlcnM6IFsNCiAgICAgICAgICAgICAgICAgICAgICAgIHsgdXNlcm5hbWU6ICdhZG1pbicsIHBhc3N3b3JkOiAnYWRtaW4nLCByb2xlOiAnYWRtaW4nIH0sDQogICAgICAgICAgICAgICAgICAgICAgICB7IHVzZXJuYW1lOiAndXNlcicsIHBhc3N3b3JkOiAndXNlcicsIHJvbGU6ICd1c2VyJyB9DQogICAgICAgICAgICAgICAgICAgIF0sDQogICAgICAgICAgICAgICAgICAgIGFwcFNldHRpbmdzOiB7DQogICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJUaXRsZTogJ9Ce0YHQvdC+0LLQvdC+0LUg0L7QutC90L4nLA0KICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyTG9nbzogJycsDQogICAgICAgICAgICAgICAgICAgICAgICBmaXhlZENvbHVtbnNDb3VudDogMywNCiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRUaGVtZTogJ3RoZW1lLW9yYW5nZScNCiAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgY3VzdG9tQnV0dG9uczogW10sDQogICAgICAgICAgICAgICAgICAgIGN1c3RvbUNvbHVtbnM6IFtdLA0KICAgICAgICAgICAgICAgICAgICBiYXNpY0NvbHVtbnM6IFsNCiAgICAgICAgICAgICAgICAgICAgICAgIHsgaWQ6ICdpZCcsIG5hbWU6ICfihJYg0L8v0L8nLCBlZGl0YWJsZTogZmFsc2UgfSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHsgaWQ6ICduYW1lJywgbmFtZTogJ9Cd0LDQt9Cy0LDQvdC40LUnLCBlZGl0YWJsZTogdHJ1ZSB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgeyBpZDogJ2RhdGUnLCBuYW1lOiAn0JTQsNGC0LAg0YHQvtC30LTQsNC90LjRjycsIGVkaXRhYmxlOiB0cnVlIH0sDQogICAgICAgICAgICAgICAgICAgICAgICB7IGlkOiAnc3RhdHVzJywgbmFtZTogJ9Ch0YLQsNGC0YPRgScsIGVkaXRhYmxlOiB0cnVlIH0NCiAgICAgICAgICAgICAgICAgICAgXSwNCiAgICAgICAgICAgICAgICAgICAgZGF0ZVZhbGlkYXRpb25Db2x1bW5zOiB7fSwNCiAgICAgICAgICAgICAgICAgICAgdGFiczogWw0KICAgICAgICAgICAgICAgICAgICAgICAgeyBpZDogJ3RhYjEnLCBuYW1lOiAn0J7RgdC90L7QstC90L7QtSDQvtC60L3QvicsIGRhdGE6IG51bGwgfQ0KICAgICAgICAgICAgICAgICAgICBdLA0KICAgICAgICAgICAgICAgICAgICBwZW5kaW5nQ2hhbmdlczogW10NCiAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAvLyDQodC+0YXRgNCw0L3QtdC90LjQtSDQsiBHaXRIdWINCiAgICAgICAgICAgIGFzeW5jIHNhdmVUb0dpdEh1YihkYXRhLCBjdXJyZW50VXNlcikgew0KICAgICAgICAgICAgICAgIGlmICghdGhpcy5HSVRIVUJfQ09ORklHLnRva2VuKSB7DQogICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignR2l0SHViINGC0L7QutC10L0g0L3QtSDQvdCw0YHRgtGA0L7QtdC9Jyk7DQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflIQg0J3QsNGH0LjQvdCw0LXQvCDQv9GA0L7RhtC10YHRgSDRgdC40L3RhdGA0L7QvdC40LfQsNGG0LjQuC4uLicpOw0KDQogICAgICAgICAgICAgICAgbGV0IGNvbnRlbnQgPSBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShkYXRhLCBudWxsLCAyKSkpKTsNCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICBsZXQgc2hhID0gbnVsbDsNCiAgICAgICAgICAgICAgICBsZXQgcmVtb3RlRGF0YSA9IG51bGw7DQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfk6Eg0J/QvtC70YPRh9Cw0LXQvCDQsNC60YLRg9Cw0LvRjNC90YPRjiDQuNC90YTQvtGA0LzQsNGG0LjRjiDQviDRhNCw0LnQu9C1Li4uJyk7DQogICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbGVJbmZvUmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS9yZXBvcy8ke3RoaXMuR0lUSFVCX0NPTkZJRy5yZXBvfS9jb250ZW50cy9kYXRhLmpzb24/cmVmPSR7dGhpcy5HSVRIVUJfQ09ORklHLmJyYW5jaH1gLCB7DQogICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBgdG9rZW4gJHt0aGlzLkdJVEhVQl9DT05GSUcudG9rZW59YCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL3ZuZC5naXRodWIudjMranNvbicNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICBpZiAoZmlsZUluZm9SZXNwb25zZS5vaykgew0KICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsZUluZm8gPSBhd2FpdCBmaWxlSW5mb1Jlc3BvbnNlLmpzb24oKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHNoYSA9IGZpbGVJbmZvLnNoYTsNCiAgICAgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVtb3RlQ29udGVudCA9IGRlY29kZVVSSUNvbXBvbmVudChlc2NhcGUoYXRvYihmaWxlSW5mby5jb250ZW50KSkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3RlRGF0YSA9IEpTT04ucGFyc2UocmVtb3RlQ29udGVudCk7DQogICAgICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUg0KLQtdC60YPRidC40LkgU0hBOicsIHNoYSk7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50VXNlci5yb2xlID09PSAnYWRtaW4nICYmIHJlbW90ZURhdGEubGFzdEVkaXRvciAmJiANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdGVEYXRhLmxhc3RFZGl0b3IgIT09IGN1cnJlbnRVc2VyLnVzZXJuYW1lICYmIA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW90ZURhdGEubGFzdFN5bmMgPiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbGFzdFN5bmNUaW1lJykpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4pqg77iPINCe0LHQvdCw0YDRg9C20LXQvSDQv9C+0YLQtdC90YbQuNCw0LvRjNC90YvQuSDQutC+0L3RhNC70LjQutGCOiDQtNCw0L3QvdGL0LUg0LHRi9C70Lgg0LjQt9C80LXQvdC10L3RiyDQtNGA0YPQs9C40Lwg0LDQtNC80LjQvdC40YHRgtGA0LDRgtC+0YDQvtC8Jyk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmxpY3Q6IHRydWUsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW90ZURhdGE6IHJlbW90ZURhdGEsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoYTogc2hhDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflIQg0JLRi9C/0L7Qu9C90Y/QtdC8INCw0LLRgtC+0LzQsNGC0LjRh9C10YHQutC+0LUg0YHQu9C40Y/QvdC40LUg0LTQsNC90L3Ri9GFLi4uJyk7DQogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtZXJnZWREYXRhID0gdGhpcy5tZXJnZURhdGEocmVtb3RlRGF0YSwgZGF0YSk7DQogICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkobWVyZ2VkRGF0YSwgbnVsbCwgMikpKSk7DQogICAgICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChmaWxlSW5mb1Jlc3BvbnNlLnN0YXR1cyA9PT0gNDA0KSB7DQogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+TnSDQpNCw0LnQuyDQvdC1INGB0YPRidC10YHRgtCy0YPQtdGCLCDRgdC+0LfQtNCw0LXQvCDQvdC+0LLRi9C5Jyk7DQogICAgICAgICAgICAgICAgICAgICAgICBzaGEgPSBudWxsOw0KICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZXJyb3IgPSBhd2FpdCBmaWxlSW5mb1Jlc3BvbnNlLmpzb24oKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihg0J7RiNC40LHQutCwINC/0L7Qu9GD0YfQtdC90LjRjyDQuNC90YTQvtGA0LzQsNGG0LjQuCDQviDRhNCw0LnQu9C1OiAke2Vycm9yLm1lc3NhZ2V9YCk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7DQogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfimqDvuI8g0J7RiNC40LHQutCwINC/0YDQuCDQv9C+0LvRg9GH0LXQvdC40Lgg0LjQvdGE0L7RgNC80LDRhtC40Lgg0L4g0YTQsNC50LvQtTonLCBlLm1lc3NhZ2UpOw0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5K+INCe0YLQv9GA0LDQstC70Y/QtdC8INC00LDQvdC90YvQtSDQvdCwIEdpdEh1Yi4uLicpOw0KICAgICAgICAgICAgICAgIGNvbnN0IHNhdmVSZXNwb25zZSA9IGF3YWl0IGZldGNoKGBodHRwczovL2FwaS5naXRodWIuY29tL3JlcG9zLyR7dGhpcy5HSVRIVUJfQ09ORklHLnJlcG99L2NvbnRlbnRzL2RhdGEuanNvbmAsIHsNCiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnUFVUJywNCiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogew0KICAgICAgICAgICAgICAgICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBgdG9rZW4gJHt0aGlzLkdJVEhVQl9DT05GSUcudG9rZW59YCwNCiAgICAgICAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsDQogICAgICAgICAgICAgICAgICAgICAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL3ZuZC5naXRodWIudjMranNvbicNCiAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoew0KICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogYNCQ0LLRgtC+LdGB0LjQvdGF0YDQvtC90LjQt9Cw0YbQuNGPICR7bmV3IERhdGUoKS50b0xvY2FsZVN0cmluZygpfSAoJHtjdXJyZW50VXNlci51c2VybmFtZX0pYCwNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IGNvbnRlbnQsDQogICAgICAgICAgICAgICAgICAgICAgICBicmFuY2g6IHRoaXMuR0lUSFVCX0NPTkZJRy5icmFuY2gsDQogICAgICAgICAgICAgICAgICAgICAgICBzaGE6IHNoYQ0KICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIH0pOw0KDQogICAgICAgICAgICAgICAgaWYgKCFzYXZlUmVzcG9uc2Uub2spIHsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXJyb3IgPSBhd2FpdCBzYXZlUmVzcG9uc2UuanNvbigpOw0KICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yLm1lc3NhZ2UgJiYgZXJyb3IubWVzc2FnZS5pbmNsdWRlcygnZG9lcyBub3QgbWF0Y2gnKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KaoSDQntCx0L3QsNGA0YPQttC10L0g0LrQvtC90YTQu9C40LrRgiBTSEEsINC+0LHQvdC+0LLQu9GP0LXQvCDQtNCw0L3QvdGL0LUuLi4nKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hhQ29uZmxpY3Q6IHRydWUsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGVycm9yDQogICAgICAgICAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IubWVzc2FnZSB8fCAn0J7RiNC40LHQutCwINGB0L7RhdGA0LDQvdC10L3QuNGPINCyIEdpdEh1YicpOw0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUg0KPRgdC/0LXRiNC90L4g0YHQvtGF0YDQsNC90LXQvdC+INCyIEdpdEh1YicpOw0KICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdsYXN0U3luY1RpbWUnLCBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkpOw0KICAgICAgICAgICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLy8g0JfQsNCz0YDRg9C30LrQsCDQuNC3IEdpdEh1Yg0KICAgICAgICAgICAgYXN5bmMgbG9hZEZyb21HaXRIdWIoKSB7DQogICAgICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfk6Ug0J3QsNGH0LjQvdCw0LXQvCDQt9Cw0LPRgNGD0LfQutGDINC00LDQvdC90YvRhSDQuNC3IEdpdEh1Yi4uLicpOw0KICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLkdJVEhVQl9DT05GSUcudG9rZW4gJiYgIXRoaXMuR0lUSFVCX0NPTkZJRy5yZXBvKSB7DQogICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ9Cd0LDRgdGC0YDQvtC50LrQuCBHaXRIdWIg0L3QtSDQvdCw0YHRgtGA0L7QtdC90YsnKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgICAgIGNvbnN0IGhlYWRlcnMgPSB7DQogICAgICAgICAgICAgICAgICAgICAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL3ZuZC5naXRodWIudjMranNvbicNCiAgICAgICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuR0lUSFVCX0NPTkZJRy50b2tlbikgew0KICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyc1snQXV0aG9yaXphdGlvbiddID0gYHRva2VuICR7dGhpcy5HSVRIVUJfQ09ORklHLnRva2VufWA7DQogICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGBodHRwczovL2FwaS5naXRodWIuY29tL3JlcG9zLyR7dGhpcy5HSVRIVUJfQ09ORklHLnJlcG99L2NvbnRlbnRzL2RhdGEuanNvbj9yZWY9JHt0aGlzLkdJVEhVQl9DT05GSUcuYnJhbmNofWAsIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMNCiAgICAgICAgICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfk6Eg0KHRgtCw0YLRg9GBINC30LDQs9GA0YPQt9C60Lg6JywgcmVzcG9uc2Uuc3RhdHVzKTsNCg0KICAgICAgICAgICAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDQpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+TnSDQpNCw0LnQuyDQtNCw0L3QvdGL0YUg0L3QtSDQvdCw0LnQtNC10L0sINCx0YPQtNC10YIg0YHQvtC30LTQsNC9INC/0YDQuCDQv9C10YDQstC+0Lkg0YHQuNC90YXRgNC+0L3QuNC30LDRhtC40LgnKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBub3RGb3VuZDogdHJ1ZSB9Ow0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZXJyb3IgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7DQogICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IubWVzc2FnZSB8fCBg0J7RiNC40LHQutCwINC30LDQs9GA0YPQt9C60Lg6ICR7cmVzcG9uc2Uuc3RhdHVzfWApOw0KICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsZUluZm8gPSBhd2FpdCByZXNwb25zZS5qc29uKCk7DQogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUg0KTQsNC50Lsg0L3QsNC50LTQtdC9LCDRgNCw0LfQvNC10YA6JywgZmlsZUluZm8uc2l6ZSwgJ9Cx0LDQudGCJyk7DQoNCiAgICAgICAgICAgICAgICAgICAgaWYgKCFmaWxlSW5mby5jb250ZW50IHx8IGZpbGVJbmZvLnNpemUgPT09IDApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcign0KTQsNC50Lsg0LTQsNC90L3Ri9GFINC/0YPRgdGCJyk7DQogICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAgICBjb25zdCBjb250ZW50ID0gZGVjb2RlVVJJQ29tcG9uZW50KGVzY2FwZShhdG9iKGZpbGVJbmZvLmNvbnRlbnQpKSk7DQogICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICBpZiAoIWNvbnRlbnQgfHwgY29udGVudC50cmltKCkgPT09ICcnKSB7DQogICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ9Ck0LDQudC7INC00LDQvdC90YvRhSDQv9GD0YHRgicpOw0KICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflI0g0J/QsNGA0YHQuNC8INC00LDQvdC90YvQtS4uLicpOw0KICAgICAgICAgICAgICAgICAgICBsZXQgZGF0YTsNCiAgICAgICAgICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSBKU09OLnBhcnNlKGNvbnRlbnQpOw0KICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChwYXJzZUVycm9yKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwg0J7RiNC40LHQutCwINC/0LDRgNGB0LjQvdCz0LAgSlNPTjonLCBwYXJzZUVycm9yKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcign0KTQsNC50Lsg0LTQsNC90L3Ri9GFINC/0L7QstGA0LXQttC00LXQvScpOw0KICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSDQlNCw0L3QvdGL0LUg0YPRgdC/0LXRiNC90L4g0LfQsNCz0YDRg9C20LXQvdGLJyk7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IGRhdGEgfTsNCg0KICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7DQogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCDQntGI0LjQsdC60LAg0LfQsNCz0YDRg9C30LrQuDonLCBlcnJvcik7DQogICAgICAgICAgICAgICAgICAgIHRocm93IGVycm9yOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLy8g0JDQstGC0L7QvNCw0YLQuNGH0LXRgdC60LDRjyDRgdC40L3RhdGA0L7QvdC40LfQsNGG0LjRjyDQuNC30LzQtdC90LXQvdC40LkNCiAgICAgICAgICAgIGFzeW5jIGF1dG9TeW5jQ2hhbmdlcyhkYXRhLCBjdXJyZW50VXNlciwgdXBkYXRlU3luY1N0YXR1cykgew0KICAgICAgICAgICAgICAgIGlmIChjdXJyZW50VXNlciAmJiBjdXJyZW50VXNlci5yb2xlID09PSAnYWRtaW4nKSB7DQogICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoYW5nZSA9IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSwNCiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEsDQogICAgICAgICAgICAgICAgICAgICAgICB1c2VyOiBjdXJyZW50VXNlci51c2VybmFtZQ0KICAgICAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgdGhpcy5wZW5kaW5nQ2hhbmdlcy5wdXNoKGNoYW5nZSk7DQogICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdwZW5kaW5nQ2hhbmdlcycsIEpTT04uc3RyaW5naWZ5KHRoaXMucGVuZGluZ0NoYW5nZXMpKTsNCiAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMudHJ5U3luY0NoYW5nZXModXBkYXRlU3luY1N0YXR1cyk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAvLyDQn9C+0L/Ri9GC0LrQsCDRgdC40L3RhdGA0L7QvdC40LfQsNGG0LjQuCDQuNC30LzQtdC90LXQvdC40LkNCiAgICAgICAgICAgIGFzeW5jIHRyeVN5bmNDaGFuZ2VzKHVwZGF0ZVN5bmNTdGF0dXMpIHsNCiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc1N5bmNpbmcgfHwgdGhpcy5wZW5kaW5nQ2hhbmdlcy5sZW5ndGggPT09IDApIHJldHVybjsNCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICB0aGlzLmlzU3luY2luZyA9IHRydWU7DQogICAgICAgICAgICAgICAgdXBkYXRlU3luY1N0YXR1cygn0KHQuNC90YXRgNC+0L3QuNC30LDRhtC40Y8uLi4nLCAnc3luY2luZycpOw0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIGNvbnN0IGNoYW5nZSA9IHRoaXMucGVuZGluZ0NoYW5nZXNbMF07DQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5zYXZlVG9HaXRIdWIoY2hhbmdlLmRhdGEsIGNoYW5nZS51c2VyKTsNCiAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuY29uZmxpY3QpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVN5bmNTdGF0dXMoJ9Ce0LHQvdCw0YDRg9C20LXQvSDQutC+0L3RhNC70LjQutGCINC00LDQvdC90YvRhScsICdlcnJvcicpOw0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgY29uZmxpY3Q6IHRydWUsIHJlbW90ZURhdGE6IHJlc3VsdC5yZW1vdGVEYXRhIH07DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuc2hhQ29uZmxpY3QpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vINCf0L7QstGC0L7RgNC90LDRjyDQv9C+0L/Ri9GC0LrQsCDQv9C+0YHQu9C1INC60L7QvdGE0LvQuNC60YLQsCBTSEENCiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuaGFuZGxlU2hhQ29uZmxpY3QoY2hhbmdlLmRhdGEsIGNoYW5nZS51c2VyKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgdGhpcy5wZW5kaW5nQ2hhbmdlcy5zaGlmdCgpOw0KICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncGVuZGluZ0NoYW5nZXMnLCBKU09OLnN0cmluZ2lmeSh0aGlzLnBlbmRpbmdDaGFuZ2VzKSk7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuc3luY1JldHJ5Q291bnQgPSAwOw0KICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgdXBkYXRlU3luY1N0YXR1cygn0KHQuNC90YXRgNC+0L3QuNC30LjRgNC+0LLQsNC90L46ICcgKyBuZXcgRGF0ZSgpLnRvTG9jYWxlVGltZVN0cmluZygpLCAnc3VjY2VzcycpOw0KICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucGVuZGluZ0NoYW5nZXMubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLnRyeVN5bmNDaGFuZ2VzKHVwZGF0ZVN5bmNTdGF0dXMpLCAxMDAwKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9Ow0KICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgew0KICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfQntGI0LjQsdC60LAg0YHQuNC90YXRgNC+0L3QuNC30LDRhtC40Lg6JywgZXJyb3IpOw0KICAgICAgICAgICAgICAgICAgICB0aGlzLnN5bmNSZXRyeUNvdW50Kys7DQogICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zeW5jUmV0cnlDb3VudCA8PSB0aGlzLk1BWF9TWU5DX1JFVFJJRVMpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVN5bmNTdGF0dXMoYNCe0YjQuNCx0LrQsCwg0L/QvtCy0YLQvtGAINGH0LXRgNC10LcgJHt0aGlzLnN5bmNSZXRyeUNvdW50ICogMn0g0YHQtdC6Li4uYCwgJ2Vycm9yJyk7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN5bmNSZXRyeVRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHRoaXMudHJ5U3luY0NoYW5nZXModXBkYXRlU3luY1N0YXR1cyksIHRoaXMuc3luY1JldHJ5Q291bnQgKiAyMDAwKTsNCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVN5bmNTdGF0dXMoJ9Ce0YjQuNCx0LrQsCDRgdC40L3RhdGA0L7QvdC40LfQsNGG0LjQuCcsICdlcnJvcicpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBlcnJvcjogZXJyb3IubWVzc2FnZSB9Ow0KICAgICAgICAgICAgICAgIH0gZmluYWxseSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuaXNTeW5jaW5nID0gZmFsc2U7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAvLyDQntCx0YDQsNCx0L7RgtC60LAg0LrQvtC90YTQu9C40LrRgtCwIFNIQQ0KICAgICAgICAgICAgYXN5bmMgaGFuZGxlU2hhQ29uZmxpY3QoZGF0YSwgdXNlcikgew0KICAgICAgICAgICAgICAgIC8vINCX0LDQs9GA0YPQttCw0LXQvCDQsNC60YLRg9Cw0LvRjNC90YvQtSDQtNCw0L3QvdGL0LUg0Lgg0L/QvtCy0YLQvtGA0Y/QtdC8INGB0L7RhdGA0LDQvdC10L3QuNC1DQogICAgICAgICAgICAgICAgY29uc3QgbG9hZFJlc3VsdCA9IGF3YWl0IHRoaXMubG9hZEZyb21HaXRIdWIoKTsNCiAgICAgICAgICAgICAgICBpZiAobG9hZFJlc3VsdC5zdWNjZXNzKSB7DQogICAgICAgICAgICAgICAgICAgIGNvbnN0IHJldHJ5RGF0YSA9IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIC4uLmRhdGEsDQogICAgICAgICAgICAgICAgICAgICAgICB0YWJsZURhdGE6IGxvYWRSZXN1bHQuZGF0YS50YWJsZURhdGEgfHwgZGF0YS50YWJsZURhdGEsDQogICAgICAgICAgICAgICAgICAgICAgICBsYXN0U3luYzogbmV3IERhdGUoKS50b0lTT1N0cmluZygpDQogICAgICAgICAgICAgICAgICAgIH07DQogICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnNhdmVUb0dpdEh1YihyZXRyeURhdGEsIHVzZXIpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLy8g0KHQu9C40Y/QvdC40LUg0LTQsNC90L3Ri9GFDQogICAgICAgICAgICBtZXJnZURhdGEocmVtb3RlRGF0YSwgbG9jYWxEYXRhKSB7DQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflIQg0JfQsNC/0YPRgdC6INGB0LvQuNGP0L3QuNGPINC00LDQvdC90YvRhS4uLicpOw0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIGNvbnN0IG1lcmdlZCA9IHsNCiAgICAgICAgICAgICAgICAgICAgLi4ucmVtb3RlRGF0YSwNCiAgICAgICAgICAgICAgICAgICAgbGFzdFN5bmM6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSwNCiAgICAgICAgICAgICAgICAgICAgbWVyZ2VPcGVyYXRpb246IHRydWUsDQogICAgICAgICAgICAgICAgICAgIGxhc3RFZGl0b3I6IGxvY2FsRGF0YS5sYXN0RWRpdG9yDQogICAgICAgICAgICAgICAgfTsNCg0KICAgICAgICAgICAgICAgIC8vINCh0LvQuNGP0L3QuNC1INGC0LDQsdC70LjRh9C90YvRhSDQtNCw0L3QvdGL0YUNCiAgICAgICAgICAgICAgICBpZiAobG9jYWxEYXRhLnRhYmxlRGF0YSAmJiByZW1vdGVEYXRhLnRhYmxlRGF0YSkgew0KICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+TiiDQodC70LjRj9C90LjQtSDRgtCw0LHQu9C40YfQvdGL0YUg0LTQsNC90L3Ri9GFLi4uJyk7DQogICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICBjb25zdCByZW1vdGVSb3dzID0gbmV3IE1hcChyZW1vdGVEYXRhLnRhYmxlRGF0YS5tYXAocm93ID0+IFtyb3cuaWQsIHJvd10pKTsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgbG9jYWxSb3dzID0gbmV3IE1hcChsb2NhbERhdGEudGFibGVEYXRhLm1hcChyb3cgPT4gW3Jvdy5pZCwgcm93XSkpOw0KICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWVyZ2VkVGFibGVEYXRhID0gWy4uLnJlbW90ZURhdGEudGFibGVEYXRhXTsNCiAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgIGxvY2FsRGF0YS50YWJsZURhdGEuZm9yRWFjaChsb2NhbFJvdyA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBleGlzdGluZ0luZGV4ID0gbWVyZ2VkVGFibGVEYXRhLmZpbmRJbmRleChyb3cgPT4gcm93LmlkID09PSBsb2NhbFJvdy5pZCk7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXhpc3RpbmdJbmRleCA+PSAwKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdBdHRhY2htZW50cyA9IG1lcmdlZFRhYmxlRGF0YVtleGlzdGluZ0luZGV4XS5hdHRhY2htZW50czsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXJnZWRUYWJsZURhdGFbZXhpc3RpbmdJbmRleF0gPSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmxvY2FsUm93LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRhY2htZW50czogeyAuLi5leGlzdGluZ0F0dGFjaG1lbnRzLCAuLi5sb2NhbFJvdy5hdHRhY2htZW50cyB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhg4pyP77iPINCe0LHQvdC+0LLQu9C10L3QsCDRgdGC0YDQvtC60LAgSUQ6ICR7bG9jYWxSb3cuaWR9YCk7DQogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lcmdlZFRhYmxlRGF0YS5wdXNoKGxvY2FsUm93KTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhg4p6VINCU0L7QsdCw0LLQu9C10L3QsCDQvdC+0LLQsNGPINGB0YLRgNC+0LrQsCBJRDogJHtsb2NhbFJvdy5pZH1gKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICBtZXJnZWQudGFibGVEYXRhID0gbWVyZ2VkVGFibGVEYXRhOw0KICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhg4pyFINCi0LDQsdC70LjRh9C90YvQtSDQtNCw0L3QvdGL0LUg0L7QsdGK0LXQtNC40L3QtdC90Ys6ICR7bWVyZ2VkVGFibGVEYXRhLmxlbmd0aH0g0YHRgtGA0L7QumApOw0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIC8vINCh0LvQuNGP0L3QuNC1INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvQtdC5DQogICAgICAgICAgICAgICAgaWYgKGxvY2FsRGF0YS51c2VycyAmJiByZW1vdGVEYXRhLnVzZXJzKSB7DQogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5GlINCh0LvQuNGP0L3QuNC1INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvQtdC5Li4uJyk7DQogICAgICAgICAgICAgICAgICAgIGNvbnN0IHVzZXJNYXAgPSBuZXcgTWFwKHJlbW90ZURhdGEudXNlcnMubWFwKHVzZXIgPT4gW3VzZXIudXNlcm5hbWUsIHVzZXJdKSk7DQogICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICBsb2NhbERhdGEudXNlcnMuZm9yRWFjaChsb2NhbFVzZXIgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgdXNlck1hcC5zZXQobG9jYWxVc2VyLnVzZXJuYW1lLCBsb2NhbFVzZXIpOw0KICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgIG1lcmdlZC51c2VycyA9IEFycmF5LmZyb20odXNlck1hcC52YWx1ZXMoKSk7DQogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGDinIUg0J/QvtC70YzQt9C+0LLQsNGC0LXQu9C4INC+0LHRitC10LTQuNC90LXQvdGLOiAke21lcmdlZC51c2Vycy5sZW5ndGh9INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvQtdC5YCk7DQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgLy8g0KHQu9C40Y/QvdC40LUg0L3QsNGB0YLRgNC+0LXQug0KICAgICAgICAgICAgICAgIGlmIChsb2NhbERhdGEuYXBwU2V0dGluZ3MpIHsNCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+Kame+4jyDQodC70LjRj9C90LjQtSDQvdCw0YHRgtGA0L7QtdC6INC/0YDQuNC70L7QttC10L3QuNGPLi4uJyk7DQogICAgICAgICAgICAgICAgICAgIG1lcmdlZC5hcHBTZXR0aW5ncyA9IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnJlbW90ZURhdGEuYXBwU2V0dGluZ3MsDQogICAgICAgICAgICAgICAgICAgICAgICAuLi5sb2NhbERhdGEuYXBwU2V0dGluZ3MNCiAgICAgICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAvLyDQodC+0YXRgNCw0L3QtdC90LjQtSDQv9C+0LvRjNC30L7QstCw0YLQtdC70YzRgdC60LjRhSDQtNCw0L3QvdGL0YUNCiAgICAgICAgICAgICAgICBpZiAobG9jYWxEYXRhLmN1c3RvbUJ1dHRvbnMpIHsNCiAgICAgICAgICAgICAgICAgICAgbWVyZ2VkLmN1c3RvbUJ1dHRvbnMgPSBsb2NhbERhdGEuY3VzdG9tQnV0dG9uczsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYgKGxvY2FsRGF0YS5jdXN0b21Db2x1bW5zKSB7DQogICAgICAgICAgICAgICAgICAgIG1lcmdlZC5jdXN0b21Db2x1bW5zID0gbG9jYWxEYXRhLmN1c3RvbUNvbHVtbnM7DQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfjokg0KHQu9C40Y/QvdC40LUg0LfQsNCy0LXRgNGI0LXQvdC+INGD0YHQv9C10YjQvdC+Jyk7DQogICAgICAgICAgICAgICAgcmV0dXJuIG1lcmdlZDsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLy8g0J7QsdC90L7QstC70LXQvdC40LUg0LrQvtC90YTQuNCz0YPRgNCw0YbQuNC4IEdpdEh1Yg0KICAgICAgICAgICAgdXBkYXRlR2l0SHViQ29uZmlnKHRva2VuLCByZXBvLCBicmFuY2gpIHsNCiAgICAgICAgICAgICAgICB0aGlzLkdJVEhVQl9DT05GSUcudG9rZW4gPSB0b2tlbjsNCiAgICAgICAgICAgICAgICB0aGlzLkdJVEhVQl9DT05GSUcucmVwbyA9IHJlcG87DQogICAgICAgICAgICAgICAgdGhpcy5HSVRIVUJfQ09ORklHLmJyYW5jaCA9IGJyYW5jaDsNCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZ2l0aHViVG9rZW4nLCB0b2tlbik7DQogICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2dpdGh1YlJlcG8nLCByZXBvKTsNCiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZ2l0aHViQnJhbmNoJywgYnJhbmNoKTsNCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLy8g0J/QvtC70YPRh9C10L3QuNC1INGC0LXQutGD0YnQtdC5INC60L7QvdGE0LjQs9GD0YDQsNGG0LjQuA0KICAgICAgICAgICAgZ2V0Q29uZmlnKCkgew0KICAgICAgICAgICAgICAgIHJldHVybiB7IC4uLnRoaXMuR0lUSFVCX0NPTkZJRyB9Ow0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAvLyDQntGH0LjRgdGC0LrQsCDQvtGC0LvQvtC20LXQvdC90YvRhSDQuNC30LzQtdC90LXQvdC40LkNCiAgICAgICAgICAgIGNsZWFyUGVuZGluZ0NoYW5nZXMoKSB7DQogICAgICAgICAgICAgICAgdGhpcy5wZW5kaW5nQ2hhbmdlcyA9IFtdOw0KICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdwZW5kaW5nQ2hhbmdlcycsIEpTT04uc3RyaW5naWZ5KHRoaXMucGVuZGluZ0NoYW5nZXMpKTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLy8g0J/QvtC70YPRh9C10L3QuNC1INGB0YLQsNGC0YPRgdCwINGB0LjQvdGF0YDQvtC90LjQt9Cw0YbQuNC4DQogICAgICAgICAgICBnZXRTeW5jU3RhdHVzKCkgew0KICAgICAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgICAgIGlzU3luY2luZzogdGhpcy5pc1N5bmNpbmcsDQogICAgICAgICAgICAgICAgICAgIHBlbmRpbmdDaGFuZ2VzOiB0aGlzLnBlbmRpbmdDaGFuZ2VzLmxlbmd0aCwNCiAgICAgICAgICAgICAgICAgICAgc3luY1JldHJ5Q291bnQ6IHRoaXMuc3luY1JldHJ5Q291bnQNCiAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgLy8gPT09PT09PT09PSDQntGB0L3QvtCy0L3QvtC5INC60L7QtCDQv9GA0LjQu9C+0LbQtdC90LjRjyA9PT09PT09PT09DQogICAgICAgIA0KICAgICAgICAvLyDQodC+0LfQtNCw0LXQvCDRjdC60LfQtdC80L/Qu9GP0YAgU3RvcmFnZU1hbmFnZXINCiAgICAgICAgY29uc3Qgc3RvcmFnZU1hbmFnZXIgPSBuZXcgU3RvcmFnZU1hbmFnZXIoKTsNCg0KICAgICAgICAvLyDQlNCw0L3QvdGL0LUg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9C10LkNCiAgICAgICAgbGV0IHVzZXJzID0gW107DQogICAgICAgIC8vINCU0LDQvdC90YvQtSDRgtCw0LHQu9C40YbRiw0KICAgICAgICBsZXQgdGFibGVEYXRhID0gW107DQogICAgICAgIC8vINCd0LDRgdGC0YDQvtC50LrQuCDQv9GA0LjQu9C+0LbQtdC90LjRjw0KICAgICAgICBsZXQgYXBwU2V0dGluZ3MgPSB7fTsNCiAgICAgICAgLy8g0JTQsNC90L3Ri9C1INC60L3QvtC/0L7QuiDQuCDRgdGC0L7Qu9Cx0YbQvtCyDQogICAgICAgIGxldCBjdXN0b21CdXR0b25zID0gW107DQogICAgICAgIGxldCBjdXN0b21Db2x1bW5zID0gW107DQogICAgICAgIC8vINCR0LDQt9C+0LLRi9C1INGB0YLQvtC70LHRhtGLDQogICAgICAgIGxldCBiYXNpY0NvbHVtbnMgPSBbXTsNCiAgICAgICAgLy8g0J3QsNGB0YLRgNC+0LnQutC4INC/0YDQvtCy0LXRgNC60Lgg0LTQsNGCDQogICAgICAgIGxldCBkYXRlVmFsaWRhdGlvbkNvbHVtbnMgPSB7fTsNCiAgICAgICAgLy8g0JLQutC70LDQtNC60LgNCiAgICAgICAgbGV0IHRhYnMgPSBbXTsNCg0KICAgICAgICAvLyDQotC10LrRg9GJ0LjQuSDQv9C+0LvRjNC30L7QstCw0YLQtdC70Ywg0Lgg0YHQvtGB0YLQvtGP0L3QuNC1DQogICAgICAgIGxldCBjdXJyZW50VXNlciA9IG51bGw7DQogICAgICAgIGxldCBjdXJyZW50RWRpdGluZ0NlbGwgPSBudWxsOw0KICAgICAgICBsZXQgaXNFZGl0aW5nSGVhZGVyID0gZmFsc2U7DQogICAgICAgIGxldCBjdXJyZW50UHJldmlld0ZpbGUgPSBudWxsOw0KICAgICAgICBsZXQgY3VycmVudFNvcnQgPSB7IGNvbHVtbjogbnVsbCwgZGlyZWN0aW9uOiAnYXNjJyB9Ow0KICAgICAgICBsZXQgY3VycmVudEZpbHRlcnMgPSB7fTsNCiAgICAgICAgbGV0IGN1cnJlbnREYXRlUGlja2VyID0gbnVsbDsNCiAgICAgICAgbGV0IGN1cnJlbnREYXRlSW5wdXQgPSBudWxsOw0KDQogICAgICAgIC8vINCd0L7QstGL0LUg0L/QtdGA0LXQvNC10L3QvdGL0LUg0LTQu9GPINCy0LrQu9Cw0LTQvtC6INC4INC/0L7QuNGB0LrQsA0KICAgICAgICBsZXQgY3VycmVudFRhYklkID0gJ3RhYjEnOw0KICAgICAgICBsZXQgc2VsZWN0ZWRSb3dzID0gbmV3IFNldCgpOw0KICAgICAgICBsZXQgc2VhcmNoVGVybSA9ICcnOw0KDQogICAgICAgIC8vINCU0LDQvdC90YvQtSDQtNC70Y8g0LjQvNC/0L7RgNGC0LANCiAgICAgICAgbGV0IGN1cnJlbnRJbXBvcnREYXRhID0gbnVsbDsNCg0KICAgICAgICAvLyDQn9C10YDQtdC80LXQvdC90YvQtSDQtNC70Y8g0YHQuNGB0YLQtdC80Ysg0L7QvdC70LDQudC9LdC/0L7Qu9GM0LfQvtCy0LDRgtC10LvQtdC5INC4INC60L7QvdGE0LvQuNC60YLQvtCyDQogICAgICAgIGxldCBvbmxpbmVVc2VycyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ29ubGluZVVzZXJzJykpIHx8IHt9Ow0KICAgICAgICBsZXQgbGFzdERhdGFIYXNoID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2xhc3REYXRhSGFzaCcpIHx8ICcnOw0KICAgICAgICBsZXQgYWRtaW5Db25mbGljdERhdGEgPSBudWxsOw0KICAgICAgICBsZXQgY3VycmVudENvbmZsaWN0ID0gbnVsbDsNCg0KICAgICAgICAvLyDQk9C70L7QsdCw0LvRjNC90LDRjyDQv9C10YDQtdC80LXQvdC90LDRjyDQtNC70Y8g0YPQv9GA0LDQstC70LXQvdC40Y8g0YTQsNC50LvQsNC80LgNCiAgICAgICAgbGV0IGN1cnJlbnRGaWxlTWFuYWdlbWVudENlbGwgPSBudWxsOw0KDQogICAgICAgIC8vINCk0KPQndCa0KbQmNCvINCe0JHQndCe0JLQm9CV0J3QmNCvINCh0KLQoNCe0JrQmCDQodCe0KHQotCe0K/QndCY0K8g0JIg0KXQldCU0JXQoNCVDQogICAgICAgIGZ1bmN0aW9uIHVwZGF0ZVN0YXR1c0JhcigpIHsNCiAgICAgICAgICAgIGlmICghY3VycmVudFVzZXIpIHJldHVybjsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgY29uc3QgYWRtaW5Db3VudCA9IE9iamVjdC52YWx1ZXMob25saW5lVXNlcnMpLmZpbHRlcih1c2VyID0+IHVzZXIucm9sZSA9PT0gJ2FkbWluJykubGVuZ3RoOw0KICAgICAgICAgICAgY29uc3QgdXNlckNvdW50ID0gT2JqZWN0LnZhbHVlcyhvbmxpbmVVc2VycykuZmlsdGVyKHVzZXIgPT4gdXNlci5yb2xlID09PSAndXNlcicpLmxlbmd0aDsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgaWYgKGN1cnJlbnRVc2VyKSB7DQogICAgICAgICAgICAgICAgb25saW5lVXNlcnNbY3VycmVudFVzZXIudXNlcm5hbWVdID0gew0KICAgICAgICAgICAgICAgICAgICB1c2VybmFtZTogY3VycmVudFVzZXIudXNlcm5hbWUsDQogICAgICAgICAgICAgICAgICAgIHJvbGU6IGN1cnJlbnRVc2VyLnJvbGUsDQogICAgICAgICAgICAgICAgICAgIGxhc3RBY3RpdmU6IERhdGUubm93KCkNCiAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdvbmxpbmVVc2VycycsIEpTT04uc3RyaW5naWZ5KG9ubGluZVVzZXJzKSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICANCiAgICAgICAgICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7DQogICAgICAgICAgICBPYmplY3Qua2V5cyhvbmxpbmVVc2VycykuZm9yRWFjaCh1c2VybmFtZSA9PiB7DQogICAgICAgICAgICAgICAgaWYgKG5vdyAtIG9ubGluZVVzZXJzW3VzZXJuYW1lXS5sYXN0QWN0aXZlID4gMzAwMDAwKSB7DQogICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBvbmxpbmVVc2Vyc1t1c2VybmFtZV07DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnb25saW5lVXNlcnMnLCBKU09OLnN0cmluZ2lmeShvbmxpbmVVc2VycykpOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBjb25zdCBzdGF0dXNCYXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RhdHVzLWJhci1oZWFkZXInKTsNCiAgICAgICAgICAgIHN0YXR1c0Jhci5zZXRBdHRyaWJ1dGUoJ2RhdGEtdG9vbHRpcCcsIGDQkNC00LzQuNC90LjRgdGC0YDQsNGC0L7RgNC+0LI6ICR7YWRtaW5Db3VudH0sINCf0L7Qu9GM0LfQvtCy0LDRgtC10LvQtdC5OiAke3VzZXJDb3VudH1gKTsNCiAgICAgICAgfQ0KDQogICAgICAgIC8vINCk0KPQndCa0KbQmNCvINCU0JvQryDQntCR0J3QntCS0JvQldCd0JjQryDQodCi0JDQotCj0KHQkCDQodCY0J3QpdCg0J7QndCY0JfQkNCm0JjQmCDQkiDQpdCV0JTQldCg0JUNCiAgICAgICAgZnVuY3Rpb24gdXBkYXRlU3luY1N0YXR1cyhtZXNzYWdlLCB0eXBlID0gJycpIHsNCiAgICAgICAgICAgIGNvbnN0IHN0YXR1c0VsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3luYy1zdGF0dXMtdGV4dCcpOw0KICAgICAgICAgICAgY29uc3Qgc3RhdHVzQmFyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0YXR1cy1iYXItaGVhZGVyJyk7DQogICAgICAgICAgICANCiAgICAgICAgICAgIHN0YXR1c0VsZW1lbnQudGV4dENvbnRlbnQgPSBtZXNzYWdlOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBzdGF0dXNCYXIuY2xhc3NMaXN0LnJlbW92ZSgnc3luY2luZycsICdzdWNjZXNzJywgJ2Vycm9yJyk7DQogICAgICAgICAgICANCiAgICAgICAgICAgIGlmICh0eXBlKSB7DQogICAgICAgICAgICAgICAgc3RhdHVzQmFyLmNsYXNzTGlzdC5hZGQodHlwZSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICANCiAgICAgICAgICAgIGNvbnN0IHN5bmNJY29uID0gc3RhdHVzQmFyLnF1ZXJ5U2VsZWN0b3IoJy5zeW5jLWljb24nKTsNCiAgICAgICAgICAgIGlmICh0eXBlID09PSAnc3luY2luZycpIHsNCiAgICAgICAgICAgICAgICBzeW5jSWNvbi50ZXh0Q29udGVudCA9ICfwn5SEJzsNCiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ3N1Y2Nlc3MnKSB7DQogICAgICAgICAgICAgICAgc3luY0ljb24udGV4dENvbnRlbnQgPSAn4pyFJzsNCiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2Vycm9yJykgew0KICAgICAgICAgICAgICAgIHN5bmNJY29uLnRleHRDb250ZW50ID0gJ+KdjCc7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHN5bmNJY29uLnRleHRDb250ZW50ID0gJ/CflJcnOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgLy8g0KTQo9Cd0JrQptCY0K8g0JTQm9CvINCQ0JLQotCe0JzQkNCi0JjQp9CV0KHQmtCe0Jkg0KHQmNCd0KXQoNCe0J3QmNCX0JDQptCY0Jgg0J/QoNCYINCY0JfQnNCV0J3QldCd0JjQr9ClDQogICAgICAgIGZ1bmN0aW9uIGF1dG9TeW5jQ2hhbmdlcygpIHsNCiAgICAgICAgICAgIGlmIChjdXJyZW50VXNlciAmJiBjdXJyZW50VXNlci5yb2xlID09PSAnYWRtaW4nKSB7DQogICAgICAgICAgICAgICAgY29uc3QgYXBwRGF0YSA9IHN0b3JhZ2VNYW5hZ2VyLmdldEFsbEFwcERhdGEoDQogICAgICAgICAgICAgICAgICAgIHRhYmxlRGF0YSwgdXNlcnMsIGFwcFNldHRpbmdzLCBjdXN0b21CdXR0b25zLCANCiAgICAgICAgICAgICAgICAgICAgY3VzdG9tQ29sdW1ucywgYmFzaWNDb2x1bW5zLCBkYXRlVmFsaWRhdGlvbkNvbHVtbnMsIA0KICAgICAgICAgICAgICAgICAgICB0YWJzLCBjdXJyZW50VXNlcg0KICAgICAgICAgICAgICAgICk7DQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgc3RvcmFnZU1hbmFnZXIuYXV0b1N5bmNDaGFuZ2VzKGFwcERhdGEsIGN1cnJlbnRVc2VyLCB1cGRhdGVTeW5jU3RhdHVzKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIC8vINCk0KPQndCa0KbQmNCvINCU0JvQryDQn9Cg0JjQndCj0JTQmNCi0JXQm9Cs0J3QntCT0J4g0KHQntCl0KDQkNCd0JXQndCY0K8g0JjQl9Cc0JXQndCV0J3QmNCZDQogICAgICAgIGZ1bmN0aW9uIGZvcmNlU2F2ZUNoYW5nZXMoKSB7DQogICAgICAgICAgICBpZiAoc3RvcmFnZU1hbmFnZXIucGVuZGluZ0NoYW5nZXMubGVuZ3RoID09PSAwKSB7DQogICAgICAgICAgICAgICAgYWxlcnQoJ9Cd0LXRgiDQuNC30LzQtdC90LXQvdC40Lkg0LTQu9GPINGB0L7RhdGA0LDQvdC10L3QuNGPJyk7DQogICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgDQogICAgICAgICAgICBzdG9yYWdlTWFuYWdlci5zeW5jUmV0cnlDb3VudCA9IDA7DQogICAgICAgICAgICBpZiAoc3RvcmFnZU1hbmFnZXIuc3luY1JldHJ5VGltZW91dCkgew0KICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChzdG9yYWdlTWFuYWdlci5zeW5jUmV0cnlUaW1lb3V0KTsNCiAgICAgICAgICAgICAgICBzdG9yYWdlTWFuYWdlci5zeW5jUmV0cnlUaW1lb3V0ID0gbnVsbDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIA0KICAgICAgICAgICAgc3RvcmFnZU1hbmFnZXIudHJ5U3luY0NoYW5nZXModXBkYXRlU3luY1N0YXR1cyk7DQogICAgICAgIH0NCg0KICAgICAgICAvLyDQpNCj0J3QmtCm0JjQryDQlNCb0K8g0J/QntCa0JDQl9CQINCa0J7QndCk0JvQmNCa0KLQkCDQmCDQoNCQ0JfQoNCV0KjQldCd0JjQrw0KICAgICAgICBmdW5jdGlvbiBzaG93Q29uZmxpY3RSZXNvbHV0aW9uKHJlbW90ZURhdGEsIGxvY2FsRGF0YSkgew0KICAgICAgICAgICAgY29uc3QgbW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29uZmxpY3QtcmVzb2x1dGlvbi1tb2RhbCcpOw0KICAgICAgICAgICAgY29uc3QgZGV0YWlsc0NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb25mbGljdC1kZXRhaWxzJyk7DQogICAgICAgICAgICANCiAgICAgICAgICAgIGNvbnN0IGNoYW5nZXMgPSBmaW5kRGF0YUNoYW5nZXMocmVtb3RlRGF0YSwgbG9jYWxEYXRhKTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgbGV0IGRldGFpbHNIVE1MID0gJzxkaXY+PHN0cm9uZz7QmNC30LzQtdC90LXQvdC40Y8g0LTRgNGD0LPQvtCz0L4g0LDQtNC80LjQvdC40YHRgtGA0LDRgtC+0YDQsCAoJyArIHJlbW90ZURhdGEubGFzdEVkaXRvciArICcpOjwvc3Ryb25nPjwvZGl2Pic7DQogICAgICAgICAgICANCiAgICAgICAgICAgIGNoYW5nZXMuZm9yRWFjaChjaGFuZ2UgPT4gew0KICAgICAgICAgICAgICAgIGRldGFpbHNIVE1MICs9IGA8ZGl2IGNsYXNzPSJjb25mbGljdC1pdGVtIj4ke2NoYW5nZX08L2Rpdj5gOw0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICANCiAgICAgICAgICAgIGRldGFpbHNIVE1MICs9ICc8ZGl2IHN0eWxlPSJtYXJnaW4tdG9wOiAxMHB4OyI+PHN0cm9uZz7QktCw0YjQuCDQuNC30LzQtdC90LXQvdC40Y86PC9zdHJvbmc+PC9kaXY+JzsNCiAgICAgICAgICAgIGRldGFpbHNIVE1MICs9ICc8ZGl2IGNsYXNzPSJjb25mbGljdC1pdGVtIj7Qm9C+0LrQsNC70YzQvdGL0LUg0L/RgNCw0LLQutC4INC00LDQvdC90YvRhTwvZGl2Pic7DQogICAgICAgICAgICANCiAgICAgICAgICAgIGRldGFpbHNDb250YWluZXIuaW5uZXJIVE1MID0gZGV0YWlsc0hUTUw7DQogICAgICAgICAgICANCiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvdmVyd3JpdGUtY29uZmxpY3QtYnRuJykub25jbGljayA9IGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgICAgIGNvbnRpbnVlU2F2ZUFmdGVyQ29uZmxpY3QoJ292ZXJ3cml0ZScpOw0KICAgICAgICAgICAgICAgIG1vZGFsLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7DQogICAgICAgICAgICB9Ow0KICAgICAgICAgICAgDQogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgna2VlcC1jaGFuZ2VzLWJ0bicpLm9uY2xpY2sgPSBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgICAgICBjb250aW51ZVNhdmVBZnRlckNvbmZsaWN0KCdtZXJnZScpOw0KICAgICAgICAgICAgICAgIG1vZGFsLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7DQogICAgICAgICAgICB9Ow0KICAgICAgICAgICAgDQogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FuY2VsLWNvbmZsaWN0LWJ0bicpLm9uY2xpY2sgPSBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgICAgICBtb2RhbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOw0KICAgICAgICAgICAgICAgIHVwZGF0ZVN5bmNTdGF0dXMoJ9Ch0L7RhdGA0LDQvdC10L3QuNC1INC+0YLQvNC10L3QtdC90L4g0LjQty3Qt9CwINC60L7QvdGE0LvQuNC60YLQsCcsICdlcnJvcicpOw0KICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgbW9kYWwuc3R5bGUuZGlzcGxheSA9ICdmbGV4JzsNCiAgICAgICAgfQ0KDQogICAgICAgIC8vINCk0KPQndCa0KbQmNCvINCU0JvQryDQn9Cg0J7QlNCe0JvQltCV0J3QmNCvINCh0J7QpdCg0JDQndCV0J3QmNCvINCf0J7QodCb0JUg0KDQkNCX0KDQldCo0JXQndCY0K8g0JrQntCd0KTQm9CY0JrQotCQDQogICAgICAgIGFzeW5jIGZ1bmN0aW9uIGNvbnRpbnVlU2F2ZUFmdGVyQ29uZmxpY3QocmVzb2x1dGlvbikgew0KICAgICAgICAgICAgaWYgKCFhZG1pbkNvbmZsaWN0RGF0YSkgcmV0dXJuOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBjb25zdCB7IHJlbW90ZURhdGEsIGxvY2FsRGF0YSwgc2hhIH0gPSBhZG1pbkNvbmZsaWN0RGF0YTsNCiAgICAgICAgICAgIGxldCBmaW5hbERhdGEgPSBsb2NhbERhdGE7DQogICAgICAgICAgICANCiAgICAgICAgICAgIGlmIChyZXNvbHV0aW9uID09PSAnbWVyZ2UnKSB7DQogICAgICAgICAgICAgICAgZmluYWxEYXRhID0gc3RvcmFnZU1hbmFnZXIubWVyZ2VEYXRhKHJlbW90ZURhdGEsIGxvY2FsRGF0YSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICANCiAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgYXdhaXQgc3RvcmFnZU1hbmFnZXIuc2F2ZVRvR2l0SHViKGZpbmFsRGF0YSwgY3VycmVudFVzZXIpOw0KICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUg0KPRgdC/0LXRiNC90L4g0YHQvtGF0YDQsNC90LXQvdC+INC/0L7RgdC70LUg0YDQsNC30YDQtdGI0LXQvdC40Y8g0LrQvtC90YTQu9C40LrRgtCwJyk7DQogICAgICAgICAgICAgICAgdXBkYXRlU3luY1N0YXR1cygn0KHQuNC90YXRgNC+0L3QuNC30LjRgNC+0LLQsNC90L4gKNGA0LDQt9GA0LXRiNGR0L0g0LrQvtC90YTQu9C40LrRgik6ICcgKyBuZXcgRGF0ZSgpLnRvTG9jYWxlVGltZVN0cmluZygpLCAnc3VjY2VzcycpOw0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIGlmIChyZXNvbHV0aW9uID09PSAnbWVyZ2UnKSB7DQogICAgICAgICAgICAgICAgICAgIHVwZGF0ZUxvY2FsRGF0YShmaW5hbERhdGEpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICBpZiAoc3RvcmFnZU1hbmFnZXIucGVuZGluZ0NoYW5nZXMubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgICAgICAgICBzdG9yYWdlTWFuYWdlci5wZW5kaW5nQ2hhbmdlcy5zaGlmdCgpOw0KICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncGVuZGluZ0NoYW5nZXMnLCBKU09OLnN0cmluZ2lmeShzdG9yYWdlTWFuYWdlci5wZW5kaW5nQ2hhbmdlcykpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7DQogICAgICAgICAgICAgICAgdXBkYXRlU3luY1N0YXR1cygn0J7RiNC40LHQutCwINGB0L7RhdGA0LDQvdC10L3QuNGPOiAnICsgZXJyb3IubWVzc2FnZSwgJ2Vycm9yJyk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICANCiAgICAgICAgICAgIGFkbWluQ29uZmxpY3REYXRhID0gbnVsbDsNCiAgICAgICAgfQ0KDQogICAgICAgIC8vINCk0KPQndCa0KbQmNCvINCU0JvQryDQn9Ce0JjQodCa0JAg0JjQl9Cc0JXQndCV0J3QmNCZINCSINCU0JDQndCd0KvQpQ0KICAgICAgICBmdW5jdGlvbiBmaW5kRGF0YUNoYW5nZXMocmVtb3RlRGF0YSwgbG9jYWxEYXRhKSB7DQogICAgICAgICAgICBjb25zdCBjaGFuZ2VzID0gW107DQogICAgICAgICAgICANCiAgICAgICAgICAgIGlmIChyZW1vdGVEYXRhLnRhYmxlRGF0YSAmJiBsb2NhbERhdGEudGFibGVEYXRhKSB7DQogICAgICAgICAgICAgICAgaWYgKHJlbW90ZURhdGEudGFibGVEYXRhLmxlbmd0aCAhPT0gbG9jYWxEYXRhLnRhYmxlRGF0YS5sZW5ndGgpIHsNCiAgICAgICAgICAgICAgICAgICAgY2hhbmdlcy5wdXNoKGDQmtC+0LvQuNGH0LXRgdGC0LLQviDRgdGC0YDQvtC6OiAke3JlbW90ZURhdGEudGFibGVEYXRhLmxlbmd0aH0g4oaSICR7bG9jYWxEYXRhLnRhYmxlRGF0YS5sZW5ndGh9YCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgDQogICAgICAgICAgICBpZiAocmVtb3RlRGF0YS51c2VycyAmJiBsb2NhbERhdGEudXNlcnMpIHsNCiAgICAgICAgICAgICAgICBpZiAocmVtb3RlRGF0YS51c2Vycy5sZW5ndGggIT09IGxvY2FsRGF0YS51c2Vycy5sZW5ndGgpIHsNCiAgICAgICAgICAgICAgICAgICAgY2hhbmdlcy5wdXNoKGDQmtC+0LvQuNGH0LXRgdGC0LLQviDQv9C+0LvRjNC30L7QstCw0YLQtdC70LXQuTogJHtyZW1vdGVEYXRhLnVzZXJzLmxlbmd0aH0g4oaSICR7bG9jYWxEYXRhLnVzZXJzLmxlbmd0aH1gKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICANCiAgICAgICAgICAgIGlmIChyZW1vdGVEYXRhLmxhc3RFZGl0b3IpIHsNCiAgICAgICAgICAgICAgICBjaGFuZ2VzLnB1c2goYNCf0L7RgdC70LXQtNC90LjQuSDRgNC10LTQsNC60YLQvtGAOiAke3JlbW90ZURhdGEubGFzdEVkaXRvcn1gKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIA0KICAgICAgICAgICAgaWYgKGNoYW5nZXMubGVuZ3RoID09PSAwKSB7DQogICAgICAgICAgICAgICAgY2hhbmdlcy5wdXNoKCfQndC10LfQvdCw0YfQuNGC0LXQu9GM0L3Ri9C1INC40LfQvNC10L3QtdC90LjRjyDQsiDQtNCw0L3QvdGL0YUnKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIA0KICAgICAgICAgICAgcmV0dXJuIGNoYW5nZXM7DQogICAgICAgIH0NCg0KICAgICAgICAvLyDQpNCj0J3QmtCm0JjQryDQntCR0J3QntCS0JvQldCd0JjQryDQm9Ce0JrQkNCb0KzQndCr0KUg0JTQkNCd0J3Qq9ClDQogICAgICAgIGZ1bmN0aW9uIHVwZGF0ZUxvY2FsRGF0YShtZXJnZWREYXRhKSB7DQogICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UhCDQntCx0L3QvtCy0LvQtdC90LjQtSDQu9C+0LrQsNC70YzQvdGL0YUg0LTQsNC90L3Ri9GFINC/0L7RgdC70LUg0YHQu9C40Y/QvdC40Y8uLi4nKTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgdGFibGVEYXRhID0gbWVyZ2VkRGF0YS50YWJsZURhdGEgfHwgdGFibGVEYXRhOw0KICAgICAgICAgICAgdXNlcnMgPSBtZXJnZWREYXRhLnVzZXJzIHx8IHVzZXJzOw0KICAgICAgICAgICAgYXBwU2V0dGluZ3MgPSBtZXJnZWREYXRhLmFwcFNldHRpbmdzIHx8IGFwcFNldHRpbmdzOw0KICAgICAgICAgICAgY3VzdG9tQnV0dG9ucyA9IG1lcmdlZERhdGEuY3VzdG9tQnV0dG9ucyB8fCBjdXN0b21CdXR0b25zOw0KICAgICAgICAgICAgY3VzdG9tQ29sdW1ucyA9IG1lcmdlZERhdGEuY3VzdG9tQ29sdW1ucyB8fCBjdXN0b21Db2x1bW5zOw0KICAgICAgICAgICAgYmFzaWNDb2x1bW5zID0gbWVyZ2VkRGF0YS5iYXNpY0NvbHVtbnMgfHwgYmFzaWNDb2x1bW5zOw0KICAgICAgICAgICAgZGF0ZVZhbGlkYXRpb25Db2x1bW5zID0gbWVyZ2VkRGF0YS5kYXRlVmFsaWRhdGlvbkNvbHVtbnMgfHwgZGF0ZVZhbGlkYXRpb25Db2x1bW5zOw0KICAgICAgICAgICAgdGFicyA9IG1lcmdlZERhdGEudGFicyB8fCB0YWJzOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFINCb0L7QutCw0LvRjNC90YvQtSDQtNCw0L3QvdGL0LUg0L7QsdC90L7QstC70LXQvdGLJyk7DQogICAgICAgICAgICANCiAgICAgICAgICAgIHJlbmRlclRhYnMoKTsNCiAgICAgICAgICAgIHJlbmRlclRhYmxlKCk7DQogICAgICAgICAgICBsb2FkQ3VzdG9tQnV0dG9ucygpOw0KICAgICAgICB9DQoNCiAgICAgICAgLy8g0KPQm9Cj0KfQqNCV0J3QndCQ0K8g0KTQo9Cd0JrQptCY0K8g0JfQkNCT0KDQo9CX0JrQmCDQmNCXIEdJVEhVQg0KICAgICAgICBhc3luYyBmdW5jdGlvbiBsb2FkRnJvbUdpdEh1YigpIHsNCiAgICAgICAgICAgIHVwZGF0ZVN5bmNTdGF0dXMoJ9CX0LDQs9GA0YPQt9C60LAg0LjQtyBHaXRIdWIuLi4nLCAnc3luY2luZycpOw0KDQogICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHN0b3JhZ2VNYW5hZ2VyLmxvYWRGcm9tR2l0SHViKCk7DQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5ub3RGb3VuZCkgew0KICAgICAgICAgICAgICAgICAgICB1cGRhdGVTeW5jU3RhdHVzKCfQpNCw0LnQuyDQtNCw0L3QvdGL0YUg0L3QtSDQvdCw0LnQtNC10L0nLCAnJyk7DQogICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFINCU0LDQvdC90YvQtSDRg9GB0L/QtdGI0L3QviDQt9Cw0LPRgNGD0LbQtdC90YsnKTsNCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICB1cGRhdGVMb2NhbERhdGEocmVzdWx0LmRhdGEpOw0KICAgICAgICAgICAgICAgIHN0b3JhZ2VNYW5hZ2VyLnNhdmVUb0xvY2FsU3RvcmFnZSh0YWJsZURhdGEsIHVzZXJzLCBhcHBTZXR0aW5ncywgY3VzdG9tQnV0dG9ucywgY3VzdG9tQ29sdW1ucywgYmFzaWNDb2x1bW5zLCBkYXRlVmFsaWRhdGlvbkNvbHVtbnMsIHRhYnMpOw0KICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdsYXN0U3luY1RpbWUnLCBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkpOw0KDQogICAgICAgICAgICAgICAgdXBkYXRlU3luY1N0YXR1cygn0JfQsNCz0YDRg9C20LXQvdC+INC40LcgR2l0SHViOiAnICsgbmV3IERhdGUoKS50b0xvY2FsZVRpbWVTdHJpbmcoKSwgJ3N1Y2Nlc3MnKTsNCg0KICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwg0J7RiNC40LHQutCwINC30LDQs9GA0YPQt9C60Lg6JywgZXJyb3IpOw0KICAgICAgICAgICAgICAgIHVwZGF0ZVN5bmNTdGF0dXMoJ9Ce0YjQuNCx0LrQsCDQt9Cw0LPRgNGD0LfQutC4OiAnICsgZXJyb3IubWVzc2FnZSwgJ2Vycm9yJyk7DQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgbG9hZEZyb21Mb2NhbFN0b3JhZ2VXaXRoTm90aWZpY2F0aW9uKCk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICAvLyDQpNCj0J3QmtCm0JjQryDQlNCb0K8g0JfQkNCT0KDQo9CX0JrQmCDQmNCXIExPQ0FMU1RPUkFHRSDQoSDQo9CS0JXQlNCe0JzQm9CV0J3QmNCV0JwNCiAgICAgICAgZnVuY3Rpb24gbG9hZEZyb21Mb2NhbFN0b3JhZ2VXaXRoTm90aWZpY2F0aW9uKCkgew0KICAgICAgICAgICAgY29uc3QgZGF0YSA9IHN0b3JhZ2VNYW5hZ2VyLmxvYWRGcm9tTG9jYWxTdG9yYWdlKCk7DQogICAgICAgICAgICANCiAgICAgICAgICAgIHRhYmxlRGF0YSA9IGRhdGEudGFibGVEYXRhOw0KICAgICAgICAgICAgdXNlcnMgPSBkYXRhLnVzZXJzOw0KICAgICAgICAgICAgYXBwU2V0dGluZ3MgPSBkYXRhLmFwcFNldHRpbmdzOw0KICAgICAgICAgICAgY3VzdG9tQnV0dG9ucyA9IGRhdGEuY3VzdG9tQnV0dG9uczsNCiAgICAgICAgICAgIGN1c3RvbUNvbHVtbnMgPSBkYXRhLmN1c3RvbUNvbHVtbnM7DQogICAgICAgICAgICBiYXNpY0NvbHVtbnMgPSBkYXRhLmJhc2ljQ29sdW1uczsNCiAgICAgICAgICAgIGRhdGVWYWxpZGF0aW9uQ29sdW1ucyA9IGRhdGEuZGF0ZVZhbGlkYXRpb25Db2x1bW5zOw0KICAgICAgICAgICAgdGFicyA9IGRhdGEudGFiczsNCiAgICAgICAgICAgIHN0b3JhZ2VNYW5hZ2VyLnBlbmRpbmdDaGFuZ2VzID0gZGF0YS5wZW5kaW5nQ2hhbmdlczsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgLy8g0JLQntCh0KHQotCQ0J3QkNCS0JvQmNCS0JDQldCcINCf0KDQntCS0JXQoNCa0KMg0JTQkNCiINCf0KDQmCDQl9CQ0JPQoNCj0JfQmtCVDQogICAgICAgICAgICByZXN0b3JlRGF0ZVZhbGlkYXRpb25Db2x1bW5zKCk7DQogICAgICAgICAgICANCiAgICAgICAgICAgIHJlbmRlclRhYnMoKTsNCiAgICAgICAgICAgIHJlbmRlclRhYmxlKCk7DQogICAgICAgICAgICBsb2FkQ3VzdG9tQnV0dG9ucygpOw0KICAgICAgICAgICAgDQogICAgICAgICAgICB1cGRhdGVTeW5jU3RhdHVzKCfQmNGB0L/QvtC70YzQt9GD0Y7RgtGB0Y8g0LvQvtC60LDQu9GM0L3Ri9C1INC00LDQvdC90YvQtScsICcnKTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfk4Eg0JfQsNCz0YDRg9C20LXQvdGLINC70L7QutCw0LvRjNC90YvQtSDQtNCw0L3QvdGL0LUg0LjQtyBsb2NhbFN0b3JhZ2UnKTsNCiAgICAgICAgfQ0KDQogICAgICAgIC8vINCk0KPQndCa0KbQmNCvINCU0JvQryDQl9CQ0JPQoNCj0JfQmtCYINCf0J7Qm9Cs0JfQntCS0JDQotCV0JvQldCZINCY0JcgR0lUSFVCDQogICAgICAgIGFzeW5jIGZ1bmN0aW9uIGxvYWRVc2Vyc0Zyb21HaXRIdWIoKSB7DQogICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHN0b3JhZ2VNYW5hZ2VyLmxvYWRGcm9tR2l0SHViKCk7DQogICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzICYmIHJlc3VsdC5kYXRhICYmIHJlc3VsdC5kYXRhLnVzZXJzKSB7DQogICAgICAgICAgICAgICAgICAgIHVzZXJzID0gcmVzdWx0LmRhdGEudXNlcnM7DQogICAgICAgICAgICAgICAgICAgIC8vINCh0L7RhdGA0LDQvdGP0LXQvCDQv9C+0LvRjNC30L7QstCw0YLQtdC70LXQuSDQsiBsb2NhbFN0b3JhZ2Ug0LTQu9GPINCx0YPQtNGD0YnQuNGFINC40YHQv9C+0LvRjNC30L7QstCw0L3QuNC5DQogICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd1c2VycycsIEpTT04uc3RyaW5naWZ5KHVzZXJzKSk7DQogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUg0J/QvtC70YzQt9C+0LLQsNGC0LXQu9C4INGD0YHQv9C10YjQvdC+INC30LDQs9GA0YPQttC10L3RiyDQuNC3IEdpdEh1YicpOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgew0KICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCDQntGI0LjQsdC60LAg0LfQsNCz0YDRg9C30LrQuCDQv9C+0LvRjNC30L7QstCw0YLQtdC70LXQuTonLCBlcnJvcik7DQogICAgICAgICAgICAgICAgLy8g0JjRgdC/0L7Qu9GM0LfRg9C10Lwg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9C10Lkg0L/QviDRg9C80L7Qu9GH0LDQvdC40Y4g0LXRgdC70Lgg0LfQsNCz0YDRg9C30LrQsCDQvdC1INGD0LTQsNC70LDRgdGMDQogICAgICAgICAgICAgICAgaWYgKHVzZXJzLmxlbmd0aCA9PT0gMCkgew0KICAgICAgICAgICAgICAgICAgICB1c2VycyA9IFsNCiAgICAgICAgICAgICAgICAgICAgICAgIHsgdXNlcm5hbWU6ICdhZG1pbicsIHBhc3N3b3JkOiAnYWRtaW4nLCByb2xlOiAnYWRtaW4nIH0sDQogICAgICAgICAgICAgICAgICAgICAgICB7IHVzZXJuYW1lOiAndXNlcicsIHBhc3N3b3JkOiAndXNlcicsIHJvbGU6ICd1c2VyJyB9DQogICAgICAgICAgICAgICAgICAgIF07DQogICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd1c2VycycsIEpTT04uc3RyaW5naWZ5KHVzZXJzKSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9DQoNCiAgICAgICAgZnVuY3Rpb24gcmVzdG9yZURhdGVWYWxpZGF0aW9uQ29sdW1ucygpIHsNCiAgICAgICAgICAgIC8vINCe0YfQuNGJ0LDQtdC8INGC0LXQutGD0YnQuNC1INC90LDRgdGC0YDQvtC50LrQuCDQv9GA0L7QstC10YDQutC4INC00LDRgg0KICAgICAgICAgICAgZGF0ZVZhbGlkYXRpb25Db2x1bW5zID0ge307DQogICAgICAgICAgICANCiAgICAgICAgICAgIC8vINCS0L7RgdGB0YLQsNC90LDQstC70LjQstCw0LXQvCDQuNC3IGN1c3RvbUJ1dHRvbnMNCiAgICAgICAgICAgIGN1c3RvbUJ1dHRvbnMuZm9yRWFjaChidXR0b24gPT4gew0KICAgICAgICAgICAgICAgIGlmIChidXR0b24uZGF0ZUNvbHVtbnMpIHsNCiAgICAgICAgICAgICAgICAgICAgYnV0dG9uLmRhdGVDb2x1bW5zLmZvckVhY2goY29sTmFtZSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb2x1bW4gPSBjdXN0b21Db2x1bW5zLmZpbmQoY29sID0+IGNvbC5uYW1lID09PSBjb2xOYW1lKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb2x1bW4pIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRlVmFsaWRhdGlvbkNvbHVtbnNbY29sdW1uLmlkXSA9IHRydWU7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFINCS0L7RgdGB0YLQsNC90L7QstC70LXQvdGLINC90LDRgdGC0YDQvtC50LrQuCDQv9GA0L7QstC10YDQutC4INC00LDRgjonLCBkYXRlVmFsaWRhdGlvbkNvbHVtbnMpOw0KICAgICAgICB9DQoNCiAgICAgICAgLy8g0KTQo9Cd0JrQptCY0K8g0JjQndCY0KbQmNCQ0JvQmNCX0JDQptCY0Jgg0J/QoNCY0JvQntCW0JXQndCY0K8NCiAgICAgICAgZnVuY3Rpb24gaW5pdGlhbGl6ZUFwcFdpdGhGYWxsYmFjaygpIHsNCiAgICAgICAgICAgIHNldHVwRXZlbnRMaXN0ZW5lcnMoKTsNCiAgICAgICAgICAgIGxvYWRBcHBTZXR0aW5ncygpOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBvbmxpbmVVc2VycyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ29ubGluZVVzZXJzJykpIHx8IHt9Ow0KICAgICAgICAgICAgDQogICAgICAgICAgICAvLyDQl9Cw0LPRgNGD0LbQsNC10Lwg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9C10Lkg0L/RgNC4INC40L3QuNGG0LjQsNC70LjQt9Cw0YbQuNC4DQogICAgICAgICAgICBpZiAodXNlcnMubGVuZ3RoID09PSAwKSB7DQogICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IHN0b3JhZ2VNYW5hZ2VyLmxvYWRGcm9tTG9jYWxTdG9yYWdlKCk7DQogICAgICAgICAgICAgICAgdXNlcnMgPSBkYXRhLnVzZXJzOw0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIC8vINCV0YHQu9C4INCy0YHQtSDQtdGJ0LUg0L3QtdGCINC/0L7Qu9GM0LfQvtCy0LDRgtC10LvQtdC5LCDQv9GA0L7QsdGD0LXQvCDQt9Cw0LPRgNGD0LfQuNGC0Ywg0LjQtyBHaXRIdWINCiAgICAgICAgICAgICAgICBpZiAodXNlcnMubGVuZ3RoID09PSAwKSB7DQogICAgICAgICAgICAgICAgICAgIGxvYWRVc2Vyc0Zyb21HaXRIdWIoKS50aGVuKCgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRGcm9tTG9jYWxTdG9yYWdlV2l0aE5vdGlmaWNhdGlvbigpOw0KICAgICAgICAgICAgICAgICAgICAgICAgcmVzdG9yZURhdGVWYWxpZGF0aW9uQ29sdW1ucygpOw0KICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICBsb2FkRnJvbUxvY2FsU3RvcmFnZVdpdGhOb3RpZmljYXRpb24oKTsNCiAgICAgICAgICAgICAgICAgICAgcmVzdG9yZURhdGVWYWxpZGF0aW9uQ29sdW1ucygpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgbG9hZEZyb21Mb2NhbFN0b3JhZ2VXaXRoTm90aWZpY2F0aW9uKCk7DQogICAgICAgICAgICAgICAgcmVzdG9yZURhdGVWYWxpZGF0aW9uQ29sdW1ucygpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgDQogICAgICAgICAgICBpZiAoY3VycmVudFVzZXIgJiYgY3VycmVudFVzZXIucm9sZSA9PT0gJ3VzZXInKSB7DQogICAgICAgICAgICAgICAgY29uc3QgY29uZmlnID0gc3RvcmFnZU1hbmFnZXIuZ2V0Q29uZmlnKCk7DQogICAgICAgICAgICAgICAgaWYgKGNvbmZpZy5yZXBvICYmIGNvbmZpZy5icmFuY2gpIHsNCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflIQg0J/QvtC/0YvRgtC60LAg0LfQsNCz0YDRg9C30LrQuCDQtNCw0L3QvdGL0YUg0LjQtyBHaXRIdWIg0LTQu9GPINC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjy4uLicpOw0KICAgICAgICAgICAgICAgICAgICBsb2FkRnJvbUdpdEh1YigpLnRoZW4oKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSDQl9Cw0LPRgNGD0LfQutCwINC40LcgR2l0SHViINC30LDQstC10YDRiNC10L3QsCcpOw0KICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RvcmFnZU1hbmFnZXIucGVuZGluZ0NoYW5nZXMubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JhZ2VNYW5hZ2VyLnRyeVN5bmNDaGFuZ2VzKHVwZGF0ZVN5bmNTdGF0dXMpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaChlcnJvciA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4p2MINCe0YjQuNCx0LrQsCDQt9Cw0LPRgNGD0LfQutC4INC40LcgR2l0SHViOicsIGVycm9yKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRGcm9tTG9jYWxTdG9yYWdlV2l0aE5vdGlmaWNhdGlvbigpOw0KICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICBsb2FkRnJvbUxvY2FsU3RvcmFnZVdpdGhOb3RpZmljYXRpb24oKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIGxvYWRGcm9tTG9jYWxTdG9yYWdlV2l0aE5vdGlmaWNhdGlvbigpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgLy8g0J7QkdCd0J7QktCb0JXQndCd0JDQryDQpNCj0J3QmtCm0JjQryDQktCl0J7QlNCQDQogICAgICAgIGZ1bmN0aW9uIGhhbmRsZUxvZ2luKCkgew0KICAgICAgICAgICAgY29uc3QgdXNlcm5hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXNlcm5hbWUnKS52YWx1ZTsNCiAgICAgICAgICAgIGNvbnN0IHBhc3N3b3JkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Bhc3N3b3JkJykudmFsdWU7DQoNCiAgICAgICAgICAgIC8vINCf0L7Qv9GL0YLQutCwINC30LDQs9GA0YPQt9C40YLRjCDQv9C+0LvRjNC30L7QstCw0YLQtdC70LXQuSDQuNC3IEdpdEh1YiDQtNC70Y8g0L3QvtCy0YvRhSDRg9GB0YLRgNC+0LnRgdGC0LINCiAgICAgICAgICAgIGlmICh1c2Vycy5sZW5ndGggPT09IDAgfHwgIXVzZXJzLmZpbmQodSA9PiB1LnVzZXJuYW1lID09PSAnYWRtaW4nKSkgew0KICAgICAgICAgICAgICAgIGxvYWRVc2Vyc0Zyb21HaXRIdWIoKS50aGVuKCgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgLy8g0J/QvtGB0LvQtSDQt9Cw0LPRgNGD0LfQutC4INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvQtdC5INC/0YDQvtCx0YPQtdC8INCy0L7QudGC0LgNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgdXNlciA9IHVzZXJzLmZpbmQodSA9PiB1LnVzZXJuYW1lID09PSB1c2VybmFtZSAmJiB1LnBhc3N3b3JkID09PSBwYXNzd29yZCk7DQogICAgICAgICAgICAgICAgICAgIGlmICh1c2VyKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZUxvZ2luKHVzZXIpOw0KICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ9Cd0LXQstC10YDQvdC+0LUg0LjQvNGPINC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjyDQuNC70Lgg0L/QsNGA0L7Qu9GMJyk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9KS5jYXRjaChlcnJvciA9PiB7DQogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfQndC1INGD0LTQsNC70L7RgdGMINC30LDQs9GA0YPQt9C40YLRjCDQv9C+0LvRjNC30L7QstCw0YLQtdC70LXQuSDQuNC3IEdpdEh1YjonLCBlcnJvcik7DQogICAgICAgICAgICAgICAgICAgIC8vINCf0YDQvtCx0YPQtdC8INC90LDQudGC0Lgg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPINCyINC70L7QutCw0LvRjNC90YvRhSDQtNCw0L3QvdGL0YUNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgdXNlciA9IHVzZXJzLmZpbmQodSA9PiB1LnVzZXJuYW1lID09PSB1c2VybmFtZSAmJiB1LnBhc3N3b3JkID09PSBwYXNzd29yZCk7DQogICAgICAgICAgICAgICAgICAgIGlmICh1c2VyKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZUxvZ2luKHVzZXIpOw0KICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ9Cd0LXQstC10YDQvdC+0LUg0LjQvNGPINC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjyDQuNC70Lgg0L/QsNGA0L7Qu9GMJyk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgY29uc3QgdXNlciA9IHVzZXJzLmZpbmQodSA9PiB1LnVzZXJuYW1lID09PSB1c2VybmFtZSAmJiB1LnBhc3N3b3JkID09PSBwYXNzd29yZCk7DQogICAgICAgICAgICAgICAgaWYgKHVzZXIpIHsNCiAgICAgICAgICAgICAgICAgICAgY29tcGxldGVMb2dpbih1c2VyKTsNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICBhbGVydCgn0J3QtdCy0LXRgNC90L7QtSDQuNC80Y8g0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPINC40LvQuCDQv9Cw0YDQvtC70YwnKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICBmdW5jdGlvbiBjb21wbGV0ZUxvZ2luKHVzZXIpIHsNCiAgICAgICAgICAgIGN1cnJlbnRVc2VyID0gdXNlcjsNCiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2dpbi1zY3JlZW4nKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOw0KICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21haW4tc2NyZWVuJykuc3R5bGUuZGlzcGxheSA9ICdmbGV4JzsNCiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1c2VyLXJvbGUnKS50ZXh0Q29udGVudCA9IHVzZXIucm9sZSA9PT0gJ2FkbWluJyA/ICfQkNC00LzQuNC90LjRgdGC0YDQsNGC0L7RgCcgOiAn0J/QvtC70YzQt9C+0LLQsNGC0LXQu9GMJzsNCiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1c2VyLW5hbWUtZGlzcGxheScpLnRleHRDb250ZW50ID0gdXNlci51c2VybmFtZTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgaWYgKHVzZXIucm9sZSA9PT0gJ2FkbWluJykgew0KICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnYWRtaW4nKTsNCiAgICAgICAgICAgICAgICBzZXR1cEFkbWluRmVhdHVyZXMoKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIA0KICAgICAgICAgICAgb25saW5lVXNlcnNbdXNlci51c2VybmFtZV0gPSB7DQogICAgICAgICAgICAgICAgdXNlcm5hbWU6IHVzZXIudXNlcm5hbWUsDQogICAgICAgICAgICAgICAgcm9sZTogdXNlci5yb2xlLA0KICAgICAgICAgICAgICAgIGxhc3RBY3RpdmU6IERhdGUubm93KCkNCiAgICAgICAgICAgIH07DQogICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnb25saW5lVXNlcnMnLCBKU09OLnN0cmluZ2lmeShvbmxpbmVVc2VycykpOw0KICAgICAgICAgICAgdXBkYXRlU3RhdHVzQmFyKCk7DQogICAgICAgICAgICANCiAgICAgICAgICAgIGluaXRpYWxpemVBcHBXaXRoRmFsbGJhY2soKTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7DQogICAgICAgICAgICAgICAgY2hlY2tBbGxEYXRlcygpOw0KICAgICAgICAgICAgfSwgMTAwMCk7DQogICAgICAgIH0NCg0KICAgICAgICAvLyDQntCR0J3QntCS0JvQldCd0J3QkNCvINCk0KPQndCa0KbQmNCvINCS0KvQpdCe0JTQkA0KICAgICAgICBmdW5jdGlvbiBoYW5kbGVMb2dvdXQoKSB7DQogICAgICAgICAgICBpZiAoY3VycmVudFVzZXIpIHsNCiAgICAgICAgICAgICAgICBkZWxldGUgb25saW5lVXNlcnNbY3VycmVudFVzZXIudXNlcm5hbWVdOw0KICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdvbmxpbmVVc2VycycsIEpTT04uc3RyaW5naWZ5KG9ubGluZVVzZXJzKSk7DQogICAgICAgICAgICAgICAgdXBkYXRlU3RhdHVzQmFyKCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICANCiAgICAgICAgICAgIGN1cnJlbnRVc2VyID0gbnVsbDsNCiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYWluLXNjcmVlbicpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7DQogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9naW4tc2NyZWVuJykuc3R5bGUuZGlzcGxheSA9ICdmbGV4JzsNCiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnYWRtaW4nKTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgLy8g0J7Rh9C40YnQsNC10Lwg0YTQvtGA0LzRgyDQstGF0L7QtNCwDQogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9naW4tZm9ybScpLnJlc2V0KCk7DQogICAgICAgIH0NCg0KICAgICAgICBmdW5jdGlvbiBzZXR1cEFkbWluRmVhdHVyZXMoKSB7DQogICAgICAgICAgICBjb25zdCBoZWFkZXJUaXRsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoZWFkZXItdGl0bGUnKTsNCiAgICAgICAgICAgIGhlYWRlclRpdGxlLmNsYXNzTGlzdC5hZGQoJ2VkaXRhYmxlJyk7DQogICAgICAgICAgICBoZWFkZXJUaXRsZS5jb250ZW50RWRpdGFibGUgPSAndHJ1ZSc7DQogICAgICAgICAgICBoZWFkZXJUaXRsZS5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgZnVuY3Rpb24oKSB7DQogICAgICAgICAgICAgICAgYXBwU2V0dGluZ3MuaGVhZGVyVGl0bGUgPSB0aGlzLnRleHRDb250ZW50Ow0KICAgICAgICAgICAgICAgIHN0b3JhZ2VNYW5hZ2VyLnNhdmVUb0xvY2FsU3RvcmFnZSh0YWJsZURhdGEsIHVzZXJzLCBhcHBTZXR0aW5ncywgY3VzdG9tQnV0dG9ucywgY3VzdG9tQ29sdW1ucywgYmFzaWNDb2x1bW5zLCBkYXRlVmFsaWRhdGlvbkNvbHVtbnMsIHRhYnMpOw0KICAgICAgICAgICAgICAgIGF1dG9TeW5jQ2hhbmdlcygpOw0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICANCiAgICAgICAgICAgIGhlYWRlclRpdGxlLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBmdW5jdGlvbihlKSB7DQogICAgICAgICAgICAgICAgaWYgKGUua2V5ID09PSAnRW50ZXInKSB7DQogICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5ibHVyKCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmaXhlZC1jb2x1bW5zLWNvdW50JykudmFsdWUgPSBhcHBTZXR0aW5ncy5maXhlZENvbHVtbnNDb3VudDsNCiAgICAgICAgfQ0KDQogICAgICAgIC8vINCe0KHQotCQ0JLQqNCY0JXQodCvINCk0KPQndCa0KbQmNCYICjQuNGB0L/RgNCw0LLQu9C10L3QvdGL0LUpDQogICAgICAgIGZ1bmN0aW9uIHNldHVwRXZlbnRMaXN0ZW5lcnMoKSB7DQogICAgICAgICAgICAvLyDQm9C+0LPQuNC9DQogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9naW4tZm9ybScpLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGZ1bmN0aW9uKGUpIHsNCiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7DQogICAgICAgICAgICAgICAgaGFuZGxlTG9naW4oKTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9nb3V0LWJ0bicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlTG9nb3V0KTsNCg0KICAgICAgICAgICAgLy8g0J7RgdC90L7QstC90YvQtSDQutC90L7Qv9C60LgNCiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzaG93LWFsbCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2hvd0FsbENvbHVtbnMpOw0KICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FkZC1idXR0b24nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHNob3dNb2RhbCgnYWRkLWJ1dHRvbi1tb2RhbCcpKTsNCiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYW5hZ2UtdXNlcnMnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHNob3dNb2RhbCgndXNlcnMtbW9kYWwnKSk7DQogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2hlY2stZGF0ZXMtYnRuJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjaGVja0FsbERhdGVzKTsNCiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGQtcm93LWJ0bicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYWRkTmV3Um93KTsNCiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnaXRodWItc3luYy1idG4nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHNob3dNb2RhbCgnZ2l0aHViLXN5bmMtbW9kYWwnKSk7DQogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2F2ZS1jaGFuZ2VzLWJ0bicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZm9yY2VTYXZlQ2hhbmdlcyk7DQoNCiAgICAgICAgICAgIC8vINCa0J3QntCf0JrQkCDQntCR0J3QntCS0JvQldCd0JjQryDQlNCQ0J3QndCr0KUNCiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZWZyZXNoLWRhdGEtYnRuJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgICAgICBpZiAoY3VycmVudFVzZXIgJiYgY3VycmVudFVzZXIucm9sZSA9PT0gJ3VzZXInKSB7DQogICAgICAgICAgICAgICAgICAgIGxvYWRGcm9tR2l0SHViKCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgIC8vINCd0L7QstGL0LUg0LrQvdC+0L/QutC4INGD0L/RgNCw0LLQu9C10L3QuNGPDQogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmV3LXRhYi1idG4nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNyZWF0ZU5ld1RhYik7DQogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmlsdGVyLXNlbGVjdGVkLWJ0bicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZmlsdGVyU2VsZWN0ZWRSb3dzKTsNCiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleHBvcnQtZXhjZWwtYnRuJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBleHBvcnRUb0V4Y2VsKTsNCiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbXBvcnQtZXhjZWwtYnRuJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBzaG93TW9kYWwoJ2ltcG9ydC1leGNlbC1tb2RhbCcpKTsNCiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0YWJsZS1zZWFyY2gnKS5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGhhbmRsZVNlYXJjaCk7DQogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VhcmNoLWNsZWFyJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbGVhclNlYXJjaCk7DQogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsZWN0LWFsbC1jaGVja2JveCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGhhbmRsZVNlbGVjdEFsbCk7DQoNCiAgICAgICAgICAgIC8vINCa0L3QvtC/0LrQuCDQv9GA0L7QutGA0YPRgtC60Lgg0LLQutC70LDQtNC+0LoNCiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50YWJzLXNjcm9sbC1idG4ubGVmdCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2Nyb2xsVGFic0xlZnQpOw0KICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRhYnMtc2Nyb2xsLWJ0bi5yaWdodCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2Nyb2xsVGFic1JpZ2h0KTsNCg0KICAgICAgICAgICAgLy8g0JrQvdC+0L/QutC4INGD0L/RgNCw0LLQu9C10L3QuNGPINGB0YLQvtC70LHRhtCw0LzQuA0KICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FkZC1jb2x1bW4tYnRuJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhZGROZXdDb2x1bW4pOw0KICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JlbW92ZS1jb2x1bW4tYnRuJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzaG93UmVtb3ZlQ29sdW1uTW9kYWwpOw0KICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vdmUtY29sdW1uLWxlZnQtYnRuJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBtb3ZlQ29sdW1uKC0xKSk7DQogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW92ZS1jb2x1bW4tcmlnaHQtYnRuJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBtb3ZlQ29sdW1uKDEpKTsNCiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmaXhlZC1jb2x1bW5zLWNvdW50JykuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdXBkYXRlRml4ZWRDb2x1bW5zQ291bnQpOw0KDQogICAgICAgICAgICAvLyDQo9C00LDQu9C10L3QuNC1INGB0YLQvtC70LHRhtCwDQogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29uZmlybS1yZW1vdmUtY29sdW1uJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCByZW1vdmVTZWxlY3RlZENvbHVtbik7DQoNCiAgICAgICAgICAgIC8vINCf0LXRgNC10LzQtdGJ0LXQvdC40LUg0YHRgtC+0LvQsdGG0LANCiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb25maXJtLW1vdmUtY29sdW1uJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBtb3ZlU2VsZWN0ZWRDb2x1bW4pOw0KDQogICAgICAgICAgICAvLyDQmNC80L/QvtGA0YIgRXhjZWwNCiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleGNlbC11cGxvYWQtYXJlYScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7DQogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4Y2VsLWZpbGUtaW5wdXQnKS5jbGljaygpOw0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXhjZWwtZmlsZS1pbnB1dCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGhhbmRsZUV4Y2VsRmlsZVNlbGVjdCk7DQogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29uZmlybS1pbXBvcnQtYnRuJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjb25maXJtSW1wb3J0KTsNCiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYW5jZWwtaW1wb3J0LWJ0bicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gew0KICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbXBvcnQtZXhjZWwtbW9kYWwnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOw0KICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgIC8vIEdpdEh1YiDRgdC40L3RhdGA0L7QvdC40LfQsNGG0LjRjw0KICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dpdGh1Yi1zeW5jLWZvcm0nKS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBoYW5kbGVHaXRIdWJTZXR0aW5nc1NhdmUpOw0KICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N5bmMtbm93LWJ0bicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gew0KICAgICAgICAgICAgICAgIGNvbnN0IGFwcERhdGEgPSBzdG9yYWdlTWFuYWdlci5nZXRBbGxBcHBEYXRhKA0KICAgICAgICAgICAgICAgICAgICB0YWJsZURhdGEsIHVzZXJzLCBhcHBTZXR0aW5ncywgY3VzdG9tQnV0dG9ucywgDQogICAgICAgICAgICAgICAgICAgIGN1c3RvbUNvbHVtbnMsIGJhc2ljQ29sdW1ucywgZGF0ZVZhbGlkYXRpb25Db2x1bW5zLCANCiAgICAgICAgICAgICAgICAgICAgdGFicywgY3VycmVudFVzZXINCiAgICAgICAgICAgICAgICApOw0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIHN0b3JhZ2VNYW5hZ2VyLnNhdmVUb0dpdEh1YihhcHBEYXRhLCBjdXJyZW50VXNlcikNCiAgICAgICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlU3luY1N0YXR1cygn0KHQuNC90YXRgNC+0L3QuNC30LjRgNC+0LLQsNC90L4g0LLRgNGD0YfQvdGD0Y46ICcgKyBuZXcgRGF0ZSgpLnRvTG9jYWxlVGltZVN0cmluZygpLCAnc3VjY2VzcycpOw0KICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlU3luY1N0YXR1cygn0J7RiNC40LHQutCwINGB0LjQvdGF0YDQvtC90LjQt9Cw0YbQuNC4OiAnICsgZXJyb3IubWVzc2FnZSwgJ2Vycm9yJyk7DQogICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9hZC1mcm9tLWdpdGh1Yi1idG4nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGxvYWRGcm9tR2l0SHViKCkpOw0KDQogICAgICAgICAgICAvLyDQnNC+0LTQsNC70YzQvdGL0LUg0L7QutC90LANCiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jbG9zZScpLmZvckVhY2goY2xvc2UgPT4gew0KICAgICAgICAgICAgICAgIGNsb3NlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuY2xvc2VzdCgnLm1vZGFsJykuc3R5bGUuZGlzcGxheSA9ICdub25lJzsNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0pOw0KDQogICAgICAgICAgICAvLyDQpNC+0YDQvNGLDQogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRkLWJ1dHRvbi1mb3JtJykuYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgaGFuZGxlQWRkQnV0dG9uKTsNCiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGQtdXNlci1mb3JtJykuYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgaGFuZGxlQWRkVXNlcik7DQogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29sdW1uLWNvdW50JykuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZ2VuZXJhdGVDb2x1bW5JbnB1dHMpOw0KICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NhdmUtY2VsbC1idG4nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHNhdmVDZWxsQ2hhbmdlcyk7DQogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2xvc2UtZmlsZS1tb2RhbCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7DQogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXQtY2VsbC1tb2RhbCcpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7DQogICAgICAgICAgICAgICAgY3VycmVudEZpbGVNYW5hZ2VtZW50Q2VsbCA9IG51bGw7DQogICAgICAgICAgICB9KTsNCg0KICAgICAgICAgICAgLy8g0JrQvdC+0L/QutC4INC/0YDQtdC00L/RgNC+0YHQvNC+0YLRgNCwDQogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZG93bmxvYWQtcHJldmlldy1idG4nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGRvd25sb2FkUHJldmlld0ZpbGUpOw0KICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvcHktcHJldmlldy1idG4nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNvcHlQcmV2aWV3RmlsZSk7DQogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJpbnQtcHJldmlldy1idG4nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHByaW50UHJldmlld0ZpbGUpOw0KDQogICAgICAgICAgICAvLyDQoNCw0LHQvtGC0LAg0YEg0YTQsNC50LvQsNC80LgNCiAgICAgICAgICAgIGNvbnN0IGZpbGVVcGxvYWRBcmVhID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZpbGUtdXBsb2FkLWFyZWEnKTsNCiAgICAgICAgICAgIGNvbnN0IGZpbGVJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmaWxlLWlucHV0Jyk7DQogICAgICAgICAgICANCiAgICAgICAgICAgIGZpbGVVcGxvYWRBcmVhLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7DQogICAgICAgICAgICAgICAgZmlsZUlucHV0LmNsaWNrKCk7DQogICAgICAgICAgICB9KTsNCg0KICAgICAgICAgICAgZmlsZUlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZ1bmN0aW9uKGUpIHsNCiAgICAgICAgICAgICAgICBoYW5kbGVGaWxlVXBsb2FkKGUudGFyZ2V0LmZpbGVzKTsNCiAgICAgICAgICAgIH0pOw0KDQogICAgICAgICAgICBzZXR1cEZpbGVEcm9wWm9uZSgpOw0KDQogICAgICAgICAgICAvLyDQm9C+0LPQvtGC0LjQvw0KICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hlYWRlci1sb2dvJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0cmlnZ2VyTG9nb1VwbG9hZCk7DQogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9nby11cGxvYWQnKS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBoYW5kbGVMb2dvVXBsb2FkKTsNCg0KICAgICAgICAgICAgLy8g0JfQsNC60YDRi9GC0LjQtSDRhNC40LvRjNGC0YDQvtCyINC/0YDQuCDQutC70LjQutC1INCy0L3QtSDQuNGFDQogICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGUpIHsNCiAgICAgICAgICAgICAgICBpZiAoIWUudGFyZ2V0LmNsb3Nlc3QoJy5maWx0ZXItZHJvcGRvd24nKSAmJiAhZS50YXJnZXQuY2xvc2VzdCgnLmZpbHRlci1idG4nKSkgew0KICAgICAgICAgICAgICAgICAgICBjbG9zZUFsbEZpbHRlckRyb3Bkb3ducygpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBpZiAoIWUudGFyZ2V0LmNsb3Nlc3QoJy5kYXRlLXBpY2tlcicpICYmICFlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2RhdGUtY2VsbCcpKSB7DQogICAgICAgICAgICAgICAgICAgIGNsb3NlRGF0ZVBpY2tlcigpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBpZiAoIWUudGFyZ2V0LmNsb3Nlc3QoJy5kYXRlLWlucHV0LW92ZXJsYXknKSAmJiBjdXJyZW50RGF0ZUlucHV0KSB7DQogICAgICAgICAgICAgICAgICAgIGNsb3NlRGF0ZUlucHV0KCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgIC8vINCY0YHQv9GA0LDQstC70LXQvdC40LUg0L/RgNC+0LHQu9C10LzRiyDRgSDQv9GA0L7QutGA0YPRgtC60L7QuSDRhNC40LvRjNGC0YDQsA0KICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgZnVuY3Rpb24oZSkgew0KICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jbG9zZXN0KCcuZmlsdGVyLW9wdGlvbnMnKSkgew0KICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pOw0KICAgICAgICB9DQoNCiAgICAgICAgZnVuY3Rpb24gaGFuZGxlR2l0SHViU2V0dGluZ3NTYXZlKGUpIHsNCiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgY29uc3QgdG9rZW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2l0aHViLXRva2VuJykudmFsdWU7DQogICAgICAgICAgICBjb25zdCByZXBvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dpdGh1Yi1yZXBvJykudmFsdWU7DQogICAgICAgICAgICBjb25zdCBicmFuY2ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2l0aHViLWJyYW5jaCcpLnZhbHVlOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBzdG9yYWdlTWFuYWdlci51cGRhdGVHaXRIdWJDb25maWcodG9rZW4sIHJlcG8sIGJyYW5jaCk7DQogICAgICAgICAgICANCiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnaXRodWItc3luYy1tb2RhbCcpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7DQogICAgICAgICAgICBhbGVydCgn0J3QsNGB0YLRgNC+0LnQutC4IEdpdEh1YiDRgdC+0YXRgNCw0L3QtdC90YshJyk7DQogICAgICAgIH0NCg0KICAgICAgICBmdW5jdGlvbiBzaG93QWxsQ29sdW1ucygpIHsNCiAgICAgICAgICAgIGNvbnN0IGFsbENlbGxzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnI2RhdGEtdGFibGUgdGgsICNkYXRhLXRhYmxlIHRkJyk7DQogICAgICAgICAgICBhbGxDZWxscy5mb3JFYWNoKGNlbGwgPT4gY2VsbC5zdHlsZS5kaXNwbGF5ID0gJycpOw0KICAgICAgICB9DQoNCiAgICAgICAgZnVuY3Rpb24gYWRkTmV3Um93KCkgew0KICAgICAgICAgICAgY29uc3QgbmV3SWQgPSB0YWJsZURhdGEubGVuZ3RoID4gMCA/IE1hdGgubWF4KC4uLnRhYmxlRGF0YS5tYXAocm93ID0+IHJvdy5pZCkpICsgMSA6IDE7DQogICAgICAgICAgICBjb25zdCBuZXdSb3cgPSB7DQogICAgICAgICAgICAgICAgaWQ6IG5ld0lkLA0KICAgICAgICAgICAgICAgIG5hbWU6ICfQndC+0LLRi9C5INC/0YDQvtC10LrRgicsDQogICAgICAgICAgICAgICAgZGF0ZTogZm9ybWF0RGF0ZShuZXcgRGF0ZSgpKSwNCiAgICAgICAgICAgICAgICBzdGF0dXM6ICfQkNC60YLQuNCy0LXQvScsDQogICAgICAgICAgICAgICAgY3VzdG9tRGF0YToge30sDQogICAgICAgICAgICAgICAgYXR0YWNobWVudHM6IHt9DQogICAgICAgICAgICB9Ow0KICAgICAgICAgICAgDQogICAgICAgICAgICB0YWJsZURhdGEucHVzaChuZXdSb3cpOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBjb25zdCBjdXJyZW50VGFiID0gdGFicy5maW5kKHRhYiA9PiB0YWIuaWQgPT09IGN1cnJlbnRUYWJJZCk7DQogICAgICAgICAgICBpZiAoY3VycmVudFRhYikgew0KICAgICAgICAgICAgICAgIGN1cnJlbnRUYWIuZGF0YSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGFibGVEYXRhKSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICANCiAgICAgICAgICAgIHN0b3JhZ2VNYW5hZ2VyLnNhdmVUb0xvY2FsU3RvcmFnZSh0YWJsZURhdGEsIHVzZXJzLCBhcHBTZXR0aW5ncywgY3VzdG9tQnV0dG9ucywgY3VzdG9tQ29sdW1ucywgYmFzaWNDb2x1bW5zLCBkYXRlVmFsaWRhdGlvbkNvbHVtbnMsIHRhYnMpOw0KICAgICAgICAgICAgYXV0b1N5bmNDaGFuZ2VzKCk7DQogICAgICAgICAgICANCiAgICAgICAgICAgIHJlbmRlclRhYmxlKCk7DQogICAgICAgICAgICANCiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gew0KICAgICAgICAgICAgICAgIGNvbnN0IG5ld1Jvd0VsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGB0cjpsYXN0LWNoaWxkYCk7DQogICAgICAgICAgICAgICAgaWYgKG5ld1Jvd0VsZW1lbnQpIHsNCiAgICAgICAgICAgICAgICAgICAgbmV3Um93RWxlbWVudC5zY3JvbGxJbnRvVmlldyh7IGJlaGF2aW9yOiAnc21vb3RoJywgYmxvY2s6ICduZWFyZXN0JyB9KTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9LCAxMDApOw0KICAgICAgICB9DQoNCiAgICAgICAgZnVuY3Rpb24gc2hvd01vZGFsKG1vZGFsSWQpIHsNCiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG1vZGFsSWQpLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7DQogICAgICAgICAgICANCiAgICAgICAgICAgIGlmIChtb2RhbElkID09PSAndXNlcnMtbW9kYWwnKSB7DQogICAgICAgICAgICAgICAgcmVuZGVyVXNlcnNMaXN0KCk7DQogICAgICAgICAgICB9IGVsc2UgaWYgKG1vZGFsSWQgPT09ICdhZGQtYnV0dG9uLW1vZGFsJykgew0KICAgICAgICAgICAgICAgIGdlbmVyYXRlQ29sdW1uSW5wdXRzKCk7DQogICAgICAgICAgICB9IGVsc2UgaWYgKG1vZGFsSWQgPT09ICdnaXRodWItc3luYy1tb2RhbCcpIHsNCiAgICAgICAgICAgICAgICBjb25zdCBjb25maWcgPSBzdG9yYWdlTWFuYWdlci5nZXRDb25maWcoKTsNCiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2l0aHViLXRva2VuJykudmFsdWUgPSBjb25maWcudG9rZW47DQogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dpdGh1Yi1yZXBvJykudmFsdWUgPSBjb25maWcucmVwbzsNCiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2l0aHViLWJyYW5jaCcpLnZhbHVlID0gY29uZmlnLmJyYW5jaDsNCiAgICAgICAgICAgIH0gZWxzZSBpZiAobW9kYWxJZCA9PT0gJ21vdmUtY29sdW1uLW1vZGFsJykgew0KICAgICAgICAgICAgICAgIHNob3dNb3ZlQ29sdW1uTW9kYWwoKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIGZ1bmN0aW9uIGdlbmVyYXRlQ29sdW1uSW5wdXRzKCkgew0KICAgICAgICAgICAgY29uc3QgY291bnQgPSBwYXJzZUludChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29sdW1uLWNvdW50JykudmFsdWUpOw0KICAgICAgICAgICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbHVtbnMtY29udGFpbmVyJyk7DQogICAgICAgICAgICBjb25zdCBkYXRlQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RhdGUtdmFsaWRhdGlvbi1jb2x1bW5zJyk7DQogICAgICAgICAgICANCiAgICAgICAgICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSAnJzsNCiAgICAgICAgICAgIGRhdGVDb250YWluZXIuaW5uZXJIVE1MID0gJyc7DQogICAgICAgICAgICANCiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKykgew0KICAgICAgICAgICAgICAgIGNvbnN0IGlucHV0R3JvdXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsNCiAgICAgICAgICAgICAgICBpbnB1dEdyb3VwLnN0eWxlLm1hcmdpbkJvdHRvbSA9ICcxMHB4JzsNCiAgICAgICAgICAgICAgICBpbnB1dEdyb3VwLmlubmVySFRNTCA9IGANCiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIHBsYWNlaG9sZGVyPSLQndCw0LfQstCw0L3QuNC1INGB0YLQvtC70LHRhtCwICR7aSArIDF9IiByZXF1aXJlZCANCiAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPSJ3aWR0aDogMTAwJTsgcGFkZGluZzogMC41cmVtOyBib3JkZXI6IDFweCBzb2xpZCAjNGE0YTRhOyBib3JkZXItcmFkaXVzOiA1cHg7IGJhY2tncm91bmQ6ICMyZjJmMmY7IGNvbG9yOiAjZWNmMGYxOyI+DQogICAgICAgICAgICAgICAgYDsNCiAgICAgICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoaW5wdXRHcm91cCk7DQoNCiAgICAgICAgICAgICAgICBjb25zdCBkYXRlQ2hlY2tib3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsNCiAgICAgICAgICAgICAgICBkYXRlQ2hlY2tib3guc3R5bGUubWFyZ2luQm90dG9tID0gJzVweCc7DQogICAgICAgICAgICAgICAgZGF0ZUNoZWNrYm94LmlubmVySFRNTCA9IGANCiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIHN0eWxlPSJkaXNwbGF5OiBmbGV4OyBhbGlnbi1pdGVtczogY2VudGVyOyBnYXA6IDVweDsgZm9udC1zaXplOiAwLjlyZW07IGNvbG9yOiAjYmRjM2M3OyI+DQogICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iY2hlY2tib3giIGNsYXNzPSJjb2x1bW4tZGF0ZS12YWxpZGF0aW9uIiBkYXRhLWNvbHVtbi1pbmRleD0iJHtpfSI+DQogICAgICAgICAgICAgICAgICAgICAgICDQn9GA0L7QstC10YDRj9GC0Ywg0LTQsNGC0Ysg0LIg0YHRgtC+0LvQsdGG0LUgIiR7aSArIDF9Ig0KICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPg0KICAgICAgICAgICAgICAgIGA7DQogICAgICAgICAgICAgICAgZGF0ZUNvbnRhaW5lci5hcHBlbmRDaGlsZChkYXRlQ2hlY2tib3gpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgZnVuY3Rpb24gaGFuZGxlQWRkQnV0dG9uKGUpIHsNCiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsNCiAgICAgICAgICAgIGNvbnN0IGJ1dHRvbk5hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnV0dG9uLW5hbWUnKS52YWx1ZTsNCiAgICAgICAgICAgIGNvbnN0IGNvbHVtbklucHV0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb2x1bW5zLWNvbnRhaW5lcicpLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0Jyk7DQogICAgICAgICAgICBjb25zdCBkYXRlQ2hlY2tib3hlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jb2x1bW4tZGF0ZS12YWxpZGF0aW9uJyk7DQogICAgICAgICAgICANCiAgICAgICAgICAgIGNvbnN0IGNvbHVtbnMgPSBBcnJheS5mcm9tKGNvbHVtbklucHV0cykNCiAgICAgICAgICAgICAgICAubWFwKGlucHV0ID0+IGlucHV0LnZhbHVlLnRyaW0oKSkNCiAgICAgICAgICAgICAgICAuZmlsdGVyKG5hbWUgPT4gbmFtZSAhPT0gJycpOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBjb25zdCBidXR0b25JZCA9ICdidG5fJyArIERhdGUubm93KCk7DQogICAgICAgICAgICANCiAgICAgICAgICAgIC8vINCh0J7QpdCg0JDQndCY0KLQlSDQmNCd0KTQntCg0JzQkNCm0JjQriDQniDQn9Cg0J7QktCV0KDQmtCVINCU0JDQoiDQkiDQodCQ0JzQntCZINCa0J3QntCf0JrQlQ0KICAgICAgICAgICAgY29uc3QgZGF0ZUNvbHVtbnMgPSBbXTsNCiAgICAgICAgICAgIGRhdGVDaGVja2JveGVzLmZvckVhY2goKGNoZWNrYm94LCBpbmRleCkgPT4gew0KICAgICAgICAgICAgICAgIGlmIChjaGVja2JveC5jaGVja2VkICYmIGNvbHVtbnNbaW5kZXhdKSB7DQogICAgICAgICAgICAgICAgICAgIGRhdGVDb2x1bW5zLnB1c2goY29sdW1uc1tpbmRleF0pOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBjb25zdCBidXR0b25EYXRhID0gew0KICAgICAgICAgICAgICAgIGlkOiBidXR0b25JZCwNCiAgICAgICAgICAgICAgICBuYW1lOiBidXR0b25OYW1lLA0KICAgICAgICAgICAgICAgIGNvbHVtbnM6IGNvbHVtbnMsDQogICAgICAgICAgICAgICAgZGF0ZUNvbHVtbnM6IGRhdGVDb2x1bW5zIC8vINCU0J7QkdCQ0JLQm9CV0J3Qnjog0YHQvtGF0YDQsNC90Y/QtdC8INC60LDQutC40LUg0YHRgtC+0LvQsdGG0Ysg0L/RgNC+0LLQtdGA0Y/RgtGMINC90LAg0LTQsNGC0YsNCiAgICAgICAgICAgIH07DQogICAgICAgICAgICANCiAgICAgICAgICAgIGN1c3RvbUJ1dHRvbnMucHVzaChidXR0b25EYXRhKTsNCiAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICBjb2x1bW5zLmZvckVhY2goKGNvbE5hbWUsIGluZGV4KSA9PiB7DQogICAgICAgICAgICAgICAgY29uc3QgY29sdW1uSWQgPSAnY29sXycgKyBEYXRlLm5vdygpICsgJ18nICsgaW5kZXg7DQogICAgICAgICAgICAgICAgaWYgKCFjdXN0b21Db2x1bW5zLmZpbmQoY29sID0+IGNvbC5uYW1lID09PSBjb2xOYW1lKSkgew0KICAgICAgICAgICAgICAgICAgICBjdXN0b21Db2x1bW5zLnB1c2goew0KICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGNvbHVtbklkLA0KICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogY29sTmFtZQ0KICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgY29uc3QgZGF0ZUNoZWNrYm94ID0gZGF0ZUNoZWNrYm94ZXNbaW5kZXhdOw0KICAgICAgICAgICAgICAgIGlmIChkYXRlQ2hlY2tib3ggJiYgZGF0ZUNoZWNrYm94LmNoZWNrZWQpIHsNCiAgICAgICAgICAgICAgICAgICAgZGF0ZVZhbGlkYXRpb25Db2x1bW5zW2NvbHVtbklkXSA9IHRydWU7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICANCiAgICAgICAgICAgIHN0b3JhZ2VNYW5hZ2VyLnNhdmVUb0xvY2FsU3RvcmFnZSh0YWJsZURhdGEsIHVzZXJzLCBhcHBTZXR0aW5ncywgY3VzdG9tQnV0dG9ucywgY3VzdG9tQ29sdW1ucywgYmFzaWNDb2x1bW5zLCBkYXRlVmFsaWRhdGlvbkNvbHVtbnMsIHRhYnMpOw0KICAgICAgICAgICAgYXV0b1N5bmNDaGFuZ2VzKCk7DQogICAgICAgICAgICANCiAgICAgICAgICAgIGNyZWF0ZUN1c3RvbUJ1dHRvbihidXR0b25EYXRhKTsNCiAgICAgICAgICAgIHJlbmRlclRhYmxlKCk7DQogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRkLWJ1dHRvbi1tb2RhbCcpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7DQogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRkLWJ1dHRvbi1mb3JtJykucmVzZXQoKTsNCiAgICAgICAgfQ0KDQogICAgICAgIC8vINCY0KHQn9Cg0JDQktCb0JXQndCd0JDQryDQpNCj0J3QmtCm0JjQryDQodCe0JfQlNCQ0J3QmNCvINCa0JDQodCi0J7QnNCd0J7QmSDQmtCd0J7Qn9Ca0JgNCiAgICAgICAgZnVuY3Rpb24gY3JlYXRlQ3VzdG9tQnV0dG9uKGJ1dHRvbkRhdGEpIHsNCiAgICAgICAgICAgIGNvbnN0IGJ1dHRvbldyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsNCiAgICAgICAgICAgIGJ1dHRvbldyYXBwZXIuY2xhc3NOYW1lID0gJ2N1c3RvbS1idXR0b24td3JhcHBlcic7DQogICAgICAgICAgICANCiAgICAgICAgICAgIGNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpOw0KICAgICAgICAgICAgYnV0dG9uLmNsYXNzTmFtZSA9ICdjdXN0b20tYnV0dG9uJzsNCiAgICAgICAgICAgIGJ1dHRvbi5kYXRhc2V0LmJ1dHRvbklkID0gYnV0dG9uRGF0YS5pZDsNCiAgICAgICAgICAgIGJ1dHRvbi5kYXRhc2V0LmNvbHVtbnMgPSBKU09OLnN0cmluZ2lmeShidXR0b25EYXRhLmNvbHVtbnMpOw0KICAgICAgICAgICAgYnV0dG9uLnRpdGxlID0gYNCf0L7QutCw0LfQsNGC0Ywg0YHRgtC+0LvQsdGG0Ys6ICR7YnV0dG9uRGF0YS5jb2x1bW5zLmpvaW4oJywgJyl9YDsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgY29uc3QgYnV0dG9uVGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTsNCiAgICAgICAgICAgIGJ1dHRvblRleHQuY2xhc3NOYW1lID0gJ2J1dHRvbi10ZXh0JzsNCiAgICAgICAgICAgIGJ1dHRvblRleHQudGV4dENvbnRlbnQgPSBidXR0b25EYXRhLm5hbWU7DQogICAgICAgICAgICANCiAgICAgICAgICAgIGJ1dHRvbi5hcHBlbmRDaGlsZChidXR0b25UZXh0KTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgaWYgKGN1cnJlbnRVc2VyICYmIGN1cnJlbnRVc2VyLnJvbGUgPT09ICdhZG1pbicpIHsNCiAgICAgICAgICAgICAgICBjb25zdCBhY3Rpb25zQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7DQogICAgICAgICAgICAgICAgYWN0aW9uc0NvbnRhaW5lci5jbGFzc05hbWUgPSAnYnV0dG9uLWFjdGlvbnMnOw0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIGNvbnN0IGVkaXRCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTsNCiAgICAgICAgICAgICAgICBlZGl0QnRuLmNsYXNzTmFtZSA9ICdidG4tZWRpdC1zbWFsbCc7DQogICAgICAgICAgICAgICAgZWRpdEJ0bi5pbm5lckhUTUwgPSAn4pyOJzsNCiAgICAgICAgICAgICAgICBlZGl0QnRuLnRpdGxlID0gJ9Cg0LXQtNCw0LrRgtC40YDQvtCy0LDRgtGMINC60L3QvtC/0LrRgyc7DQogICAgICAgICAgICAgICAgZWRpdEJ0bi5vbmNsaWNrID0gKGUpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsNCiAgICAgICAgICAgICAgICAgICAgZWRpdEJ1dHRvbihidXR0b25EYXRhLmlkKTsNCiAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIGNvbnN0IGRlbGV0ZUJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpOw0KICAgICAgICAgICAgICAgIGRlbGV0ZUJ0bi5jbGFzc05hbWUgPSAnYnRuLWRhbmdlci1zbWFsbCc7DQogICAgICAgICAgICAgICAgZGVsZXRlQnRuLmlubmVySFRNTCA9ICfDlyc7DQogICAgICAgICAgICAgICAgZGVsZXRlQnRuLnRpdGxlID0gJ9Cj0LTQsNC70LjRgtGMINC60L3QvtC/0LrRgyc7DQogICAgICAgICAgICAgICAgZGVsZXRlQnRuLm9uY2xpY2sgPSAoZSkgPT4gew0KICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOw0KICAgICAgICAgICAgICAgICAgICBkZWxldGVCdXR0b24oYnV0dG9uRGF0YS5pZCk7DQogICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICBhY3Rpb25zQ29udGFpbmVyLmFwcGVuZENoaWxkKGVkaXRCdG4pOw0KICAgICAgICAgICAgICAgIGFjdGlvbnNDb250YWluZXIuYXBwZW5kQ2hpbGQoZGVsZXRlQnRuKTsNCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICBidXR0b25XcmFwcGVyLmFwcGVuZENoaWxkKGJ1dHRvbik7DQogICAgICAgICAgICAgICAgYnV0dG9uV3JhcHBlci5hcHBlbmRDaGlsZChhY3Rpb25zQ29udGFpbmVyKTsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgYnV0dG9uV3JhcHBlci5hcHBlbmRDaGlsZChidXR0b24pOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgDQogICAgICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihlKSB7DQogICAgICAgICAgICAgICAgaWYgKCFlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2J0bi1lZGl0LXNtYWxsJykgJiYgIWUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnYnRuLWRhbmdlci1zbWFsbCcpKSB7DQogICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbHVtbnMgPSBKU09OLnBhcnNlKHRoaXMuZGF0YXNldC5jb2x1bW5zKTsNCiAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgIGNvbnN0IGFsbENlbGxzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnI2RhdGEtdGFibGUgdGgsICNkYXRhLXRhYmxlIHRkJyk7DQogICAgICAgICAgICAgICAgICAgIGFsbENlbGxzLmZvckVhY2goY2VsbCA9PiBjZWxsLnN0eWxlLmRpc3BsYXkgPSAnbm9uZScpOw0KICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcHBTZXR0aW5ncy5maXhlZENvbHVtbnNDb3VudDsgaSsrKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBoZWFkZXJDZWxscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYCNkYXRhLXRhYmxlIHRoOm50aC1jaGlsZCgke2kgKyAxfSlgKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGFDZWxscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYCNkYXRhLXRhYmxlIHRkOm50aC1jaGlsZCgke2kgKyAxfSlgKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyQ2VsbHMuZm9yRWFjaChjZWxsID0+IGNlbGwuc3R5bGUuZGlzcGxheSA9ICcnKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFDZWxscy5mb3JFYWNoKGNlbGwgPT4gY2VsbC5zdHlsZS5kaXNwbGF5ID0gJycpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICBjb2x1bW5zLmZvckVhY2goY29sTmFtZSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXN0b21IZWFkZXJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgdGhbZGF0YS1jb2x1bW4tbmFtZT0iJHtjb2xOYW1lfSJdYCk7DQogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXN0b21DZWxscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYHRkW2RhdGEtY29sdW1uLW5hbWU9IiR7Y29sTmFtZX0iXWApOw0KICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgICAgICBjdXN0b21IZWFkZXJzLmZvckVhY2goY2VsbCA9PiBjZWxsLnN0eWxlLmRpc3BsYXkgPSAnJyk7DQogICAgICAgICAgICAgICAgICAgICAgICBjdXN0b21DZWxscy5mb3JFYWNoKGNlbGwgPT4gY2VsbC5zdHlsZS5kaXNwbGF5ID0gJycpOw0KICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgIC8vINCf0JXQoNCV0J/QoNCe0JLQldCg0K/QldCcINCU0JDQotCrINCf0J7QodCb0JUg0J7QotCe0JHQoNCQ0JbQldCd0JjQryDQodCi0J7Qm9CR0KbQntCSDQogICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tBbGxEYXRlcygpOw0KICAgICAgICAgICAgICAgICAgICB9LCAxMDApOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY3VzdG9tLWJ1dHRvbnMnKS5hcHBlbmRDaGlsZChidXR0b25XcmFwcGVyKTsNCiAgICAgICAgfQ0KDQogICAgICAgIGZ1bmN0aW9uIGVkaXRCdXR0b24oYnV0dG9uSWQpIHsNCiAgICAgICAgICAgIGNvbnN0IGJ1dHRvbiA9IGN1c3RvbUJ1dHRvbnMuZmluZChiID0+IGIuaWQgPT09IGJ1dHRvbklkKTsNCiAgICAgICAgICAgIGlmICghYnV0dG9uKSByZXR1cm47DQogICAgICAgICAgICANCiAgICAgICAgICAgIGNvbnN0IG5ld05hbWUgPSBwcm9tcHQoJ9CS0LLQtdC00LjRgtC1INC90L7QstC+0LUg0L3QsNC30LLQsNC90LjQtSDQutC90L7Qv9C60Lg6JywgYnV0dG9uLm5hbWUpOw0KICAgICAgICAgICAgaWYgKG5ld05hbWUgJiYgbmV3TmFtZS50cmltKCkgIT09ICcnKSB7DQogICAgICAgICAgICAgICAgYnV0dG9uLm5hbWUgPSBuZXdOYW1lLnRyaW0oKTsNCiAgICAgICAgICAgICAgICBzdG9yYWdlTWFuYWdlci5zYXZlVG9Mb2NhbFN0b3JhZ2UodGFibGVEYXRhLCB1c2VycywgYXBwU2V0dGluZ3MsIGN1c3RvbUJ1dHRvbnMsIGN1c3RvbUNvbHVtbnMsIGJhc2ljQ29sdW1ucywgZGF0ZVZhbGlkYXRpb25Db2x1bW5zLCB0YWJzKTsNCiAgICAgICAgICAgICAgICBhdXRvU3luY0NoYW5nZXMoKTsNCiAgICAgICAgICAgICAgICBsb2FkQ3VzdG9tQnV0dG9ucygpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgZnVuY3Rpb24gZGVsZXRlQnV0dG9uKGJ1dHRvbklkKSB7DQogICAgICAgICAgICBpZiAoIWNvbmZpcm0oJ9Cj0LTQsNC70LjRgtGMINGN0YLRgyDQutC90L7Qv9C60YMg0Lgg0YHQstGP0LfQsNC90L3Ri9C1INGBINC90LXQuSDRgdGC0L7Qu9Cx0YbRiz8nKSkgcmV0dXJuOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBjb25zdCBidXR0b24gPSBjdXN0b21CdXR0b25zLmZpbmQoYiA9PiBiLmlkID09PSBidXR0b25JZCk7DQogICAgICAgICAgICBpZiAoIWJ1dHRvbikgcmV0dXJuOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBjdXN0b21CdXR0b25zID0gY3VzdG9tQnV0dG9ucy5maWx0ZXIoYiA9PiBiLmlkICE9PSBidXR0b25JZCk7DQogICAgICAgICAgICBzdG9yYWdlTWFuYWdlci5zYXZlVG9Mb2NhbFN0b3JhZ2UodGFibGVEYXRhLCB1c2VycywgYXBwU2V0dGluZ3MsIGN1c3RvbUJ1dHRvbnMsIGN1c3RvbUNvbHVtbnMsIGJhc2ljQ29sdW1ucywgZGF0ZVZhbGlkYXRpb25Db2x1bW5zLCB0YWJzKTsNCiAgICAgICAgICAgIGF1dG9TeW5jQ2hhbmdlcygpOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBidXR0b24uY29sdW1ucy5mb3JFYWNoKGNvbE5hbWUgPT4gew0KICAgICAgICAgICAgICAgIGN1c3RvbUNvbHVtbnMgPSBjdXN0b21Db2x1bW5zLmZpbHRlcihjb2wgPT4gY29sLm5hbWUgIT09IGNvbE5hbWUpOw0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIHRhYmxlRGF0YS5mb3JFYWNoKHJvdyA9PiB7DQogICAgICAgICAgICAgICAgICAgIGlmIChyb3cuY3VzdG9tRGF0YSAmJiByb3cuY3VzdG9tRGF0YVtjb2xOYW1lXSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHJvdy5jdXN0b21EYXRhW2NvbE5hbWVdOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGlmIChyb3cuYXR0YWNobWVudHMgJiYgcm93LmF0dGFjaG1lbnRzW2NvbE5hbWVdKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgcm93LmF0dGFjaG1lbnRzW2NvbE5hbWVdOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgc3RvcmFnZU1hbmFnZXIuc2F2ZVRvTG9jYWxTdG9yYWdlKHRhYmxlRGF0YSwgdXNlcnMsIGFwcFNldHRpbmdzLCBjdXN0b21CdXR0b25zLCBjdXN0b21Db2x1bW5zLCBiYXNpY0NvbHVtbnMsIGRhdGVWYWxpZGF0aW9uQ29sdW1ucywgdGFicyk7DQogICAgICAgICAgICBhdXRvU3luY0NoYW5nZXMoKTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgbG9hZEN1c3RvbUJ1dHRvbnMoKTsNCiAgICAgICAgICAgIHJlbmRlclRhYmxlKCk7DQogICAgICAgIH0NCg0KICAgICAgICBmdW5jdGlvbiBsb2FkQ3VzdG9tQnV0dG9ucygpIHsNCiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjdXN0b20tYnV0dG9ucycpLmlubmVySFRNTCA9ICcnOw0KICAgICAgICAgICAgY3VzdG9tQnV0dG9ucy5mb3JFYWNoKGJ1dHRvbiA9PiB7DQogICAgICAgICAgICAgICAgY3JlYXRlQ3VzdG9tQnV0dG9uKGJ1dHRvbik7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgfQ0KDQogICAgICAgIC8vINCk0KPQndCa0KbQmNCYINCU0JvQryDQoNCQ0JHQntCi0Ksg0KEg0JTQkNCi0JDQnNCYDQogICAgICAgIGZ1bmN0aW9uIGlzVmFsaWREYXRlKGRhdGVTdHJpbmcpIHsNCiAgICAgICAgICAgIGNvbnN0IHJlZ2V4ID0gL15cZHsyfVwuXGR7Mn1cLlxkezR9JC87DQogICAgICAgICAgICBpZiAoIXJlZ2V4LnRlc3QoZGF0ZVN0cmluZykpIHJldHVybiBmYWxzZTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgY29uc3QgcGFydHMgPSBkYXRlU3RyaW5nLnNwbGl0KCcuJyk7DQogICAgICAgICAgICBjb25zdCBkYXkgPSBwYXJzZUludChwYXJ0c1swXSwgMTApOw0KICAgICAgICAgICAgY29uc3QgbW9udGggPSBwYXJzZUludChwYXJ0c1sxXSwgMTApIC0gMTsNCiAgICAgICAgICAgIGNvbnN0IHllYXIgPSBwYXJzZUludChwYXJ0c1syXSwgMTApOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoeWVhciwgbW9udGgsIGRheSk7DQogICAgICAgICAgICByZXR1cm4gZGF0ZS5nZXREYXRlKCkgPT09IGRheSAmJiBkYXRlLmdldE1vbnRoKCkgPT09IG1vbnRoICYmIGRhdGUuZ2V0RnVsbFllYXIoKSA9PT0geWVhcjsNCiAgICAgICAgfQ0KDQogICAgICAgIGZ1bmN0aW9uIHBhcnNlRGF0ZShkYXRlU3RyaW5nKSB7DQogICAgICAgICAgICBpZiAoIWRhdGVTdHJpbmcpIHJldHVybiBuZXcgRGF0ZSgpOw0KICAgICAgICAgICAgY29uc3QgcmVnZXggPSAvXlxkezJ9XC5cZHsyfVwuXGR7NH0kLzsNCiAgICAgICAgICAgIGlmICghcmVnZXgudGVzdChkYXRlU3RyaW5nKSkgcmV0dXJuIG5ldyBEYXRlKCk7DQogICAgICAgICAgICANCiAgICAgICAgICAgIGNvbnN0IHBhcnRzID0gZGF0ZVN0cmluZy5zcGxpdCgnLicpOw0KICAgICAgICAgICAgY29uc3QgZGF5ID0gcGFyc2VJbnQocGFydHNbMF0sIDEwKTsNCiAgICAgICAgICAgIGNvbnN0IG1vbnRoID0gcGFyc2VJbnQocGFydHNbMV0sIDEwKSAtIDE7DQogICAgICAgICAgICBjb25zdCB5ZWFyID0gcGFyc2VJbnQocGFydHNbMl0sIDEwKTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKHllYXIsIG1vbnRoLCBkYXkpOw0KICAgICAgICB9DQoNCiAgICAgICAgZnVuY3Rpb24gZm9ybWF0RGF0ZShkYXRlKSB7DQogICAgICAgICAgICBjb25zdCBkYXkgPSBTdHJpbmcoZGF0ZS5nZXREYXRlKCkpLnBhZFN0YXJ0KDIsICcwJyk7DQogICAgICAgICAgICBjb25zdCBtb250aCA9IFN0cmluZyhkYXRlLmdldE1vbnRoKCkgKyAxKS5wYWRTdGFydCgyLCAnMCcpOw0KICAgICAgICAgICAgY29uc3QgeWVhciA9IGRhdGUuZ2V0RnVsbFllYXIoKTsNCiAgICAgICAgICAgIHJldHVybiBgJHtkYXl9LiR7bW9udGh9LiR7eWVhcn1gOw0KICAgICAgICB9DQoNCiAgICAgICAgZnVuY3Rpb24gb3BlbkRhdGVQaWNrZXIoY2VsbCwgY3VycmVudFZhbHVlKSB7DQogICAgICAgICAgICBjbG9zZURhdGVQaWNrZXIoKTsNCiAgICAgICAgICAgIGNsb3NlRGF0ZUlucHV0KCk7DQogICAgICAgICAgICANCiAgICAgICAgICAgIGNvbnN0IGRhdGVQaWNrZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsNCiAgICAgICAgICAgIGRhdGVQaWNrZXIuY2xhc3NOYW1lID0gJ2RhdGUtcGlja2VyJzsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpOw0KICAgICAgICAgICAgbGV0IGN1cnJlbnREYXRlID0gdG9kYXk7DQogICAgICAgICAgICBpZiAoY3VycmVudFZhbHVlICYmIGlzVmFsaWREYXRlKGN1cnJlbnRWYWx1ZSkpIHsNCiAgICAgICAgICAgICAgICBjdXJyZW50RGF0ZSA9IHBhcnNlRGF0ZShjdXJyZW50VmFsdWUpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgDQogICAgICAgICAgICBjb25zdCBjZWxsUmVjdCA9IGNlbGwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7DQogICAgICAgICAgICBkYXRlUGlja2VyLnN0eWxlLnBvc2l0aW9uID0gJ2ZpeGVkJzsNCiAgICAgICAgICAgIGRhdGVQaWNrZXIuc3R5bGUubGVmdCA9IGNlbGxSZWN0LmxlZnQgKyAncHgnOw0KICAgICAgICAgICAgZGF0ZVBpY2tlci5zdHlsZS50b3AgPSAoY2VsbFJlY3QuYm90dG9tICsgNSkgKyAncHgnOw0KICAgICAgICAgICAgZGF0ZVBpY2tlci5zdHlsZS56SW5kZXggPSAnMTAwMDAnOw0KICAgICAgICAgICAgDQogICAgICAgICAgICByZW5kZXJEYXRlUGlja2VyKGRhdGVQaWNrZXIsIGN1cnJlbnREYXRlLCBjZWxsKTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkYXRlUGlja2VyKTsNCiAgICAgICAgICAgIGN1cnJlbnREYXRlUGlja2VyID0geyBlbGVtZW50OiBkYXRlUGlja2VyLCBjZWxsOiBjZWxsIH07DQogICAgICAgIH0NCg0KICAgICAgICBmdW5jdGlvbiByZW5kZXJEYXRlUGlja2VyKGNvbnRhaW5lciwgZGF0ZSwgY2VsbCkgew0KICAgICAgICAgICAgY29uc3QgbW9udGhOYW1lcyA9IFsn0K/QvdCy0LDRgNGMJywgJ9Ck0LXQstGA0LDQu9GMJywgJ9Cc0LDRgNGCJywgJ9CQ0L/RgNC10LvRjCcsICfQnNCw0LknLCAn0JjRjtC90YwnLCAn0JjRjtC70YwnLCAn0JDQstCz0YPRgdGCJywgJ9Ch0LXQvdGC0Y/QsdGA0YwnLCAn0J7QutGC0Y/QsdGA0YwnLCAn0J3QvtGP0LHRgNGMJywgJ9CU0LXQutCw0LHRgNGMJ107DQogICAgICAgICAgICBjb25zdCBkYXlOYW1lcyA9IFsn0J/QvScsICfQktGCJywgJ9Ch0YAnLCAn0KfRgicsICfQn9GCJywgJ9Ch0LEnLCAn0JLRgSddOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBjb25zdCBjdXJyZW50TW9udGggPSBkYXRlLmdldE1vbnRoKCk7DQogICAgICAgICAgICBjb25zdCBjdXJyZW50WWVhciA9IGRhdGUuZ2V0RnVsbFllYXIoKTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgY29uc3QgZmlyc3REYXkgPSBuZXcgRGF0ZShjdXJyZW50WWVhciwgY3VycmVudE1vbnRoLCAxKTsNCiAgICAgICAgICAgIGNvbnN0IGxhc3REYXkgPSBuZXcgRGF0ZShjdXJyZW50WWVhciwgY3VycmVudE1vbnRoICsgMSwgMCk7DQogICAgICAgICAgICANCiAgICAgICAgICAgIGxldCBodG1sID0gYA0KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImRhdGUtcGlja2VyLWhlYWRlciI+DQogICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9Im1vbnRoLW5hdi1idG4iIGRhdGEtb2Zmc2V0PSItMSI+4oC5PC9idXR0b24+DQogICAgICAgICAgICAgICAgICAgIDxzdHJvbmc+JHttb250aE5hbWVzW2N1cnJlbnRNb250aF19ICR7Y3VycmVudFllYXJ9PC9zdHJvbmc+DQogICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9Im1vbnRoLW5hdi1idG4iIGRhdGEtb2Zmc2V0PSIxIj7igLo8L2J1dHRvbj4NCiAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJkYXRlLXBpY2tlci1ncmlkIj4NCiAgICAgICAgICAgIGA7DQogICAgICAgICAgICANCiAgICAgICAgICAgIGRheU5hbWVzLmZvckVhY2goZGF5ID0+IHsNCiAgICAgICAgICAgICAgICBodG1sICs9IGA8ZGl2IHN0eWxlPSJ0ZXh0LWFsaWduOiBjZW50ZXI7IGZvbnQtd2VpZ2h0OiBib2xkOyBwYWRkaW5nOiA1cHg7Ij4ke2RheX08L2Rpdj5gOw0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICANCiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgKGZpcnN0RGF5LmdldERheSgpICsgNikgJSA3OyBpKyspIHsNCiAgICAgICAgICAgICAgICBodG1sICs9ICc8ZGl2PjwvZGl2Pic7DQogICAgICAgICAgICB9DQogICAgICAgICAgICANCiAgICAgICAgICAgIGZvciAobGV0IGRheSA9IDE7IGRheSA8PSBsYXN0RGF5LmdldERhdGUoKTsgZGF5KyspIHsNCiAgICAgICAgICAgICAgICBjb25zdCBkYXRlU3RyID0gZm9ybWF0RGF0ZShuZXcgRGF0ZShjdXJyZW50WWVhciwgY3VycmVudE1vbnRoLCBkYXkpKTsNCiAgICAgICAgICAgICAgICBjb25zdCBpc1RvZGF5ID0gZGF5ID09PSBuZXcgRGF0ZSgpLmdldERhdGUoKSAmJiBjdXJyZW50TW9udGggPT09IG5ldyBEYXRlKCkuZ2V0TW9udGgoKSAmJiBjdXJyZW50WWVhciA9PT0gbmV3IERhdGUoKS5nZXRGdWxsWWVhcigpOw0KICAgICAgICAgICAgICAgIGNvbnN0IGNlbGxUZXh0ID0gY2VsbC5xdWVyeVNlbGVjdG9yKCcuY2VsbC10ZXh0Jyk7DQogICAgICAgICAgICAgICAgY29uc3QgaXNTZWxlY3RlZCA9IGNlbGxUZXh0ICYmIGRhdGVTdHIgPT09IGNlbGxUZXh0LnRleHRDb250ZW50Ow0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIGh0bWwgKz0gYA0KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJkYXRlLXBpY2tlci1kYXkgJHtpc1RvZGF5ID8gJ3RvZGF5JyA6ICcnfSAke2lzU2VsZWN0ZWQgPyAnc2VsZWN0ZWQnIDogJyd9IiANCiAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLWRhdGU9IiR7ZGF0ZVN0cn0iPg0KICAgICAgICAgICAgICAgICAgICAgICAgJHtkYXl9DQogICAgICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgIGA7DQogICAgICAgICAgICB9DQogICAgICAgICAgICANCiAgICAgICAgICAgIGh0bWwgKz0gJzwvZGl2Pic7DQogICAgICAgICAgICBjb250YWluZXIuaW5uZXJIVE1MID0gaHRtbDsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy5tb250aC1uYXYtYnRuJykuZm9yRWFjaChidG4gPT4gew0KICAgICAgICAgICAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGUpIHsNCiAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsNCiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gcGFyc2VJbnQodGhpcy5kYXRhc2V0Lm9mZnNldCk7DQogICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0RhdGUgPSBuZXcgRGF0ZShjdXJyZW50WWVhciwgY3VycmVudE1vbnRoICsgb2Zmc2V0LCAxKTsNCiAgICAgICAgICAgICAgICAgICAgcmVuZGVyRGF0ZVBpY2tlcihjb250YWluZXIsIG5ld0RhdGUsIGNlbGwpOw0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICANCiAgICAgICAgICAgIGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCcuZGF0ZS1waWNrZXItZGF5JykuZm9yRWFjaChkYXlFbCA9PiB7DQogICAgICAgICAgICAgICAgZGF5RWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihlKSB7DQogICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7DQogICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGVTdHIgPSB0aGlzLmRhdGFzZXQuZGF0ZTsNCiAgICAgICAgICAgICAgICAgICAgc2VsZWN0RGF0ZShkYXRlU3RyLCBjZWxsKTsNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICB9DQoNCiAgICAgICAgZnVuY3Rpb24gc2VsZWN0RGF0ZShkYXRlU3RyLCBjZWxsKSB7DQogICAgICAgICAgICBjb25zdCBjZWxsVGV4dCA9IGNlbGwucXVlcnlTZWxlY3RvcignLmNlbGwtdGV4dCcpOw0KICAgICAgICAgICAgY2VsbFRleHQudGV4dENvbnRlbnQgPSBkYXRlU3RyOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBjb25zdCBjb2x1bW5JZCA9IGNlbGwuZGF0YXNldC5jb2x1bW5JZDsNCiAgICAgICAgICAgIGNvbnN0IHJvd0lkID0gcGFyc2VJbnQoY2VsbC5jbG9zZXN0KCd0cicpLnF1ZXJ5U2VsZWN0b3IoJ3RkOm50aC1jaGlsZCgyKScpLnRleHRDb250ZW50KTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgY29uc3Qgcm93RGF0YSA9IHRhYmxlRGF0YS5maW5kKHJvdyA9PiByb3cuaWQgPT09IHJvd0lkKTsNCiAgICAgICAgICAgIGlmIChjdXN0b21Db2x1bW5zLmZpbmQoY29sID0+IGNvbC5pZCA9PT0gY29sdW1uSWQpKSB7DQogICAgICAgICAgICAgICAgaWYgKCFyb3dEYXRhLmN1c3RvbURhdGEpIHJvd0RhdGEuY3VzdG9tRGF0YSA9IHt9Ow0KICAgICAgICAgICAgICAgIHJvd0RhdGEuY3VzdG9tRGF0YVtjb2x1bW5JZF0gPSBkYXRlU3RyOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBzd2l0Y2goY29sdW1uSWQpIHsNCiAgICAgICAgICAgICAgICAgICAgY2FzZSAnZGF0ZSc6IHJvd0RhdGEuZGF0ZSA9IGRhdGVTdHI7IGJyZWFrOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIA0KICAgICAgICAgICAgY29uc3QgY3VycmVudFRhYiA9IHRhYnMuZmluZCh0YWIgPT4gdGFiLmlkID09PSBjdXJyZW50VGFiSWQpOw0KICAgICAgICAgICAgaWYgKGN1cnJlbnRUYWIpIHsNCiAgICAgICAgICAgICAgICBjdXJyZW50VGFiLmRhdGEgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRhYmxlRGF0YSkpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgDQogICAgICAgICAgICBzdG9yYWdlTWFuYWdlci5zYXZlVG9Mb2NhbFN0b3JhZ2UodGFibGVEYXRhLCB1c2VycywgYXBwU2V0dGluZ3MsIGN1c3RvbUJ1dHRvbnMsIGN1c3RvbUNvbHVtbnMsIGJhc2ljQ29sdW1ucywgZGF0ZVZhbGlkYXRpb25Db2x1bW5zLCB0YWJzKTsNCiAgICAgICAgICAgIGF1dG9TeW5jQ2hhbmdlcygpOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBjbG9zZURhdGVQaWNrZXIoKTsNCiAgICAgICAgICAgIHJlbmRlclRhYmxlKCk7DQogICAgICAgICAgICBjaGVja0FsbERhdGVzKCk7DQogICAgICAgIH0NCg0KICAgICAgICBmdW5jdGlvbiBvcGVuRGF0ZUlucHV0KGNlbGwsIGN1cnJlbnRWYWx1ZSkgew0KICAgICAgICAgICAgY2xvc2VEYXRlUGlja2VyKCk7DQogICAgICAgICAgICBjbG9zZURhdGVJbnB1dCgpOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBjb25zdCBvdmVybGF5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7DQogICAgICAgICAgICBvdmVybGF5LmNsYXNzTmFtZSA9ICdkYXRlLWlucHV0LW92ZXJsYXknOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7DQogICAgICAgICAgICBpbnB1dC50eXBlID0gJ3RleHQnOw0KICAgICAgICAgICAgaW5wdXQuY2xhc3NOYW1lID0gJ2RhdGUtaW5wdXQnOw0KICAgICAgICAgICAgaW5wdXQudmFsdWUgPSBjdXJyZW50VmFsdWUgfHwgJyc7DQogICAgICAgICAgICBpbnB1dC5wbGFjZWhvbGRlciA9ICfQtNC0LtC80Lwu0LPQs9Cz0LMnOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBvdmVybGF5LmFwcGVuZENoaWxkKGlucHV0KTsNCiAgICAgICAgICAgIGNlbGwuYXBwZW5kQ2hpbGQob3ZlcmxheSk7DQogICAgICAgICAgICBpbnB1dC5mb2N1cygpOw0KICAgICAgICAgICAgaW5wdXQuc2VsZWN0KCk7DQogICAgICAgICAgICANCiAgICAgICAgICAgIGN1cnJlbnREYXRlSW5wdXQgPSB7IGVsZW1lbnQ6IG92ZXJsYXksIGNlbGw6IGNlbGwsIGlucHV0OiBpbnB1dCB9Ow0KICAgICAgICAgICAgDQogICAgICAgICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZnVuY3Rpb24oZSkgew0KICAgICAgICAgICAgICAgIGlmIChlLmtleSA9PT0gJ0VudGVyJykgew0KICAgICAgICAgICAgICAgICAgICBzYXZlRGF0ZUlucHV0KCk7DQogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlLmtleSA9PT0gJ0VzY2FwZScpIHsNCiAgICAgICAgICAgICAgICAgICAgY2xvc2VEYXRlSW5wdXQoKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudERhdGVJbnB1dCAmJiBjdXJyZW50RGF0ZUlucHV0LmlucHV0ID09PSBpbnB1dCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgc2F2ZURhdGVJbnB1dCgpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSwgMTAwKTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICB9DQoNCiAgICAgICAgZnVuY3Rpb24gc2F2ZURhdGVJbnB1dCgpIHsNCiAgICAgICAgICAgIGlmICghY3VycmVudERhdGVJbnB1dCkgcmV0dXJuOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBjb25zdCBkYXRlU3RyID0gY3VycmVudERhdGVJbnB1dC5pbnB1dC52YWx1ZTsNCiAgICAgICAgICAgIGNvbnN0IGNlbGwgPSBjdXJyZW50RGF0ZUlucHV0LmNlbGw7DQogICAgICAgICAgICANCiAgICAgICAgICAgIGlmIChkYXRlU3RyICYmIGlzVmFsaWREYXRlKGRhdGVTdHIpKSB7DQogICAgICAgICAgICAgICAgY29uc3QgY2VsbFRleHQgPSBjZWxsLnF1ZXJ5U2VsZWN0b3IoJy5jZWxsLXRleHQnKTsNCiAgICAgICAgICAgICAgICBjZWxsVGV4dC50ZXh0Q29udGVudCA9IGRhdGVTdHI7DQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgY29uc3QgY29sdW1uSWQgPSBjZWxsLmRhdGFzZXQuY29sdW1uSWQ7DQogICAgICAgICAgICAgICAgY29uc3Qgcm93SWQgPSBwYXJzZUludChjZWxsLmNsb3Nlc3QoJ3RyJykucXVlcnlTZWxlY3RvcigndGQ6bnRoLWNoaWxkKDIpJykudGV4dENvbnRlbnQpOw0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIGNvbnN0IHJvd0RhdGEgPSB0YWJsZURhdGEuZmluZChyb3cgPT4gcm93LmlkID09PSByb3dJZCk7DQogICAgICAgICAgICAgICAgaWYgKGN1c3RvbUNvbHVtbnMuZmluZChjb2wgPT4gY29sLmlkID09PSBjb2x1bW5JZCkpIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKCFyb3dEYXRhLmN1c3RvbURhdGEpIHJvd0RhdGEuY3VzdG9tRGF0YSA9IHt9Ow0KICAgICAgICAgICAgICAgICAgICByb3dEYXRhLmN1c3RvbURhdGFbY29sdW1uSWRdID0gZGF0ZVN0cjsNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICBzd2l0Y2goY29sdW1uSWQpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2RhdGUnOiByb3dEYXRhLmRhdGUgPSBkYXRlU3RyOyBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50VGFiID0gdGFicy5maW5kKHRhYiA9PiB0YWIuaWQgPT09IGN1cnJlbnRUYWJJZCk7DQogICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRUYWIpIHsNCiAgICAgICAgICAgICAgICAgICAgY3VycmVudFRhYi5kYXRhID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0YWJsZURhdGEpKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgc3RvcmFnZU1hbmFnZXIuc2F2ZVRvTG9jYWxTdG9yYWdlKHRhYmxlRGF0YSwgdXNlcnMsIGFwcFNldHRpbmdzLCBjdXN0b21CdXR0b25zLCBjdXN0b21Db2x1bW5zLCBiYXNpY0NvbHVtbnMsIGRhdGVWYWxpZGF0aW9uQ29sdW1ucywgdGFicyk7DQogICAgICAgICAgICAgICAgYXV0b1N5bmNDaGFuZ2VzKCk7DQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgcmVuZGVyVGFibGUoKTsNCiAgICAgICAgICAgICAgICBjaGVja0FsbERhdGVzKCk7DQogICAgICAgICAgICB9IGVsc2UgaWYgKGRhdGVTdHIpIHsNCiAgICAgICAgICAgICAgICBhbGVydCgn0J3QtdCy0LXRgNC90YvQuSDRhNC+0YDQvNCw0YIg0LTQsNGC0YshINCY0YHQv9C+0LvRjNC30YPQudGC0LUg0YTQvtGA0LzQsNGCINC00LQu0LzQvC7Qs9Cz0LPQsycpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgDQogICAgICAgICAgICBjbG9zZURhdGVJbnB1dCgpOw0KICAgICAgICB9DQoNCiAgICAgICAgZnVuY3Rpb24gY2xvc2VEYXRlSW5wdXQoKSB7DQogICAgICAgICAgICBpZiAoY3VycmVudERhdGVJbnB1dCkgew0KICAgICAgICAgICAgICAgIGN1cnJlbnREYXRlSW5wdXQuZWxlbWVudC5yZW1vdmUoKTsNCiAgICAgICAgICAgICAgICBjdXJyZW50RGF0ZUlucHV0ID0gbnVsbDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIGZ1bmN0aW9uIGNsb3NlRGF0ZVBpY2tlcigpIHsNCiAgICAgICAgICAgIGlmIChjdXJyZW50RGF0ZVBpY2tlcikgew0KICAgICAgICAgICAgICAgIGN1cnJlbnREYXRlUGlja2VyLmVsZW1lbnQucmVtb3ZlKCk7DQogICAgICAgICAgICAgICAgY3VycmVudERhdGVQaWNrZXIgPSBudWxsOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgZnVuY3Rpb24gY2hlY2tBbGxEYXRlcygpIHsNCiAgICAgICAgICAgIGNvbnN0IGV4cGlyZWREYXRlcyA9IFtdOw0KICAgICAgICAgICAgY29uc3QgdXBjb21pbmdEYXRlcyA9IFtdOw0KICAgICAgICAgICAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpOw0KICAgICAgICAgICAgdG9kYXkuc2V0SG91cnMoMCwgMCwgMCwgMCk7DQogICAgICAgICAgICANCiAgICAgICAgICAgIHRhYmxlRGF0YS5mb3JFYWNoKHJvdyA9PiB7DQogICAgICAgICAgICAgICAgYmFzaWNDb2x1bW5zLmZvckVhY2goY29sdW1uID0+IHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGVWYWxpZGF0aW9uQ29sdW1uc1tjb2x1bW4uaWRdICYmIHJvd1tjb2x1bW4uaWRdKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBjaGVja0RhdGVDZWxsKHJvdywgY29sdW1uLmlkLCBjb2x1bW4ubmFtZSwgdG9kYXksIGV4cGlyZWREYXRlcywgdXBjb21pbmdEYXRlcyk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICBjdXN0b21Db2x1bW5zLmZvckVhY2goY29sdW1uID0+IHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGVWYWxpZGF0aW9uQ29sdW1uc1tjb2x1bW4uaWRdICYmIHJvdy5jdXN0b21EYXRhICYmIHJvdy5jdXN0b21EYXRhW2NvbHVtbi5pZF0pIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrRGF0ZUNlbGwocm93LCBjb2x1bW4uaWQsIGNvbHVtbi5uYW1lLCB0b2RheSwgZXhwaXJlZERhdGVzLCB1cGNvbWluZ0RhdGVzKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICANCiAgICAgICAgICAgIHNob3dEYXRlTm90aWZpY2F0aW9ucyhleHBpcmVkRGF0ZXMsIHVwY29taW5nRGF0ZXMpOw0KICAgICAgICAgICAgcmVuZGVyVGFibGUoKTsNCiAgICAgICAgfQ0KDQogICAgICAgIGZ1bmN0aW9uIGNoZWNrRGF0ZUNlbGwocm93LCBjb2x1bW5JZCwgY29sdW1uTmFtZSwgdG9kYXksIGV4cGlyZWREYXRlcywgdXBjb21pbmdEYXRlcykgew0KICAgICAgICAgICAgbGV0IGRhdGVWYWx1ZTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgaWYgKGN1c3RvbUNvbHVtbnMuZmluZChjb2wgPT4gY29sLmlkID09PSBjb2x1bW5JZCkpIHsNCiAgICAgICAgICAgICAgICBkYXRlVmFsdWUgPSByb3cuY3VzdG9tRGF0YVtjb2x1bW5JZF07DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIGRhdGVWYWx1ZSA9IHJvd1tjb2x1bW5JZF07DQogICAgICAgICAgICB9DQogICAgICAgICAgICANCiAgICAgICAgICAgIGlmIChpc1ZhbGlkRGF0ZShkYXRlVmFsdWUpKSB7DQogICAgICAgICAgICAgICAgY29uc3QgY2VsbERhdGUgPSBwYXJzZURhdGUoZGF0ZVZhbHVlKTsNCiAgICAgICAgICAgICAgICBjb25zdCB0aW1lRGlmZiA9IGNlbGxEYXRlLmdldFRpbWUoKSAtIHRvZGF5LmdldFRpbWUoKTsNCiAgICAgICAgICAgICAgICBjb25zdCBkYXlzRGlmZiA9IE1hdGguY2VpbCh0aW1lRGlmZiAvICgxMDAwICogMzYwMCAqIDI0KSk7DQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgaWYgKGRheXNEaWZmIDwgMCkgew0KICAgICAgICAgICAgICAgICAgICBleHBpcmVkRGF0ZXMucHVzaCh7DQogICAgICAgICAgICAgICAgICAgICAgICBkYXRlOiBkYXRlVmFsdWUsDQogICAgICAgICAgICAgICAgICAgICAgICBjb2x1bW5OYW1lOiBjb2x1bW5OYW1lLA0KICAgICAgICAgICAgICAgICAgICAgICAgcm93TmFtZTogcm93Lm5hbWUgfHwgJycsDQogICAgICAgICAgICAgICAgICAgICAgICByb3dTdGF0dXM6IHJvdy5zdGF0dXMgfHwgJycsDQogICAgICAgICAgICAgICAgICAgICAgICBkYXlzT3ZlcmR1ZTogTWF0aC5hYnMoZGF5c0RpZmYpDQogICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF5c0RpZmYgPD0gMzApIHsNCiAgICAgICAgICAgICAgICAgICAgdXBjb21pbmdEYXRlcy5wdXNoKHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGU6IGRhdGVWYWx1ZSwNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbk5hbWU6IGNvbHVtbk5hbWUsDQogICAgICAgICAgICAgICAgICAgICAgICByb3dOYW1lOiByb3cubmFtZSB8fCAnJywNCiAgICAgICAgICAgICAgICAgICAgICAgIHJvd1N0YXR1czogcm93LnN0YXR1cyB8fCAnJywNCiAgICAgICAgICAgICAgICAgICAgICAgIGRheXNMZWZ0OiBkYXlzRGlmZg0KICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICBmdW5jdGlvbiBzaG93RGF0ZU5vdGlmaWNhdGlvbnMoZXhwaXJlZERhdGVzLCB1cGNvbWluZ0RhdGVzKSB7DQogICAgICAgICAgICBjb25zdCBvbGROb3RpZmljYXRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubm90aWZpY2F0aW9uLXBhbmVsJyk7DQogICAgICAgICAgICBpZiAob2xkTm90aWZpY2F0aW9uKSB7DQogICAgICAgICAgICAgICAgb2xkTm90aWZpY2F0aW9uLnJlbW92ZSgpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgDQogICAgICAgICAgICBpZiAoZXhwaXJlZERhdGVzLmxlbmd0aCA9PT0gMCAmJiB1cGNvbWluZ0RhdGVzLmxlbmd0aCA9PT0gMCkgew0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIA0KICAgICAgICAgICAgY29uc3Qgbm90aWZpY2F0aW9uUGFuZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsNCiAgICAgICAgICAgIG5vdGlmaWNhdGlvblBhbmVsLmNsYXNzTmFtZSA9ICdub3RpZmljYXRpb24tcGFuZWwnOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBsZXQgbm90aWZpY2F0aW9uSFRNTCA9IGANCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJub3RpZmljYXRpb24taGVhZGVyIj4NCiAgICAgICAgICAgICAgICAgICAgPGg0PvCflJQg0J/RgNC+0LLQtdGA0LrQsCDQtNCw0YI8L2g0Pg0KICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJjbG9zZS1ub3RpZmljYXRpb25zIj7DlzwvYnV0dG9uPg0KICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im5vdGlmaWNhdGlvbi1jb250ZW50Ij4NCiAgICAgICAgICAgIGA7DQogICAgICAgICAgICANCiAgICAgICAgICAgIGlmIChleHBpcmVkRGF0ZXMubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgICAgIG5vdGlmaWNhdGlvbkhUTUwgKz0gYDxoNSBzdHlsZT0iY29sb3I6ICNlNjdlMjI7IG1hcmdpbi1ib3R0b206IDEwcHg7Ij7Qn9GA0L7RgdGA0L7Rh9C10L3QvdGL0LUg0LTQsNGC0YsgKCR7ZXhwaXJlZERhdGVzLmxlbmd0aH0pOjwvaDU+YDsNCiAgICAgICAgICAgICAgICBleHBpcmVkRGF0ZXMuZm9yRWFjaChpdGVtID0+IHsNCiAgICAgICAgICAgICAgICAgICAgbm90aWZpY2F0aW9uSFRNTCArPSBgDQogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJub3RpZmljYXRpb24taXRlbSBkYW5nZXIiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdHJvbmc+JHtpdGVtLmRhdGV9PC9zdHJvbmc+IC0g0L/RgNC+0YHRgNC+0YfQtdC90L4g0L3QsCAke2l0ZW0uZGF5c092ZXJkdWV9INC00L0uPGJyPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzbWFsbD4ke2l0ZW0uY29sdW1uTmFtZX0gfCAke2l0ZW0ucm93TmFtZX0gfCAke2l0ZW0ucm93U3RhdHVzfTwvc21hbGw+DQogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICAgICAgYDsNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIA0KICAgICAgICAgICAgaWYgKHVwY29taW5nRGF0ZXMubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgICAgIG5vdGlmaWNhdGlvbkhUTUwgKz0gYDxoNSBzdHlsZT0iY29sb3I6ICNlNjdlMjI7IG1hcmdpbi1ib3R0b206IDEwcHg7IG1hcmdpbi10b3A6IDE1cHg7Ij7Qn9GA0LjQsdC70LjQttCw0Y7RidC40LXRgdGPINC00LDRgtGLICgke3VwY29taW5nRGF0ZXMubGVuZ3RofSk6PC9oNT5gOw0KICAgICAgICAgICAgICAgIHVwY29taW5nRGF0ZXMuZm9yRWFjaChpdGVtID0+IHsNCiAgICAgICAgICAgICAgICAgICAgbm90aWZpY2F0aW9uSFRNTCArPSBgDQogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJub3RpZmljYXRpb24taXRlbSB3YXJuaW5nIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Ryb25nPiR7aXRlbS5kYXRlfTwvc3Ryb25nPiAtINC+0YHRgtCw0LvQvtGB0YwgJHtpdGVtLmRheXNMZWZ0fSDQtNC9Ljxicj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c21hbGw+JHtpdGVtLmNvbHVtbk5hbWV9IHwgJHtpdGVtLnJvd05hbWV9IHwgJHtpdGVtLnJvd1N0YXR1c308L3NtYWxsPg0KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgICAgIGA7DQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICANCiAgICAgICAgICAgIG5vdGlmaWNhdGlvbkhUTUwgKz0gYDwvZGl2PmA7DQogICAgICAgICAgICBub3RpZmljYXRpb25QYW5lbC5pbm5lckhUTUwgPSBub3RpZmljYXRpb25IVE1MOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG5vdGlmaWNhdGlvblBhbmVsKTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgbm90aWZpY2F0aW9uUGFuZWwucXVlcnlTZWxlY3RvcignLmNsb3NlLW5vdGlmaWNhdGlvbnMnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgICAgIG5vdGlmaWNhdGlvblBhbmVsLnJlbW92ZSgpOw0KICAgICAgICAgICAgfSk7DQogICAgICAgIH0NCg0KICAgICAgICAvLyDQpNCj0J3QmtCm0JjQmCDQodCe0KDQotCY0KDQntCS0JrQmA0KICAgICAgICBmdW5jdGlvbiBoYW5kbGVTb3J0KGNvbHVtbklkKSB7DQogICAgICAgICAgICBpZiAoY3VycmVudFNvcnQuY29sdW1uID09PSBjb2x1bW5JZCkgew0KICAgICAgICAgICAgICAgIGN1cnJlbnRTb3J0LmRpcmVjdGlvbiA9IGN1cnJlbnRTb3J0LmRpcmVjdGlvbiA9PT0gJ2FzYycgPyAnZGVzYycgOiAnYXNjJzsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgY3VycmVudFNvcnQuY29sdW1uID0gY29sdW1uSWQ7DQogICAgICAgICAgICAgICAgY3VycmVudFNvcnQuZGlyZWN0aW9uID0gJ2FzYyc7DQogICAgICAgICAgICB9DQogICAgICAgICAgICANCiAgICAgICAgICAgIHJlbmRlclRhYmxlKCk7DQogICAgICAgIH0NCg0KICAgICAgICBmdW5jdGlvbiBhcHBseVNvcnRpbmcoZGF0YSkgew0KICAgICAgICAgICAgaWYgKCFjdXJyZW50U29ydC5jb2x1bW4pIHJldHVybiBkYXRhOw0KICAgICAgICAgICAgDQogICAgICAgICAgICByZXR1cm4gWy4uLmRhdGFdLnNvcnQoKGEsIGIpID0+IHsNCiAgICAgICAgICAgICAgICBsZXQgdmFsdWVBLCB2YWx1ZUI7DQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgaWYgKGN1c3RvbUNvbHVtbnMuZmluZChjb2wgPT4gY29sLmlkID09PSBjdXJyZW50U29ydC5jb2x1bW4pKSB7DQogICAgICAgICAgICAgICAgICAgIHZhbHVlQSA9IGEuY3VzdG9tRGF0YSAmJiBhLmN1c3RvbURhdGFbY3VycmVudFNvcnQuY29sdW1uXSA/IGEuY3VzdG9tRGF0YVtjdXJyZW50U29ydC5jb2x1bW5dIDogJyc7DQogICAgICAgICAgICAgICAgICAgIHZhbHVlQiA9IGIuY3VzdG9tRGF0YSAmJiBiLmN1c3RvbURhdGFbY3VycmVudFNvcnQuY29sdW1uXSA/IGIuY3VzdG9tRGF0YVtjdXJyZW50U29ydC5jb2x1bW5dIDogJyc7DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgc3dpdGNoKGN1cnJlbnRTb3J0LmNvbHVtbikgew0KICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnaWQnOiB2YWx1ZUEgPSBhLmlkOyB2YWx1ZUIgPSBiLmlkOyBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ25hbWUnOiB2YWx1ZUEgPSBhLm5hbWUgfHwgJyc7IHZhbHVlQiA9IGIubmFtZSB8fCAnJzsgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdkYXRlJzogdmFsdWVBID0gYS5kYXRlIHx8ICcnOyB2YWx1ZUIgPSBiLmRhdGUgfHwgJyc7IGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnc3RhdHVzJzogdmFsdWVBID0gYS5zdGF0dXMgfHwgJyc7IHZhbHVlQiA9IGIuc3RhdHVzIHx8ICcnOyBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHZhbHVlQSA9ICcnOyB2YWx1ZUIgPSAnJzsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICBpZiAoY3VycmVudFNvcnQuZGlyZWN0aW9uID09PSAnYXNjJykgew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWVBIDwgdmFsdWVCID8gLTEgOiB2YWx1ZUEgPiB2YWx1ZUIgPyAxIDogMDsNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWVBID4gdmFsdWVCID8gLTEgOiB2YWx1ZUEgPCB2YWx1ZUIgPyAxIDogMDsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KTsNCiAgICAgICAgfQ0KDQogICAgICAgIC8vINCk0KPQndCa0KbQmNCYINCk0JjQm9Cs0KLQoNCQ0KbQmNCYDQogICAgICAgIGZ1bmN0aW9uIHRvZ2dsZUZpbHRlcihjb2x1bW5JZCwgZmlsdGVyQnRuLCB0aCkgew0KICAgICAgICAgICAgY2xvc2VBbGxGaWx0ZXJEcm9wZG93bnMoKTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdGaWx0ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuZmlsdGVyLWRyb3Bkb3duW2RhdGEtY29sdW1uPSIke2NvbHVtbklkfSJdYCk7DQogICAgICAgICAgICBpZiAoZXhpc3RpbmdGaWx0ZXIpIHsNCiAgICAgICAgICAgICAgICBleGlzdGluZ0ZpbHRlci5yZW1vdmUoKTsNCiAgICAgICAgICAgICAgICBmaWx0ZXJCdG4uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7DQogICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgDQogICAgICAgICAgICBjb25zdCBmaWx0ZXJEcm9wZG93biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOw0KICAgICAgICAgICAgZmlsdGVyRHJvcGRvd24uY2xhc3NOYW1lID0gJ2ZpbHRlci1kcm9wZG93bic7DQogICAgICAgICAgICBmaWx0ZXJEcm9wZG93bi5kYXRhc2V0LmNvbHVtbiA9IGNvbHVtbklkOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBjb25zdCB0aFJlY3QgPSB0aC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsNCiAgICAgICAgICAgIGZpbHRlckRyb3Bkb3duLnN0eWxlLnBvc2l0aW9uID0gJ2ZpeGVkJzsNCiAgICAgICAgICAgIGZpbHRlckRyb3Bkb3duLnN0eWxlLmxlZnQgPSB0aFJlY3QubGVmdCArICdweCc7DQogICAgICAgICAgICBmaWx0ZXJEcm9wZG93bi5zdHlsZS50b3AgPSB0aFJlY3QuYm90dG9tICsgJ3B4JzsNCiAgICAgICAgICAgIGZpbHRlckRyb3Bkb3duLnN0eWxlLnpJbmRleCA9ICcxMDAwMCc7DQogICAgICAgICAgICANCiAgICAgICAgICAgIGNvbnN0IHZpZXdwb3J0V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDsNCiAgICAgICAgICAgIGNvbnN0IGZpbHRlcldpZHRoID0gMzIwOw0KICAgICAgICAgICAgaWYgKHRoUmVjdC5sZWZ0ICsgZmlsdGVyV2lkdGggPiB2aWV3cG9ydFdpZHRoKSB7DQogICAgICAgICAgICAgICAgZmlsdGVyRHJvcGRvd24uc3R5bGUubGVmdCA9ICh2aWV3cG9ydFdpZHRoIC0gZmlsdGVyV2lkdGggLSAxMCkgKyAncHgnOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgDQogICAgICAgICAgICBjb25zdCB1bmlxdWVWYWx1ZXMgPSBnZXRVbmlxdWVWYWx1ZXNGb3JDb2x1bW4oY29sdW1uSWQpOw0KICAgICAgICAgICAgY29uc3QgdG90YWxDb3VudCA9IHVuaXF1ZVZhbHVlcy5sZW5ndGg7DQogICAgICAgICAgICBjb25zdCBzZWxlY3RlZENvdW50ID0gY3VycmVudEZpbHRlcnNbY29sdW1uSWRdID8gY3VycmVudEZpbHRlcnNbY29sdW1uSWRdLmxlbmd0aCA6IHRvdGFsQ291bnQ7DQogICAgICAgICAgICANCiAgICAgICAgICAgIGNvbnN0IGZpbHRlckhlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOw0KICAgICAgICAgICAgZmlsdGVySGVhZGVyLmNsYXNzTmFtZSA9ICdmaWx0ZXItaGVhZGVyJzsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgY29uc3QgZmlsdGVyVGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsNCiAgICAgICAgICAgIGZpbHRlclRpdGxlLmNsYXNzTmFtZSA9ICdmaWx0ZXItdGl0bGUnOw0KICAgICAgICAgICAgZmlsdGVyVGl0bGUudGV4dENvbnRlbnQgPSAn0KTQuNC70YzRgtGAJzsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgY29uc3QgZmlsdGVyQ2xvc2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTsNCiAgICAgICAgICAgIGZpbHRlckNsb3NlLmNsYXNzTmFtZSA9ICdmaWx0ZXItY2xvc2UnOw0KICAgICAgICAgICAgZmlsdGVyQ2xvc2UuaW5uZXJIVE1MID0gJ8OXJzsNCiAgICAgICAgICAgIGZpbHRlckNsb3NlLnRpdGxlID0gJ9CX0LDQutGA0YvRgtGMJzsNCiAgICAgICAgICAgIGZpbHRlckNsb3NlLm9uY2xpY2sgPSBjbG9zZUFsbEZpbHRlckRyb3Bkb3duczsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgZmlsdGVySGVhZGVyLmFwcGVuZENoaWxkKGZpbHRlclRpdGxlKTsNCiAgICAgICAgICAgIGZpbHRlckhlYWRlci5hcHBlbmRDaGlsZChmaWx0ZXJDbG9zZSk7DQogICAgICAgICAgICANCiAgICAgICAgICAgIGNvbnN0IGZpbHRlckNvdW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7DQogICAgICAgICAgICBmaWx0ZXJDb3VudC5jbGFzc05hbWUgPSAnZmlsdGVyLWNvdW50JzsNCiAgICAgICAgICAgIGZpbHRlckNvdW50LnRleHRDb250ZW50ID0gYNCS0YvQsdGA0LDQvdC+OiAke3NlbGVjdGVkQ291bnR9INC40LcgJHt0b3RhbENvdW50fWA7DQogICAgICAgICAgICANCiAgICAgICAgICAgIGNvbnN0IHNlYXJjaElucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTsNCiAgICAgICAgICAgIHNlYXJjaElucHV0LnR5cGUgPSAndGV4dCc7DQogICAgICAgICAgICBzZWFyY2hJbnB1dC5jbGFzc05hbWUgPSAnZmlsdGVyLXNlYXJjaCc7DQogICAgICAgICAgICBzZWFyY2hJbnB1dC5wbGFjZWhvbGRlciA9ICfQn9C+0LjRgdC6INCyINGE0LjQu9GM0YLRgNC1Li4uJzsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgY29uc3Qgb3B0aW9uc0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOw0KICAgICAgICAgICAgb3B0aW9uc0NvbnRhaW5lci5jbGFzc05hbWUgPSAnZmlsdGVyLW9wdGlvbnMnOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBjb25zdCBzZWxlY3RBbGxPcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsNCiAgICAgICAgICAgIHNlbGVjdEFsbE9wdGlvbi5jbGFzc05hbWUgPSAnZmlsdGVyLW9wdGlvbic7DQogICAgICAgICAgICANCiAgICAgICAgICAgIGNvbnN0IHNlbGVjdEFsbENoZWNrYm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTsNCiAgICAgICAgICAgIHNlbGVjdEFsbENoZWNrYm94LnR5cGUgPSAnY2hlY2tib3gnOw0KICAgICAgICAgICAgc2VsZWN0QWxsQ2hlY2tib3guaWQgPSAnc2VsZWN0LWFsbCc7DQogICAgICAgICAgICBzZWxlY3RBbGxDaGVja2JveC5jaGVja2VkID0gc2VsZWN0ZWRDb3VudCA9PT0gdG90YWxDb3VudDsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgY29uc3Qgc2VsZWN0QWxsTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpOw0KICAgICAgICAgICAgc2VsZWN0QWxsTGFiZWwuaHRtbEZvciA9ICdzZWxlY3QtYWxsJzsNCiAgICAgICAgICAgIHNlbGVjdEFsbExhYmVsLnRleHRDb250ZW50ID0gJyjQktGL0LHRgNCw0YLRjCDQstGB0LUpJzsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgc2VsZWN0QWxsT3B0aW9uLmFwcGVuZENoaWxkKHNlbGVjdEFsbENoZWNrYm94KTsNCiAgICAgICAgICAgIHNlbGVjdEFsbE9wdGlvbi5hcHBlbmRDaGlsZChzZWxlY3RBbGxMYWJlbCk7DQogICAgICAgICAgICBvcHRpb25zQ29udGFpbmVyLmFwcGVuZENoaWxkKHNlbGVjdEFsbE9wdGlvbik7DQogICAgICAgICAgICANCiAgICAgICAgICAgIGNvbnN0IHNlcGFyYXRvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOw0KICAgICAgICAgICAgc2VwYXJhdG9yLnN0eWxlLmhlaWdodCA9ICcxcHgnOw0KICAgICAgICAgICAgc2VwYXJhdG9yLnN0eWxlLmJhY2tncm91bmQgPSAnIzRhNGE0YSc7DQogICAgICAgICAgICBzZXBhcmF0b3Iuc3R5bGUubWFyZ2luID0gJzRweCAwJzsNCiAgICAgICAgICAgIG9wdGlvbnNDb250YWluZXIuYXBwZW5kQ2hpbGQoc2VwYXJhdG9yKTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgdW5pcXVlVmFsdWVzLmZvckVhY2godmFsdWUgPT4gew0KICAgICAgICAgICAgICAgIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOw0KICAgICAgICAgICAgICAgIG9wdGlvbi5jbGFzc05hbWUgPSAnZmlsdGVyLW9wdGlvbic7DQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgY29uc3QgY2hlY2tib3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpOw0KICAgICAgICAgICAgICAgIGNoZWNrYm94LnR5cGUgPSAnY2hlY2tib3gnOw0KICAgICAgICAgICAgICAgIGNoZWNrYm94LnZhbHVlID0gdmFsdWU7DQogICAgICAgICAgICAgICAgY2hlY2tib3guaWQgPSBgZmlsdGVyLSR7Y29sdW1uSWR9LSR7dmFsdWV9YDsNCiAgICAgICAgICAgICAgICBjaGVja2JveC5jaGVja2VkID0gIWN1cnJlbnRGaWx0ZXJzW2NvbHVtbklkXSB8fCBjdXJyZW50RmlsdGVyc1tjb2x1bW5JZF0uaW5jbHVkZXModmFsdWUpOw0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIGNvbnN0IGxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTsNCiAgICAgICAgICAgICAgICBsYWJlbC5odG1sRm9yID0gYGZpbHRlci0ke2NvbHVtbklkfS0ke3ZhbHVlfWA7DQogICAgICAgICAgICAgICAgbGFiZWwudGV4dENvbnRlbnQgPSB2YWx1ZSB8fCAnKNC/0YPRgdGC0L4pJzsNCiAgICAgICAgICAgICAgICBsYWJlbC50aXRsZSA9IHZhbHVlIHx8ICco0L/Rg9GB0YLQviknOw0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIG9wdGlvbi5hcHBlbmRDaGlsZChjaGVja2JveCk7DQogICAgICAgICAgICAgICAgb3B0aW9uLmFwcGVuZENoaWxkKGxhYmVsKTsNCiAgICAgICAgICAgICAgICBvcHRpb25zQ29udGFpbmVyLmFwcGVuZENoaWxkKG9wdGlvbik7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgY29uc3QgYWN0aW9uc0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOw0KICAgICAgICAgICAgYWN0aW9uc0NvbnRhaW5lci5jbGFzc05hbWUgPSAnZmlsdGVyLWFjdGlvbnMnOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBjb25zdCBva0J0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpOw0KICAgICAgICAgICAgb2tCdG4udGV4dENvbnRlbnQgPSAnT0snOw0KICAgICAgICAgICAgb2tCdG4uY2xhc3NOYW1lID0gJ2J0bi1wcmltYXJ5JzsNCiAgICAgICAgICAgIG9rQnRuLm9uY2xpY2sgPSAoKSA9PiBhcHBseUZpbHRlcihjb2x1bW5JZCwgZmlsdGVyRHJvcGRvd24sIGZpbHRlckJ0bik7DQogICAgICAgICAgICANCiAgICAgICAgICAgIGNvbnN0IGNhbmNlbEJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpOw0KICAgICAgICAgICAgY2FuY2VsQnRuLnRleHRDb250ZW50ID0gJ9Ce0YLQvNC10L3QsCc7DQogICAgICAgICAgICBjYW5jZWxCdG4ub25jbGljayA9IGNsb3NlQWxsRmlsdGVyRHJvcGRvd25zOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBhY3Rpb25zQ29udGFpbmVyLmFwcGVuZENoaWxkKG9rQnRuKTsNCiAgICAgICAgICAgIGFjdGlvbnNDb250YWluZXIuYXBwZW5kQ2hpbGQoY2FuY2VsQnRuKTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgZmlsdGVyRHJvcGRvd24uYXBwZW5kQ2hpbGQoZmlsdGVySGVhZGVyKTsNCiAgICAgICAgICAgIGZpbHRlckRyb3Bkb3duLmFwcGVuZENoaWxkKGZpbHRlckNvdW50KTsNCiAgICAgICAgICAgIGZpbHRlckRyb3Bkb3duLmFwcGVuZENoaWxkKHNlYXJjaElucHV0KTsNCiAgICAgICAgICAgIGZpbHRlckRyb3Bkb3duLmFwcGVuZENoaWxkKG9wdGlvbnNDb250YWluZXIpOw0KICAgICAgICAgICAgZmlsdGVyRHJvcGRvd24uYXBwZW5kQ2hpbGQoYWN0aW9uc0NvbnRhaW5lcik7DQogICAgICAgICAgICANCiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZmlsdGVyRHJvcGRvd24pOw0KICAgICAgICAgICAgZmlsdGVyQnRuLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBzZWFyY2hJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgICAgIGNvbnN0IHNlYXJjaFRlcm0gPSB0aGlzLnZhbHVlLnRvTG93ZXJDYXNlKCk7DQogICAgICAgICAgICAgICAgbGV0IHZpc2libGVDb3VudCA9IDA7DQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgQXJyYXkuZnJvbShvcHRpb25zQ29udGFpbmVyLmNoaWxkcmVuKS5mb3JFYWNoKChvcHRpb24sIGluZGV4KSA9PiB7DQogICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCA8IDIpIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgIGNvbnN0IGxhYmVsID0gb3B0aW9uLnF1ZXJ5U2VsZWN0b3IoJ2xhYmVsJyk7DQogICAgICAgICAgICAgICAgICAgIGNvbnN0IHRleHQgPSBsYWJlbC50ZXh0Q29udGVudC50b0xvd2VyQ2FzZSgpOw0KICAgICAgICAgICAgICAgICAgICBjb25zdCBpc1Zpc2libGUgPSB0ZXh0LmluY2x1ZGVzKHNlYXJjaFRlcm0pOw0KICAgICAgICAgICAgICAgICAgICBvcHRpb24uc3R5bGUuZGlzcGxheSA9IGlzVmlzaWJsZSA/ICdmbGV4JyA6ICdub25lJzsNCiAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgIGlmIChpc1Zpc2libGUpIHZpc2libGVDb3VudCsrOw0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIGZpbHRlckNvdW50LnRleHRDb250ZW50ID0gYNCd0LDQudC00LXQvdC+OiAke3Zpc2libGVDb3VudH0g0LjQtyAke3RvdGFsQ291bnR9YDsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBzZWxlY3RBbGxDaGVja2JveC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgICAgICBjb25zdCBjaGVja2JveGVzID0gb3B0aW9uc0NvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dFt0eXBlPSJjaGVja2JveCJdOm5vdCgjc2VsZWN0LWFsbCknKTsNCiAgICAgICAgICAgICAgICBjaGVja2JveGVzLmZvckVhY2goY2hlY2tib3ggPT4gew0KICAgICAgICAgICAgICAgICAgICBjaGVja2JveC5jaGVja2VkID0gdGhpcy5jaGVja2VkOw0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIGZpbHRlckNvdW50LnRleHRDb250ZW50ID0gYNCS0YvQsdGA0LDQvdC+OiAke3RoaXMuY2hlY2tlZCA/IHRvdGFsQ291bnQgOiAwfSDQuNC3ICR7dG90YWxDb3VudH1gOw0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICANCiAgICAgICAgICAgIG9wdGlvbnNDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZnVuY3Rpb24oZSkgew0KICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC50eXBlID09PSAnY2hlY2tib3gnICYmIGUudGFyZ2V0LmlkICE9PSAnc2VsZWN0LWFsbCcpIHsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hlY2tlZEJveGVzID0gb3B0aW9uc0NvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dFt0eXBlPSJjaGVja2JveCJdOm5vdCgjc2VsZWN0LWFsbCk6Y2hlY2tlZCcpOw0KICAgICAgICAgICAgICAgICAgICBzZWxlY3RBbGxDaGVja2JveC5jaGVja2VkID0gY2hlY2tlZEJveGVzLmxlbmd0aCA9PT0gKHRvdGFsQ291bnQpOw0KICAgICAgICAgICAgICAgICAgICBmaWx0ZXJDb3VudC50ZXh0Q29udGVudCA9IGDQktGL0LHRgNCw0L3QvjogJHtjaGVja2VkQm94ZXMubGVuZ3RofSDQuNC3ICR7dG90YWxDb3VudH1gOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHNlYXJjaElucHV0LmZvY3VzKCksIDEwMCk7DQogICAgICAgIH0NCg0KICAgICAgICBmdW5jdGlvbiBnZXRVbmlxdWVWYWx1ZXNGb3JDb2x1bW4oY29sdW1uSWQpIHsNCiAgICAgICAgICAgIGNvbnN0IHZhbHVlcyA9IG5ldyBTZXQoKTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgdGFibGVEYXRhLmZvckVhY2gocm93ID0+IHsNCiAgICAgICAgICAgICAgICBsZXQgdmFsdWU7DQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgaWYgKGN1c3RvbUNvbHVtbnMuZmluZChjb2wgPT4gY29sLmlkID09PSBjb2x1bW5JZCkpIHsNCiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSByb3cuY3VzdG9tRGF0YSAmJiByb3cuY3VzdG9tRGF0YVtjb2x1bW5JZF0gPyByb3cuY3VzdG9tRGF0YVtjb2x1bW5JZF0gOiAnJzsNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICBzd2l0Y2goY29sdW1uSWQpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2lkJzogdmFsdWUgPSByb3cuaWQudG9TdHJpbmcoKTsgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICduYW1lJzogdmFsdWUgPSByb3cubmFtZSB8fCAnJzsgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdkYXRlJzogdmFsdWUgPSByb3cuZGF0ZSB8fCAnJzsgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdzdGF0dXMnOiB2YWx1ZSA9IHJvdy5zdGF0dXMgfHwgJyc7IGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogdmFsdWUgPSAnJzsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICB2YWx1ZXMuYWRkKHZhbHVlKTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgDQogICAgICAgICAgICByZXR1cm4gQXJyYXkuZnJvbSh2YWx1ZXMpLnNvcnQoKTsNCiAgICAgICAgfQ0KDQogICAgICAgIGZ1bmN0aW9uIGFwcGx5RmlsdGVyKGNvbHVtbklkLCBmaWx0ZXJEcm9wZG93biwgZmlsdGVyQnRuKSB7DQogICAgICAgICAgICBjb25zdCBjaGVja2JveGVzID0gZmlsdGVyRHJvcGRvd24ucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbdHlwZT0iY2hlY2tib3giXTpub3QoI3NlbGVjdC1hbGwpOmNoZWNrZWQnKTsNCiAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkVmFsdWVzID0gQXJyYXkuZnJvbShjaGVja2JveGVzKS5tYXAoY2IgPT4gY2IudmFsdWUpOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBpZiAoc2VsZWN0ZWRWYWx1ZXMubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgICAgIGN1cnJlbnRGaWx0ZXJzW2NvbHVtbklkXSA9IHNlbGVjdGVkVmFsdWVzOw0KICAgICAgICAgICAgICAgIGZpbHRlckJ0bi5jbGFzc0xpc3QuYWRkKCdmaWx0ZXJlZCcpOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBkZWxldGUgY3VycmVudEZpbHRlcnNbY29sdW1uSWRdOw0KICAgICAgICAgICAgICAgIGZpbHRlckJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdmaWx0ZXJlZCcpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgDQogICAgICAgICAgICByZW5kZXJUYWJsZSgpOw0KICAgICAgICAgICAgY2xvc2VBbGxGaWx0ZXJEcm9wZG93bnMoKTsNCiAgICAgICAgfQ0KDQogICAgICAgIGZ1bmN0aW9uIGNsb3NlQWxsRmlsdGVyRHJvcGRvd25zKCkgew0KICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmZpbHRlci1kcm9wZG93bicpLmZvckVhY2goZHJvcGRvd24gPT4gew0KICAgICAgICAgICAgICAgIGRyb3Bkb3duLnJlbW92ZSgpOw0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZmlsdGVyLWJ0bicpLmZvckVhY2goYnRuID0+IHsNCiAgICAgICAgICAgICAgICBidG4uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgfQ0KDQogICAgICAgIC8vINCk0KPQndCa0KbQmNCYINCg0JXQlNCQ0JrQotCY0KDQntCS0JDQndCY0K8g0K/Qp9CV0JXQmg0KICAgICAgICBmdW5jdGlvbiBvcGVuRWRpdEhlYWRlck1vZGFsKGhlYWRlckNlbGwpIHsNCiAgICAgICAgICAgIGlmIChjdXJyZW50VXNlci5yb2xlICE9PSAnYWRtaW4nKSByZXR1cm47DQogICAgICAgICAgICANCiAgICAgICAgICAgIGN1cnJlbnRFZGl0aW5nQ2VsbCA9IGhlYWRlckNlbGw7DQogICAgICAgICAgICBpc0VkaXRpbmdIZWFkZXIgPSB0cnVlOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBjb25zdCBjdXJyZW50VmFsdWUgPSBoZWFkZXJDZWxsLnRleHRDb250ZW50Ow0KICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NlbGwtdmFsdWUnKS52YWx1ZSA9IGN1cnJlbnRWYWx1ZTsNCiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0LWNlbGwtdGl0bGUnKS50ZXh0Q29udGVudCA9ICfQoNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNC1INC90LDQt9Cy0LDQvdC40Y8g0YHRgtC+0LvQsdGG0LAnOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZm9ybS1ncm91cDpudGgtY2hpbGQoMyknKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOw0KICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NhdmUtY2VsbC1idG4nKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsNCiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjbG9zZS1maWxlLW1vZGFsJykuc3R5bGUuZGlzcGxheSA9ICdub25lJzsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXQtY2VsbC1tb2RhbCcpLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7DQogICAgICAgIH0NCg0KICAgICAgICAvLyDQmNCh0J/QoNCQ0JLQm9CV0J3QndCQ0K8g0KTQo9Cd0JrQptCY0K8g0J7QotCa0KDQq9Ci0JjQryDQnNCe0JTQkNCb0KzQndCe0JPQniDQntCa0J3QkCDQlNCb0K8g0KTQkNCZ0JvQntCSDQogICAgICAgIGZ1bmN0aW9uIG9wZW5GaWxlTWFuYWdlbWVudE1vZGFsKHJvd0lkLCBjb2x1bW5JZCkgew0KICAgICAgICAgICAgaWYgKGN1cnJlbnRVc2VyLnJvbGUgIT09ICdhZG1pbicpIHJldHVybjsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgY3VycmVudEVkaXRpbmdDZWxsID0gbnVsbDsNCiAgICAgICAgICAgIGlzRWRpdGluZ0hlYWRlciA9IGZhbHNlOw0KICAgICAgICAgICAgDQogICAgICAgICAgICAvLyDQodC+0YXRgNCw0L3Rj9C10Lwg0LjQvdGE0L7RgNC80LDRhtC40Y4g0L4g0Y/Rh9C10LnQutC1INC00LvRjyDQt9Cw0LPRgNGD0LfQutC4INGE0LDQudC70L7Qsg0KICAgICAgICAgICAgY3VycmVudEZpbGVNYW5hZ2VtZW50Q2VsbCA9IHsgcm93SWQsIGNvbHVtbklkIH07DQogICAgICAgICAgICANCiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0LWNlbGwtdGl0bGUnKS50ZXh0Q29udGVudCA9ICfQo9C/0YDQsNCy0LvQtdC90LjQtSDRhNCw0LnQu9Cw0LzQuCDRj9GH0LXQudC60LgnOw0KICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvcm0tZ3JvdXA6bnRoLWNoaWxkKDIpJykuc3R5bGUuZGlzcGxheSA9ICdub25lJzsNCiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzYXZlLWNlbGwtYnRuJykuc3R5bGUuZGlzcGxheSA9ICdub25lJzsNCiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjbG9zZS1maWxlLW1vZGFsJykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7DQogICAgICAgICAgICANCiAgICAgICAgICAgIGxvYWRBdHRhY2hlZEZpbGVzRm9yQ2VsbChyb3dJZCwgY29sdW1uSWQpOw0KICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXQtY2VsbC1tb2RhbCcpLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7DQogICAgICAgIH0NCg0KICAgICAgICBmdW5jdGlvbiBsb2FkQXR0YWNoZWRGaWxlcyhjZWxsKSB7DQogICAgICAgICAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXR0YWNoZWQtZmlsZXMnKTsNCiAgICAgICAgICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSAnJzsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgaWYgKGlzRWRpdGluZ0hlYWRlcikgcmV0dXJuOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBjb25zdCBjb2x1bW5JZCA9IGNlbGwuZGF0YXNldC5jb2x1bW5JZDsNCiAgICAgICAgICAgIGNvbnN0IHJvd0lkID0gcGFyc2VJbnQoY2VsbC5jbG9zZXN0KCd0cicpLnF1ZXJ5U2VsZWN0b3IoJ3RkOm50aC1jaGlsZCgyKScpLnRleHRDb250ZW50KTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgY29uc3Qgcm93RGF0YSA9IHRhYmxlRGF0YS5maW5kKHJvdyA9PiByb3cuaWQgPT09IHJvd0lkKTsNCiAgICAgICAgICAgIGlmIChyb3dEYXRhICYmIHJvd0RhdGEuYXR0YWNobWVudHMgJiYgcm93RGF0YS5hdHRhY2htZW50c1tjb2x1bW5JZF0pIHsNCiAgICAgICAgICAgICAgICByb3dEYXRhLmF0dGFjaG1lbnRzW2NvbHVtbklkXS5mb3JFYWNoKChmaWxlLCBpbmRleCkgPT4gew0KICAgICAgICAgICAgICAgICAgICBjb25zdCBmaWxlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOw0KICAgICAgICAgICAgICAgICAgICBmaWxlRWxlbWVudC5jbGFzc05hbWUgPSAnYXR0YWNoZWQtZmlsZSc7DQogICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICBsZXQgZmlsZUNvbnRlbnQgPSBmaWxlLm5hbWU7DQogICAgICAgICAgICAgICAgICAgIGlmIChmaWxlLnR5cGUuc3RhcnRzV2l0aCgnaW1hZ2UvJykpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVDb250ZW50ID0gYDxpbWcgc3JjPSIke2ZpbGUuZGF0YX0iIHN0eWxlPSJtYXgtd2lkdGg6IDUwcHg7IG1heC1oZWlnaHQ6IDUwcHg7IG1hcmdpbi1yaWdodDogMTBweDsiPiAke2ZpbGUubmFtZX1gOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICBmaWxlRWxlbWVudC5pbm5lckhUTUwgPSBgDQogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PiR7ZmlsZUNvbnRlbnR9PC9kaXY+DQogICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJmaWxlLWFjdGlvbi1idG4iIG9uY2xpY2s9InJlbW92ZUF0dGFjaG1lbnQoJHtyb3dJZH0sICcke2NvbHVtbklkfScsICR7aW5kZXh9KSI+w5c8L2J1dHRvbj4NCiAgICAgICAgICAgICAgICAgICAgYDsNCiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGZpbGVFbGVtZW50KTsNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIGZ1bmN0aW9uIGxvYWRBdHRhY2hlZEZpbGVzRm9yQ2VsbChyb3dJZCwgY29sdW1uSWQpIHsNCiAgICAgICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhdHRhY2hlZC1maWxlcycpOw0KICAgICAgICAgICAgY29udGFpbmVyLmlubmVySFRNTCA9ICcnOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBjb25zdCByb3dEYXRhID0gdGFibGVEYXRhLmZpbmQocm93ID0+IHJvdy5pZCA9PT0gcm93SWQpOw0KICAgICAgICAgICAgaWYgKHJvd0RhdGEgJiYgcm93RGF0YS5hdHRhY2htZW50cyAmJiByb3dEYXRhLmF0dGFjaG1lbnRzW2NvbHVtbklkXSkgew0KICAgICAgICAgICAgICAgIHJvd0RhdGEuYXR0YWNobWVudHNbY29sdW1uSWRdLmZvckVhY2goKGZpbGUsIGluZGV4KSA9PiB7DQogICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbGVFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7DQogICAgICAgICAgICAgICAgICAgIGZpbGVFbGVtZW50LmNsYXNzTmFtZSA9ICdhdHRhY2hlZC1maWxlJzsNCiAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgIGxldCBmaWxlQ29udGVudCA9IGZpbGUubmFtZTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGZpbGUudHlwZS5zdGFydHNXaXRoKCdpbWFnZS8nKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgZmlsZUNvbnRlbnQgPSBgPGltZyBzcmM9IiR7ZmlsZS5kYXRhfSIgc3R5bGU9Im1heC13aWR0aDogNTBweDsgbWF4LWhlaWdodDogNTBweDsgbWFyZ2luLXJpZ2h0OiAxMHB4OyI+ICR7ZmlsZS5uYW1lfWA7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgIGZpbGVFbGVtZW50LmlubmVySFRNTCA9IGANCiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+JHtmaWxlQ29udGVudH08L2Rpdj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImZpbGUtYWN0aW9uLWJ0biIgb25jbGljaz0icmVtb3ZlQXR0YWNobWVudCgke3Jvd0lkfSwgJyR7Y29sdW1uSWR9JywgJHtpbmRleH0pIj7DlzwvYnV0dG9uPg0KICAgICAgICAgICAgICAgICAgICBgOw0KICAgICAgICAgICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoZmlsZUVsZW1lbnQpOw0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgZnVuY3Rpb24gc2F2ZUNlbGxDaGFuZ2VzKCkgew0KICAgICAgICAgICAgaWYgKCFjdXJyZW50RWRpdGluZ0NlbGwpIHJldHVybjsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgY29uc3QgbmV3VmFsdWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2VsbC12YWx1ZScpLnZhbHVlOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBpZiAoaXNFZGl0aW5nSGVhZGVyKSB7DQogICAgICAgICAgICAgICAgY29uc3QgY29sdW1uVHlwZSA9IGN1cnJlbnRFZGl0aW5nQ2VsbC5kYXRhc2V0LmNvbHVtblR5cGU7DQogICAgICAgICAgICAgICAgY29uc3QgY29sdW1uSW5kZXggPSBwYXJzZUludChjdXJyZW50RWRpdGluZ0NlbGwuZGF0YXNldC5jb2x1bW5JbmRleCk7DQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgaWYgKGNvbHVtblR5cGUgPT09ICdiYXNpYycpIHsNCiAgICAgICAgICAgICAgICAgICAgYmFzaWNDb2x1bW5zW2NvbHVtbkluZGV4XS5uYW1lID0gbmV3VmFsdWU7DQogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjb2x1bW5UeXBlID09PSAnY3VzdG9tJykgew0KICAgICAgICAgICAgICAgICAgICBjdXN0b21Db2x1bW5zW2NvbHVtbkluZGV4XS5uYW1lID0gbmV3VmFsdWU7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIHN0b3JhZ2VNYW5hZ2VyLnNhdmVUb0xvY2FsU3RvcmFnZSh0YWJsZURhdGEsIHVzZXJzLCBhcHBTZXR0aW5ncywgY3VzdG9tQnV0dG9ucywgY3VzdG9tQ29sdW1ucywgYmFzaWNDb2x1bW5zLCBkYXRlVmFsaWRhdGlvbkNvbHVtbnMsIHRhYnMpOw0KICAgICAgICAgICAgICAgIGF1dG9TeW5jQ2hhbmdlcygpOw0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIGN1cnJlbnRFZGl0aW5nQ2VsbC50ZXh0Q29udGVudCA9IG5ld1ZhbHVlOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBjb25zdCBjb2x1bW5JZCA9IGN1cnJlbnRFZGl0aW5nQ2VsbC5kYXRhc2V0LmNvbHVtbklkOw0KICAgICAgICAgICAgICAgIGNvbnN0IHJvd0lkID0gcGFyc2VJbnQoY3VycmVudEVkaXRpbmdDZWxsLmNsb3Nlc3QoJ3RyJykucXVlcnlTZWxlY3RvcigndGQ6bnRoLWNoaWxkKDIpJykudGV4dENvbnRlbnQpOw0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIGNvbnN0IHJvd0RhdGEgPSB0YWJsZURhdGEuZmluZChyb3cgPT4gcm93LmlkID09PSByb3dJZCk7DQogICAgICAgICAgICAgICAgaWYgKGN1c3RvbUNvbHVtbnMuZmluZChjb2wgPT4gY29sLmlkID09PSBjb2x1bW5JZCkpIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKCFyb3dEYXRhLmN1c3RvbURhdGEpIHJvd0RhdGEuY3VzdG9tRGF0YSA9IHt9Ow0KICAgICAgICAgICAgICAgICAgICByb3dEYXRhLmN1c3RvbURhdGFbY29sdW1uSWRdID0gbmV3VmFsdWU7DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgc3dpdGNoKGNvbHVtbklkKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICduYW1lJzogcm93RGF0YS5uYW1lID0gbmV3VmFsdWU7IGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnZGF0ZSc6IHJvd0RhdGEuZGF0ZSA9IG5ld1ZhbHVlOyBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3N0YXR1cyc6IHJvd0RhdGEuc3RhdHVzID0gbmV3VmFsdWU7IGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRUYWIgPSB0YWJzLmZpbmQodGFiID0+IHRhYi5pZCA9PT0gY3VycmVudFRhYklkKTsNCiAgICAgICAgICAgICAgICBpZiAoY3VycmVudFRhYikgew0KICAgICAgICAgICAgICAgICAgICBjdXJyZW50VGFiLmRhdGEgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRhYmxlRGF0YSkpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICBzdG9yYWdlTWFuYWdlci5zYXZlVG9Mb2NhbFN0b3JhZ2UodGFibGVEYXRhLCB1c2VycywgYXBwU2V0dGluZ3MsIGN1c3RvbUJ1dHRvbnMsIGN1c3RvbUNvbHVtbnMsIGJhc2ljQ29sdW1ucywgZGF0ZVZhbGlkYXRpb25Db2x1bW5zLCB0YWJzKTsNCiAgICAgICAgICAgICAgICBhdXRvU3luY0NoYW5nZXMoKTsNCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICBjb25zdCBjZWxsQ29udGVudCA9IGN1cnJlbnRFZGl0aW5nQ2VsbC5xdWVyeVNlbGVjdG9yKCcuY2VsbC1jb250ZW50Jyk7DQogICAgICAgICAgICAgICAgaWYgKGNlbGxDb250ZW50KSB7DQogICAgICAgICAgICAgICAgICAgIGNvbnN0IGNlbGxUZXh0ID0gY2VsbENvbnRlbnQucXVlcnlTZWxlY3RvcignLmNlbGwtdGV4dCcpOw0KICAgICAgICAgICAgICAgICAgICBpZiAoY2VsbFRleHQpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNlbGxUZXh0LnRleHRDb250ZW50ID0gbmV3VmFsdWU7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICANCiAgICAgICAgICAgIHJlbmRlclRhYmxlKCk7DQogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdC1jZWxsLW1vZGFsJykuc3R5bGUuZGlzcGxheSA9ICdub25lJzsNCiAgICAgICAgfQ0KDQogICAgICAgIHdpbmRvdy5yZW1vdmVBdHRhY2htZW50ID0gZnVuY3Rpb24ocm93SWQsIGNvbHVtbklkLCBmaWxlSW5kZXgpIHsNCiAgICAgICAgICAgIGNvbnN0IHJvd0RhdGEgPSB0YWJsZURhdGEuZmluZChyb3cgPT4gcm93LmlkID09PSByb3dJZCk7DQogICAgICAgICAgICBpZiAocm93RGF0YSAmJiByb3dEYXRhLmF0dGFjaG1lbnRzICYmIHJvd0RhdGEuYXR0YWNobWVudHNbY29sdW1uSWRdKSB7DQogICAgICAgICAgICAgICAgY29uc3QgcmVtb3ZlZEZpbGUgPSByb3dEYXRhLmF0dGFjaG1lbnRzW2NvbHVtbklkXVtmaWxlSW5kZXhdOw0KICAgICAgICAgICAgICAgIHJvd0RhdGEuYXR0YWNobWVudHNbY29sdW1uSWRdLnNwbGljZShmaWxlSW5kZXgsIDEpOw0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRUYWIgPSB0YWJzLmZpbmQodGFiID0+IHRhYi5pZCA9PT0gY3VycmVudFRhYklkKTsNCiAgICAgICAgICAgICAgICBpZiAoY3VycmVudFRhYikgew0KICAgICAgICAgICAgICAgICAgICBjdXJyZW50VGFiLmRhdGEgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRhYmxlRGF0YSkpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICBzdG9yYWdlTWFuYWdlci5zYXZlVG9Mb2NhbFN0b3JhZ2UodGFibGVEYXRhLCB1c2VycywgYXBwU2V0dGluZ3MsIGN1c3RvbUJ1dHRvbnMsIGN1c3RvbUNvbHVtbnMsIGJhc2ljQ29sdW1ucywgZGF0ZVZhbGlkYXRpb25Db2x1bW5zLCB0YWJzKTsNCiAgICAgICAgICAgICAgICBhdXRvU3luY0NoYW5nZXMoKTsNCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICBpZiAoY3VycmVudEVkaXRpbmdDZWxsKSB7DQogICAgICAgICAgICAgICAgICAgIGxvYWRBdHRhY2hlZEZpbGVzKGN1cnJlbnRFZGl0aW5nQ2VsbCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHJlbmRlclRhYmxlKCk7DQogICAgICAgICAgICAgICAgYWxlcnQoYNCk0LDQudC7ICIke3JlbW92ZWRGaWxlLm5hbWV9IiDRg9C00LDQu9C10L0hYCk7DQogICAgICAgICAgICB9DQogICAgICAgIH07DQoNCiAgICAgICAgLy8g0KTQo9Cd0JrQptCY0Jgg0KDQkNCR0J7QotCrINChINCk0JDQmdCb0JDQnNCYDQogICAgICAgIGZ1bmN0aW9uIHNldHVwRmlsZURyb3Bab25lKCkgew0KICAgICAgICAgICAgY29uc3QgZHJvcFpvbmUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmlsZS11cGxvYWQtYXJlYScpOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBkcm9wWm9uZS5hZGRFdmVudExpc3RlbmVyKCdkcmFnb3ZlcicsIGZ1bmN0aW9uKGUpIHsNCiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7DQogICAgICAgICAgICAgICAgdGhpcy5zdHlsZS5ib3JkZXJDb2xvciA9ICcjZTY3ZTIyJzsNCiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlLmJhY2tncm91bmQgPSAnIzNhM2EzYSc7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgZHJvcFpvbmUuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2xlYXZlJywgZnVuY3Rpb24oZSkgew0KICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsNCiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlLmJvcmRlckNvbG9yID0gJyM0YTRhNGEnOw0KICAgICAgICAgICAgICAgIHRoaXMuc3R5bGUuYmFja2dyb3VuZCA9ICcjMmYyZjJmJzsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBkcm9wWm9uZS5hZGRFdmVudExpc3RlbmVyKCdkcm9wJywgZnVuY3Rpb24oZSkgew0KICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsNCiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlLmJvcmRlckNvbG9yID0gJyM0YTRhNGEnOw0KICAgICAgICAgICAgICAgIHRoaXMuc3R5bGUuYmFja2dyb3VuZCA9ICcjMmYyZjJmJzsNCiAgICAgICAgICAgICAgICBoYW5kbGVGaWxlVXBsb2FkKGUuZGF0YVRyYW5zZmVyLmZpbGVzKTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICB9DQoNCiAgICAgICAgLy8g0JjQodCf0KDQkNCS0JvQldCd0J3QkNCvINCk0KPQndCa0KbQmNCvINCU0JvQryDQl9CQ0JPQoNCj0JfQmtCYINCk0JDQmdCb0J7Qkg0KICAgICAgICBmdW5jdGlvbiBoYW5kbGVGaWxlVXBsb2FkKGZpbGVzKSB7DQogICAgICAgICAgICBpZiAoIWN1cnJlbnRGaWxlTWFuYWdlbWVudENlbGwpIHsNCiAgICAgICAgICAgICAgICBhbGVydCgn0KHQvdCw0YfQsNC70LAg0LLRi9Cx0LXRgNC40YLQtSDRj9GH0LXQudC60YMg0LTQu9GPINGA0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40Y8hJyk7DQogICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgDQogICAgICAgICAgICBjb25zdCB7IHJvd0lkLCBjb2x1bW5JZCB9ID0gY3VycmVudEZpbGVNYW5hZ2VtZW50Q2VsbDsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgaWYgKCFjb2x1bW5JZCB8fCAhcm93SWQpIHsNCiAgICAgICAgICAgICAgICBhbGVydCgn0J3QtSDRg9C00LDQu9C+0YHRjCDQvtC/0YDQtdC00LXQu9C40YLRjCDRj9GH0LXQudC60YMg0LTQu9GPINC/0YDQuNC60YDQtdC/0LvQtdC90LjRjyDRhNCw0LnQu9C+0LInKTsNCiAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICB9DQogICAgICAgICAgICANCiAgICAgICAgICAgIEFycmF5LmZyb20oZmlsZXMpLmZvckVhY2goZmlsZSA9PiB7DQogICAgICAgICAgICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTsNCiAgICAgICAgICAgICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24oZSkgew0KICAgICAgICAgICAgICAgICAgICBjb25zdCByb3dEYXRhID0gdGFibGVEYXRhLmZpbmQocm93ID0+IHJvdy5pZCA9PT0gcm93SWQpOw0KICAgICAgICAgICAgICAgICAgICBpZiAoIXJvd0RhdGEuYXR0YWNobWVudHMpIHJvd0RhdGEuYXR0YWNobWVudHMgPSB7fTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKCFyb3dEYXRhLmF0dGFjaG1lbnRzW2NvbHVtbklkXSkgcm93RGF0YS5hdHRhY2htZW50c1tjb2x1bW5JZF0gPSBbXTsNCiAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgIHJvd0RhdGEuYXR0YWNobWVudHNbY29sdW1uSWRdLnB1c2goew0KICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogZmlsZS5uYW1lLA0KICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogZmlsZS50eXBlLA0KICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogZS50YXJnZXQucmVzdWx0DQogICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVudFRhYiA9IHRhYnMuZmluZCh0YWIgPT4gdGFiLmlkID09PSBjdXJyZW50VGFiSWQpOw0KICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFRhYikgew0KICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFRhYi5kYXRhID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0YWJsZURhdGEpKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgc3RvcmFnZU1hbmFnZXIuc2F2ZVRvTG9jYWxTdG9yYWdlKHRhYmxlRGF0YSwgdXNlcnMsIGFwcFNldHRpbmdzLCBjdXN0b21CdXR0b25zLCBjdXN0b21Db2x1bW5zLCBiYXNpY0NvbHVtbnMsIGRhdGVWYWxpZGF0aW9uQ29sdW1ucywgdGFicyk7DQogICAgICAgICAgICAgICAgICAgIGF1dG9TeW5jQ2hhbmdlcygpOw0KICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgLy8g0J7QsdC90L7QstC70Y/QtdC8INGB0L/QuNGB0L7QuiDRhNCw0LnQu9C+0LIg0LIg0LzQvtC00LDQu9GM0L3QvtC8INC+0LrQvdC1DQogICAgICAgICAgICAgICAgICAgIGxvYWRBdHRhY2hlZEZpbGVzRm9yQ2VsbChyb3dJZCwgY29sdW1uSWQpOw0KICAgICAgICAgICAgICAgICAgICAvLyDQn9C10YDQtdGA0LjRgdC+0LLRi9Cy0LDQtdC8INGC0LDQsdC70LjRhtGDINC00LvRjyDQvtGC0L7QsdGA0LDQttC10L3QuNGPINC90L7QstGL0YUg0LjQutC+0L3QvtC6INGE0LDQudC70L7Qsg0KICAgICAgICAgICAgICAgICAgICByZW5kZXJUYWJsZSgpOw0KICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgYWxlcnQoYNCk0LDQudC7ICIke2ZpbGUubmFtZX0iINGD0YHQv9C10YjQvdC+INC00L7QsdCw0LLQu9C10L0hYCk7DQogICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICByZWFkZXIub25lcnJvciA9IGZ1bmN0aW9uKGUpIHsNCiAgICAgICAgICAgICAgICAgICAgYWxlcnQoYNCe0YjQuNCx0LrQsCDQv9GA0Lgg0YfRgtC10L3QuNC4INGE0LDQudC70LAgIiR7ZmlsZS5uYW1lfSJgKTsNCiAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpOw0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICANCiAgICAgICAgICAgIC8vINCe0YfQuNGJ0LDQtdC8IGlucHV0INGE0LDQudC70L7QsiDQv9C+0YHQu9C1INC30LDQs9GA0YPQt9C60LgNCiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmaWxlLWlucHV0JykudmFsdWUgPSAnJzsNCiAgICAgICAgfQ0KDQogICAgICAgIGZ1bmN0aW9uIG9wZW5GaWxlUHJldmlldyhmaWxlLCByb3dJZCwgY29sdW1uSWQsIGZpbGVJbmRleCkgew0KICAgICAgICAgICAgY3VycmVudFByZXZpZXdGaWxlID0geyBmaWxlLCByb3dJZCwgY29sdW1uSWQsIGZpbGVJbmRleCB9Ow0KICAgICAgICAgICAgDQogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJldmlldy10aXRsZScpLnRleHRDb250ZW50ID0gJ9Cf0YDQvtGB0LzQvtGC0YAg0YTQsNC50LvQsCc7DQogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJldmlldy1maWxlbmFtZScpLnRleHRDb250ZW50ID0gZmlsZS5uYW1lOw0KICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ByZXZpZXctZmlsZXR5cGUnKS50ZXh0Q29udGVudCA9IGdldEZpbGVUeXBlRGVzY3JpcHRpb24oZmlsZS50eXBlKTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgY29uc3QgcHJldmlld0NvbnRlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJldmlldy1jb250ZW50Jyk7DQogICAgICAgICAgICBwcmV2aWV3Q29udGVudC5pbm5lckhUTUwgPSAnJzsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgaWYgKGZpbGUudHlwZS5zdGFydHNXaXRoKCdpbWFnZS8nKSkgew0KICAgICAgICAgICAgICAgIGNvbnN0IGltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpOw0KICAgICAgICAgICAgICAgIGltZy5zcmMgPSBmaWxlLmRhdGE7DQogICAgICAgICAgICAgICAgaW1nLmFsdCA9IGZpbGUubmFtZTsNCiAgICAgICAgICAgICAgICBpbWcuY2xhc3NOYW1lID0gJ3ByZXZpZXctaW1hZ2UnOw0KICAgICAgICAgICAgICAgIHByZXZpZXdDb250ZW50LmFwcGVuZENoaWxkKGltZyk7DQogICAgICAgICAgICB9IGVsc2UgaWYgKGZpbGUudHlwZS5pbmNsdWRlcygncGRmJykpIHsNCiAgICAgICAgICAgICAgICBjb25zdCBlbWJlZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2VtYmVkJyk7DQogICAgICAgICAgICAgICAgZW1iZWQuc3JjID0gZmlsZS5kYXRhOw0KICAgICAgICAgICAgICAgIGVtYmVkLnR5cGUgPSAnYXBwbGljYXRpb24vcGRmJzsNCiAgICAgICAgICAgICAgICBlbWJlZC5jbGFzc05hbWUgPSAncHJldmlldy1kb2N1bWVudCc7DQogICAgICAgICAgICAgICAgcHJldmlld0NvbnRlbnQuYXBwZW5kQ2hpbGQoZW1iZWQpOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7DQogICAgICAgICAgICAgICAgbWVzc2FnZS5pbm5lckhUTUwgPSBgDQogICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9InBhZGRpbmc6IDJyZW07IHRleHQtYWxpZ246IGNlbnRlcjsiPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOiAzcmVtOyBtYXJnaW4tYm90dG9tOiAxcmVtOyI+8J+ThDwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICAgICAgPGgzPtCf0YDQtdC00L/RgNC+0YHQvNC+0YLRgCDQvdC10LTQvtGB0YLRg9C/0LXQvTwvaDM+DQogICAgICAgICAgICAgICAgICAgICAgICA8cD7QlNC70Y8g0LTQsNC90L3QvtCz0L4g0YLQuNC/0LAg0YTQsNC50LvQsCDQtNC+0YHRgtGD0L/QvdC+INGC0L7Qu9GM0LrQviDRgdC60LDRh9C40LLQsNC90LjQtTwvcD4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxwPjxzdHJvbmc+0KLQuNC/INGE0LDQudC70LA6PC9zdHJvbmc+ICR7ZmlsZS50eXBlfTwvcD4NCiAgICAgICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgYDsNCiAgICAgICAgICAgICAgICBwcmV2aWV3Q29udGVudC5hcHBlbmRDaGlsZChtZXNzYWdlKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIA0KICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZpbGUtcHJldmlldy1tb2RhbCcpLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7DQogICAgICAgIH0NCg0KICAgICAgICBmdW5jdGlvbiBnZXRGaWxlVHlwZURlc2NyaXB0aW9uKGZpbGVUeXBlKSB7DQogICAgICAgICAgICBjb25zdCB0eXBlcyA9IHsNCiAgICAgICAgICAgICAgICAnaW1hZ2UvanBlZyc6ICfQmNC30L7QsdGA0LDQttC10L3QuNC1IEpQRUcnLA0KICAgICAgICAgICAgICAgICdpbWFnZS9wbmcnOiAn0JjQt9C+0LHRgNCw0LbQtdC90LjQtSBQTkcnLA0KICAgICAgICAgICAgICAgICdpbWFnZS9naWYnOiAn0JjQt9C+0LHRgNCw0LbQtdC90LjQtSBHSUYnLA0KICAgICAgICAgICAgICAgICdhcHBsaWNhdGlvbi9wZGYnOiAn0JTQvtC60YPQvNC10L3RgiBQREYnLA0KICAgICAgICAgICAgICAgICdhcHBsaWNhdGlvbi9tc3dvcmQnOiAn0JTQvtC60YPQvNC10L3RgiBXb3JkJywNCiAgICAgICAgICAgICAgICAnYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LndvcmRwcm9jZXNzaW5nbWwuZG9jdW1lbnQnOiAn0JTQvtC60YPQvNC10L3RgiBXb3JkJywNCiAgICAgICAgICAgICAgICAnYXBwbGljYXRpb24vdm5kLm1zLWV4Y2VsJzogJ9Ci0LDQsdC70LjRhtCwIEV4Y2VsJywNCiAgICAgICAgICAgICAgICAnYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LnNwcmVhZHNoZWV0bWwuc2hlZXQnOiAn0KLQsNCx0LvQuNGG0LAgRXhjZWwnLA0KICAgICAgICAgICAgICAgICd0ZXh0L3BsYWluJzogJ9Ci0LXQutGB0YLQvtCy0YvQuSDRhNCw0LnQuycNCiAgICAgICAgICAgIH07DQogICAgICAgICAgICANCiAgICAgICAgICAgIHJldHVybiB0eXBlc1tmaWxlVHlwZV0gfHwgZmlsZVR5cGU7DQogICAgICAgIH0NCg0KICAgICAgICBmdW5jdGlvbiBkb3dubG9hZFByZXZpZXdGaWxlKCkgew0KICAgICAgICAgICAgaWYgKCFjdXJyZW50UHJldmlld0ZpbGUpIHJldHVybjsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgY29uc3QgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTsNCiAgICAgICAgICAgIGxpbmsuaHJlZiA9IGN1cnJlbnRQcmV2aWV3RmlsZS5maWxlLmRhdGE7DQogICAgICAgICAgICBsaW5rLmRvd25sb2FkID0gY3VycmVudFByZXZpZXdGaWxlLmZpbGUubmFtZTsNCiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobGluayk7DQogICAgICAgICAgICBsaW5rLmNsaWNrKCk7DQogICAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGxpbmspOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBhbGVydChg0KTQsNC50LsgIiR7Y3VycmVudFByZXZpZXdGaWxlLmZpbGUubmFtZX0iINGB0L7RhdGA0LDQvdC10L0hYCk7DQogICAgICAgIH0NCg0KICAgICAgICBmdW5jdGlvbiBjb3B5UHJldmlld0ZpbGUoKSB7DQogICAgICAgICAgICBpZiAoIWN1cnJlbnRQcmV2aWV3RmlsZSkgcmV0dXJuOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBpZiAoY3VycmVudFByZXZpZXdGaWxlLmZpbGUudHlwZS5zdGFydHNXaXRoKCdpbWFnZS8nKSkgew0KICAgICAgICAgICAgICAgIGNvbnN0IGltZyA9IG5ldyBJbWFnZSgpOw0KICAgICAgICAgICAgICAgIGltZy5zcmMgPSBjdXJyZW50UHJldmlld0ZpbGUuZmlsZS5kYXRhOw0KICAgICAgICAgICAgICAgIGltZy5vbmxvYWQgPSBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7DQogICAgICAgICAgICAgICAgICAgIGNhbnZhcy53aWR0aCA9IGltZy53aWR0aDsNCiAgICAgICAgICAgICAgICAgICAgY2FudmFzLmhlaWdodCA9IGltZy5oZWlnaHQ7DQogICAgICAgICAgICAgICAgICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpOw0KICAgICAgICAgICAgICAgICAgICBjdHguZHJhd0ltYWdlKGltZywgMCwgMCk7DQogICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICBjYW52YXMudG9CbG9iKGZ1bmN0aW9uKGJsb2IpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBuZXcgQ2xpcGJvYXJkSXRlbSh7IFtibG9iLnR5cGVdOiBibG9iIH0pOw0KICAgICAgICAgICAgICAgICAgICAgICAgbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZShbaXRlbV0pLnRoZW4oZnVuY3Rpb24oKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ9CY0LfQvtCx0YDQsNC20LXQvdC40LUg0YHQutC+0L/QuNGA0L7QstCw0L3QviDQsiDQsdGD0YTQtdGAINC+0LHQvNC10L3QsCEnKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uKGVycikgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KCfQndC1INGD0LTQsNC70L7RgdGMINGB0LrQvtC/0LjRgNC+0LLQsNGC0Ywg0LjQt9C+0LHRgNCw0LbQtdC90LjQtTogJyArIGVycik7DQogICAgICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgYWxlcnQoJ9Ca0L7Qv9C40YDQvtCy0LDQvdC40LUg0LTQvtGB0YLRg9C/0L3QviDRgtC+0LvRjNC60L4g0LTQu9GPINC40LfQvtCx0YDQsNC20LXQvdC40LkuINCY0YHQv9C+0LvRjNC30YPQudGC0LUg0YTRg9C90LrRhtC40Y4gItCh0L7RhdGA0LDQvdC40YLRjCIg0LTQu9GPINC00YDRg9Cz0LjRhSDRgtC40L/QvtCyINGE0LDQudC70L7Qsi4nKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIGZ1bmN0aW9uIHByaW50UHJldmlld0ZpbGUoKSB7DQogICAgICAgICAgICBpZiAoIWN1cnJlbnRQcmV2aWV3RmlsZSkgcmV0dXJuOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBjb25zdCBwcmludFdpbmRvdyA9IHdpbmRvdy5vcGVuKCcnLCAnX2JsYW5rJyk7DQogICAgICAgICAgICANCiAgICAgICAgICAgIGlmIChjdXJyZW50UHJldmlld0ZpbGUuZmlsZS50eXBlLnN0YXJ0c1dpdGgoJ2ltYWdlLycpKSB7DQogICAgICAgICAgICAgICAgcHJpbnRXaW5kb3cuZG9jdW1lbnQud3JpdGUoYA0KICAgICAgICAgICAgICAgICAgICA8aHRtbD4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxoZWFkPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aXRsZT7Qn9C10YfQsNGC0YwgJHtjdXJyZW50UHJldmlld0ZpbGUuZmlsZS5uYW1lfTwvdGl0bGU+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN0eWxlPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib2R5IHsgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW46IDA7IA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogMjBweDsgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250LWZhbWlseTogQXJpYWwsIHNhbnMtc2VyaWY7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1nIHsgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXgtd2lkdGg6IDEwMCU7IA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4LWhlaWdodDogOTB2aDsgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiA1cHg7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZpbGUtaW5mbyB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAyMHB4Ow0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogMTBweDsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICNmNWY1ZjU7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiA1cHg7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3N0eWxlPg0KICAgICAgICAgICAgICAgICAgICAgICAgPC9oZWFkPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGJvZHk+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZmlsZS1pbmZvIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgyPiR7Y3VycmVudFByZXZpZXdGaWxlLmZpbGUubmFtZX08L2gyPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4ke2dldEZpbGVUeXBlRGVzY3JpcHRpb24oY3VycmVudFByZXZpZXdGaWxlLmZpbGUudHlwZSl9PC9wPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPSIke2N1cnJlbnRQcmV2aWV3RmlsZS5maWxlLmRhdGF9IiBhbHQ9IiR7Y3VycmVudFByZXZpZXdGaWxlLmZpbGUubmFtZX0iPg0KICAgICAgICAgICAgICAgICAgICAgICAgPC9ib2R5Pg0KICAgICAgICAgICAgICAgICAgICA8L2h0bWw+DQogICAgICAgICAgICAgICAgYCk7DQogICAgICAgICAgICB9IGVsc2UgaWYgKGN1cnJlbnRQcmV2aWV3RmlsZS5maWxlLnR5cGUuaW5jbHVkZXMoJ3BkZicpKSB7DQogICAgICAgICAgICAgICAgcHJpbnRXaW5kb3cuZG9jdW1lbnQud3JpdGUoYA0KICAgICAgICAgICAgICAgICAgICA8aHRtbD4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxoZWFkPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aXRsZT7Qn9C10YfQsNGC0YwgJHtjdXJyZW50UHJldmlld0ZpbGUuZmlsZS5uYW1lfTwvdGl0bGU+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN0eWxlPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib2R5IHsgbWFyZ2luOiAwOyBwYWRkaW5nOiAwOyB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVtYmVkIHsgd2lkdGg6IDEwMCU7IGhlaWdodDogMTAwdmg7IH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3N0eWxlPg0KICAgICAgICAgICAgICAgICAgICAgICAgPC9oZWFkPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGJvZHk+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGVtYmVkIHNyYz0iJHtjdXJyZW50UHJldmlld0ZpbGUuZmlsZS5kYXRhfSIgdHlwZT0iYXBwbGljYXRpb24vcGRmIj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDwvYm9keT4NCiAgICAgICAgICAgICAgICAgICAgPC9odG1sPg0KICAgICAgICAgICAgICAgIGApOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBwcmludFdpbmRvdy5kb2N1bWVudC53cml0ZShgDQogICAgICAgICAgICAgICAgICAgIDxodG1sPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGhlYWQ+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRpdGxlPtCf0LXRh9Cw0YLRjCAke2N1cnJlbnRQcmV2aWV3RmlsZS5maWxlLm5hbWV9PC90aXRsZT4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3R5bGU+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvZHkgeyANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbjogMDsgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiA0MHB4OyANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnQtZmFtaWx5OiBBcmlhbCwgc2Fucy1zZXJpZjsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZmlsZS1pbmZvIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDMwcHg7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAyMHB4Ow0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogI2Y1ZjVmNTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3N0eWxlPg0KICAgICAgICAgICAgICAgICAgICAgICAgPC9oZWFkPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGJvZHk+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZmlsZS1pbmZvIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxPiR7Y3VycmVudFByZXZpZXdGaWxlLmZpbGUubmFtZX08L2gxPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+JHtnZXRGaWxlVHlwZURlc2NyaXB0aW9uKGN1cnJlbnRQcmV2aWV3RmlsZS5maWxlLnR5cGUpfTwvaDM+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPtCf0YDRj9C80LDRjyDQv9C10YfQsNGC0Ywg0L3QtdC00L7RgdGC0YPQv9C90LAg0LTQu9GPINGN0YLQvtCz0L4g0YLQuNC/0LAg0YTQsNC50LvQsC48L3A+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPtCf0L7QttCw0LvRg9C50YHRgtCwLCDRgdC+0YXRgNCw0L3QuNGC0LUg0YTQsNC50Lsg0Lgg0L7RgtC60YDQvtC50YLQtSDQtdCz0L4g0LIg0YHQvtC+0YLQstC10YLRgdGC0LLRg9GO0YnQtdC5INC/0YDQvtCz0YDQsNC80LzQtSDQtNC70Y8g0L/QtdGH0LDRgtC4LjwvcD4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDwvYm9keT4NCiAgICAgICAgICAgICAgICAgICAgPC9odG1sPg0KICAgICAgICAgICAgICAgIGApOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgDQogICAgICAgICAgICBwcmludFdpbmRvdy5kb2N1bWVudC5jbG9zZSgpOw0KICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7DQogICAgICAgICAgICAgICAgcHJpbnRXaW5kb3cucHJpbnQoKTsNCiAgICAgICAgICAgIH0sIDUwMCk7DQogICAgICAgIH0NCg0KICAgICAgICAvLyDQpNCj0J3QmtCm0JjQmCDQo9Cf0KDQkNCS0JvQldCd0JjQryDQn9Ce0JvQrNCX0J7QktCQ0KLQldCb0K/QnNCYDQogICAgICAgIGZ1bmN0aW9uIGhhbmRsZUFkZFVzZXIoZSkgew0KICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOw0KICAgICAgICAgICAgY29uc3QgdXNlcm5hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmV3LXVzZXJuYW1lJykudmFsdWU7DQogICAgICAgICAgICBjb25zdCBwYXNzd29yZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZXctcGFzc3dvcmQnKS52YWx1ZTsNCiAgICAgICAgICAgIGNvbnN0IHJvbGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmV3LXJvbGUnKS52YWx1ZTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgaWYgKHVzZXJzLmZpbmQodSA9PiB1LnVzZXJuYW1lID09PSB1c2VybmFtZSkpIHsNCiAgICAgICAgICAgICAgICBhbGVydCgn0J/QvtC70YzQt9C+0LLQsNGC0LXQu9GMINGD0LbQtSDRgdGD0YnQtdGB0YLQstGD0LXRgicpOw0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIA0KICAgICAgICAgICAgdXNlcnMucHVzaCh7IHVzZXJuYW1lLCBwYXNzd29yZCwgcm9sZSB9KTsNCiAgICAgICAgICAgIHN0b3JhZ2VNYW5hZ2VyLnNhdmVUb0xvY2FsU3RvcmFnZSh0YWJsZURhdGEsIHVzZXJzLCBhcHBTZXR0aW5ncywgY3VzdG9tQnV0dG9ucywgY3VzdG9tQ29sdW1ucywgYmFzaWNDb2x1bW5zLCBkYXRlVmFsaWRhdGlvbkNvbHVtbnMsIHRhYnMpOw0KICAgICAgICAgICAgYXV0b1N5bmNDaGFuZ2VzKCk7DQogICAgICAgICAgICByZW5kZXJVc2Vyc0xpc3QoKTsNCiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGQtdXNlci1mb3JtJykucmVzZXQoKTsNCiAgICAgICAgfQ0KDQogICAgICAgIGZ1bmN0aW9uIHJlbmRlclVzZXJzTGlzdCgpIHsNCiAgICAgICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1c2Vycy1saXN0Jyk7DQogICAgICAgICAgICBjb250YWluZXIuaW5uZXJIVE1MID0gJyc7DQogICAgICAgICAgICANCiAgICAgICAgICAgIHVzZXJzLmZvckVhY2goKHVzZXIsIGluZGV4KSA9PiB7DQogICAgICAgICAgICAgICAgaWYgKHVzZXIudXNlcm5hbWUgPT09IGN1cnJlbnRVc2VyLnVzZXJuYW1lKSByZXR1cm47DQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7DQogICAgICAgICAgICAgICAgZGl2LmNsYXNzTmFtZSA9ICd1c2VyLWl0ZW0nOw0KICAgICAgICAgICAgICAgIGRpdi5pbm5lckhUTUwgPSBgDQogICAgICAgICAgICAgICAgICAgIDxkaXY+DQogICAgICAgICAgICAgICAgICAgICAgICA8c3Ryb25nPiR7dXNlci51c2VybmFtZX08L3N0cm9uZz4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJ1c2VyLXJvbGUiPiR7dXNlci5yb2xlID09PSAnYWRtaW4nID8gJ9CQ0LTQvNC40L3QuNGB0YLRgNCw0YLQvtGAJyA6ICfQn9C+0LvRjNC30L7QstCw0YLQtdC70YwnfTwvc3Bhbj4NCiAgICAgICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InVzZXItYWN0aW9ucyI+DQogICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4tZWRpdCIgb25jbGljaz0iZWRpdFVzZXIoJHtpbmRleH0pIj7inI48L2J1dHRvbj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0bi1kYW5nZXIiIG9uY2xpY2s9ImRlbGV0ZVVzZXIoJHtpbmRleH0pIj7DlzwvYnV0dG9uPg0KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICBgOw0KICAgICAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChkaXYpOw0KICAgICAgICAgICAgfSk7DQogICAgICAgIH0NCg0KICAgICAgICB3aW5kb3cuZWRpdFVzZXIgPSBmdW5jdGlvbihpbmRleCkgew0KICAgICAgICAgICAgY29uc3QgdXNlciA9IHVzZXJzW2luZGV4XTsNCiAgICAgICAgICAgIGNvbnN0IG5ld1VzZXJuYW1lID0gcHJvbXB0KCfQndC+0LLQvtC1INC40LzRjyDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y86JywgdXNlci51c2VybmFtZSk7DQogICAgICAgICAgICBjb25zdCBuZXdQYXNzd29yZCA9IHByb21wdCgn0J3QvtCy0YvQuSDQv9Cw0YDQvtC70YwgKNC+0YHRgtCw0LLRjNGC0LUg0L/Rg9GB0YLRi9C8INGH0YLQvtCx0Ysg0L3QtSDQvNC10L3Rj9GC0YwpOicpOw0KICAgICAgICAgICAgY29uc3QgbmV3Um9sZSA9IGNvbmZpcm0oJ9Ch0LTQtdC70LDRgtGMINCw0LTQvNC40L3QuNGB0YLRgNCw0YLQvtGA0L7QvD8nKSA/ICdhZG1pbicgOiAndXNlcic7DQogICAgICAgICAgICANCiAgICAgICAgICAgIGlmIChuZXdVc2VybmFtZSkgdXNlci51c2VybmFtZSA9IG5ld1VzZXJuYW1lOw0KICAgICAgICAgICAgaWYgKG5ld1Bhc3N3b3JkKSB1c2VyLnBhc3N3b3JkID0gbmV3UGFzc3dvcmQ7DQogICAgICAgICAgICB1c2VyLnJvbGUgPSBuZXdSb2xlOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBzdG9yYWdlTWFuYWdlci5zYXZlVG9Mb2NhbFN0b3JhZ2UodGFibGVEYXRhLCB1c2VycywgYXBwU2V0dGluZ3MsIGN1c3RvbUJ1dHRvbnMsIGN1c3RvbUNvbHVtbnMsIGJhc2ljQ29sdW1ucywgZGF0ZVZhbGlkYXRpb25Db2x1bW5zLCB0YWJzKTsNCiAgICAgICAgICAgIGF1dG9TeW5jQ2hhbmdlcygpOw0KICAgICAgICAgICAgcmVuZGVyVXNlcnNMaXN0KCk7DQogICAgICAgIH07DQoNCiAgICAgICAgd2luZG93LmRlbGV0ZVVzZXIgPSBmdW5jdGlvbihpbmRleCkgew0KICAgICAgICAgICAgaWYgKGNvbmZpcm0oJ9Cj0LTQsNC70LjRgtGMINGN0YLQvtCz0L4g0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPPycpKSB7DQogICAgICAgICAgICAgICAgdXNlcnMuc3BsaWNlKGluZGV4LCAxKTsNCiAgICAgICAgICAgICAgICBzdG9yYWdlTWFuYWdlci5zYXZlVG9Mb2NhbFN0b3JhZ2UodGFibGVEYXRhLCB1c2VycywgYXBwU2V0dGluZ3MsIGN1c3RvbUJ1dHRvbnMsIGN1c3RvbUNvbHVtbnMsIGJhc2ljQ29sdW1ucywgZGF0ZVZhbGlkYXRpb25Db2x1bW5zLCB0YWJzKTsNCiAgICAgICAgICAgICAgICBhdXRvU3luY0NoYW5nZXMoKTsNCiAgICAgICAgICAgICAgICByZW5kZXJVc2Vyc0xpc3QoKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfTsNCg0KICAgICAgICBmdW5jdGlvbiBsb2FkQXBwU2V0dGluZ3MoKSB7DQogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaGVhZGVyLXRpdGxlJykudGV4dENvbnRlbnQgPSBhcHBTZXR0aW5ncy5oZWFkZXJUaXRsZTsNCiAgICAgICAgICAgIGlmIChhcHBTZXR0aW5ncy5oZWFkZXJMb2dvKSB7DQogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hlYWRlci1sb2dvJykuc3JjID0gYXBwU2V0dGluZ3MuaGVhZGVyTG9nbzsNCiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaGVhZGVyLWxvZ28nKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmaXhlZC1jb2x1bW5zLWNvdW50JykudmFsdWUgPSBhcHBTZXR0aW5ncy5maXhlZENvbHVtbnNDb3VudDsNCiAgICAgICAgfQ0KDQogICAgICAgIGZ1bmN0aW9uIHRyaWdnZXJMb2dvVXBsb2FkKCkgew0KICAgICAgICAgICAgaWYgKGN1cnJlbnRVc2VyICYmIGN1cnJlbnRVc2VyLnJvbGUgPT09ICdhZG1pbicpIHsNCiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9nby11cGxvYWQnKS5jbGljaygpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgZnVuY3Rpb24gaGFuZGxlTG9nb1VwbG9hZChlKSB7DQogICAgICAgICAgICBjb25zdCBmaWxlID0gZS50YXJnZXQuZmlsZXNbMF07DQogICAgICAgICAgICBpZiAoZmlsZSAmJiBmaWxlLnR5cGUgPT09ICdpbWFnZS9wbmcnKSB7DQogICAgICAgICAgICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTsNCiAgICAgICAgICAgICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24oZSkgew0KICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaGVhZGVyLWxvZ28nKS5zcmMgPSBlLnRhcmdldC5yZXN1bHQ7DQogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoZWFkZXItbG9nbycpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOw0KICAgICAgICAgICAgICAgICAgICBhcHBTZXR0aW5ncy5oZWFkZXJMb2dvID0gZS50YXJnZXQucmVzdWx0Ow0KICAgICAgICAgICAgICAgICAgICBzdG9yYWdlTWFuYWdlci5zYXZlVG9Mb2NhbFN0b3JhZ2UodGFibGVEYXRhLCB1c2VycywgYXBwU2V0dGluZ3MsIGN1c3RvbUJ1dHRvbnMsIGN1c3RvbUNvbHVtbnMsIGJhc2ljQ29sdW1ucywgZGF0ZVZhbGlkYXRpb25Db2x1bW5zLCB0YWJzKTsNCiAgICAgICAgICAgICAgICAgICAgYXV0b1N5bmNDaGFuZ2VzKCk7DQogICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgYWxlcnQoJ9Cf0L7QttCw0LvRg9C50YHRgtCwLCDQstGL0LHQtdGA0LjRgtC1IFBORyDRhNCw0LnQuycpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgLy8g0KTQo9Cd0JrQptCY0Jgg0J/QoNCe0JrQoNCj0KLQmtCYINCS0JrQm9CQ0JTQntCaDQogICAgICAgIGZ1bmN0aW9uIHNjcm9sbFRhYnNMZWZ0KCkgew0KICAgICAgICAgICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RhYnMtY29udGFpbmVyJyk7DQogICAgICAgICAgICBjb250YWluZXIuc2Nyb2xsQnkoew0KICAgICAgICAgICAgICAgIGxlZnQ6IC0yMDAsDQogICAgICAgICAgICAgICAgYmVoYXZpb3I6ICdzbW9vdGgnDQogICAgICAgICAgICB9KTsNCiAgICAgICAgfQ0KDQogICAgICAgIGZ1bmN0aW9uIHNjcm9sbFRhYnNSaWdodCgpIHsNCiAgICAgICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0YWJzLWNvbnRhaW5lcicpOw0KICAgICAgICAgICAgY29udGFpbmVyLnNjcm9sbEJ5KHsNCiAgICAgICAgICAgICAgICBsZWZ0OiAyMDAsDQogICAgICAgICAgICAgICAgYmVoYXZpb3I6ICdzbW9vdGgnDQogICAgICAgICAgICB9KTsNCiAgICAgICAgfQ0KDQogICAgICAgIGZ1bmN0aW9uIHVwZGF0ZUZpeGVkQ29sdW1uc0NvdW50KCkgew0KICAgICAgICAgICAgY29uc3QgY291bnQgPSBwYXJzZUludChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZml4ZWQtY29sdW1ucy1jb3VudCcpLnZhbHVlKTsNCiAgICAgICAgICAgIGlmIChjb3VudCA+PSAxICYmIGNvdW50IDw9IDEwKSB7DQogICAgICAgICAgICAgICAgYXBwU2V0dGluZ3MuZml4ZWRDb2x1bW5zQ291bnQgPSBjb3VudDsNCiAgICAgICAgICAgICAgICBzdG9yYWdlTWFuYWdlci5zYXZlVG9Mb2NhbFN0b3JhZ2UodGFibGVEYXRhLCB1c2VycywgYXBwU2V0dGluZ3MsIGN1c3RvbUJ1dHRvbnMsIGN1c3RvbUNvbHVtbnMsIGJhc2ljQ29sdW1ucywgZGF0ZVZhbGlkYXRpb25Db2x1bW5zLCB0YWJzKTsNCiAgICAgICAgICAgICAgICBhdXRvU3luY0NoYW5nZXMoKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIC8vINCk0KPQndCa0KbQmNCYINCj0J/QoNCQ0JLQm9CV0J3QmNCvINCh0KLQntCb0JHQptCQ0JzQmA0KICAgICAgICBmdW5jdGlvbiBhZGROZXdDb2x1bW4oKSB7DQogICAgICAgICAgICBjb25zdCBjb2x1bW5OYW1lID0gcHJvbXB0KCfQktCy0LXQtNC40YLQtSDQvdCw0LfQstCw0L3QuNC1INC90L7QstC+0LPQviDRgdGC0L7Qu9Cx0YbQsDonKTsNCiAgICAgICAgICAgIGlmICghY29sdW1uTmFtZSkgcmV0dXJuOw0KDQogICAgICAgICAgICBjb25zdCBjb2x1bW5JZCA9ICdjb2xfJyArIERhdGUubm93KCk7DQogICAgICAgICAgICBjdXN0b21Db2x1bW5zLnB1c2goew0KICAgICAgICAgICAgICAgIGlkOiBjb2x1bW5JZCwNCiAgICAgICAgICAgICAgICBuYW1lOiBjb2x1bW5OYW1lDQogICAgICAgICAgICB9KTsNCg0KICAgICAgICAgICAgdGFibGVEYXRhLmZvckVhY2gocm93ID0+IHsNCiAgICAgICAgICAgICAgICBpZiAoIXJvdy5jdXN0b21EYXRhKSByb3cuY3VzdG9tRGF0YSA9IHt9Ow0KICAgICAgICAgICAgICAgIHJvdy5jdXN0b21EYXRhW2NvbHVtbklkXSA9ICcnOw0KICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgIHN0b3JhZ2VNYW5hZ2VyLnNhdmVUb0xvY2FsU3RvcmFnZSh0YWJsZURhdGEsIHVzZXJzLCBhcHBTZXR0aW5ncywgY3VzdG9tQnV0dG9ucywgY3VzdG9tQ29sdW1ucywgYmFzaWNDb2x1bW5zLCBkYXRlVmFsaWRhdGlvbkNvbHVtbnMsIHRhYnMpOw0KICAgICAgICAgICAgYXV0b1N5bmNDaGFuZ2VzKCk7DQogICAgICAgICAgICANCiAgICAgICAgICAgIHJlbmRlclRhYmxlKCk7DQogICAgICAgICAgICANCiAgICAgICAgICAgIGlmIChjb25maXJtKCfQpdC+0YLQuNGC0LUg0L/QtdGA0LXQvNC10YHRgtC40YLRjCDQvdC+0LLRi9C5INGB0YLQvtC70LHQtdGGINCyINC90YPQttC90YPRjiDQv9C+0LfQuNGG0LjRjj8nKSkgew0KICAgICAgICAgICAgICAgIHNob3dNb3ZlQ29sdW1uTW9kYWwoKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIGZ1bmN0aW9uIHNob3dSZW1vdmVDb2x1bW5Nb2RhbCgpIHsNCiAgICAgICAgICAgIGNvbnN0IHNlbGVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb2x1bW4tdG8tcmVtb3ZlJyk7DQogICAgICAgICAgICBzZWxlY3QuaW5uZXJIVE1MID0gJyc7DQoNCiAgICAgICAgICAgIGN1c3RvbUNvbHVtbnMuZm9yRWFjaChjb2x1bW4gPT4gew0KICAgICAgICAgICAgICAgIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpOw0KICAgICAgICAgICAgICAgIG9wdGlvbi52YWx1ZSA9IGNvbHVtbi5pZDsNCiAgICAgICAgICAgICAgICBvcHRpb24udGV4dENvbnRlbnQgPSBjb2x1bW4ubmFtZTsNCiAgICAgICAgICAgICAgICBzZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uKTsNCiAgICAgICAgICAgIH0pOw0KDQogICAgICAgICAgICBpZiAoY3VzdG9tQ29sdW1ucy5sZW5ndGggPT09IDApIHsNCiAgICAgICAgICAgICAgICBjb25zdCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTsNCiAgICAgICAgICAgICAgICBvcHRpb24udGV4dENvbnRlbnQgPSAn0J3QtdGCINC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjNGB0LrQuNGFINGB0YLQvtC70LHRhtC+0LIg0LTQu9GPINGD0LTQsNC70LXQvdC40Y8nOw0KICAgICAgICAgICAgICAgIG9wdGlvbi5kaXNhYmxlZCA9IHRydWU7DQogICAgICAgICAgICAgICAgc2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbik7DQogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbmZpcm0tcmVtb3ZlLWNvbHVtbicpLmRpc2FibGVkID0gdHJ1ZTsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbmZpcm0tcmVtb3ZlLWNvbHVtbicpLmRpc2FibGVkID0gZmFsc2U7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZW1vdmUtY29sdW1uLW1vZGFsJykuc3R5bGUuZGlzcGxheSA9ICdmbGV4JzsNCiAgICAgICAgfQ0KDQogICAgICAgIGZ1bmN0aW9uIHJlbW92ZVNlbGVjdGVkQ29sdW1uKCkgew0KICAgICAgICAgICAgY29uc3Qgc2VsZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbHVtbi10by1yZW1vdmUnKTsNCiAgICAgICAgICAgIGNvbnN0IGNvbHVtbklkID0gc2VsZWN0LnZhbHVlOw0KDQogICAgICAgICAgICBpZiAoIWNvbHVtbklkKSByZXR1cm47DQoNCiAgICAgICAgICAgIGNvbnN0IGNvbHVtbiA9IGN1c3RvbUNvbHVtbnMuZmluZChjb2wgPT4gY29sLmlkID09PSBjb2x1bW5JZCk7DQogICAgICAgICAgICBpZiAoIWNvbmZpcm0oYNCj0LTQsNC70LjRgtGMINGB0YLQvtC70LHQtdGGICIke2NvbHVtbi5uYW1lfSI/INCS0YHQtSDQtNCw0L3QvdGL0LUg0LIg0Y3RgtC+0Lwg0YHRgtC+0LvQsdGG0LUg0LHRg9C00YPRgiDQv9C+0YLQtdGA0Y/QvdGLLmApKSByZXR1cm47DQoNCiAgICAgICAgICAgIHRhYmxlRGF0YS5mb3JFYWNoKHJvdyA9PiB7DQogICAgICAgICAgICAgICAgaWYgKHJvdy5jdXN0b21EYXRhICYmIHJvdy5jdXN0b21EYXRhW2NvbHVtbklkXSkgew0KICAgICAgICAgICAgICAgICAgICBkZWxldGUgcm93LmN1c3RvbURhdGFbY29sdW1uSWRdOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pOw0KDQogICAgICAgICAgICBjdXN0b21Db2x1bW5zID0gY3VzdG9tQ29sdW1ucy5maWx0ZXIoY29sID0+IGNvbC5pZCAhPT0gY29sdW1uSWQpOw0KICAgICAgICAgICAgc3RvcmFnZU1hbmFnZXIuc2F2ZVRvTG9jYWxTdG9yYWdlKHRhYmxlRGF0YSwgdXNlcnMsIGFwcFNldHRpbmdzLCBjdXN0b21CdXR0b25zLCBjdXN0b21Db2x1bW5zLCBiYXNpY0NvbHVtbnMsIGRhdGVWYWxpZGF0aW9uQ29sdW1ucywgdGFicyk7DQogICAgICAgICAgICBhdXRvU3luY0NoYW5nZXMoKTsNCg0KICAgICAgICAgICAgcmVuZGVyVGFibGUoKTsNCiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZW1vdmUtY29sdW1uLW1vZGFsJykuc3R5bGUuZGlzcGxheSA9ICdub25lJzsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgYWxlcnQoYNCh0YLQvtC70LHQtdGGICIke2NvbHVtbi5uYW1lfSIg0YPRgdC/0LXRiNC90L4g0YPQtNCw0LvQtdC9IWApOw0KICAgICAgICB9DQoNCiAgICAgICAgZnVuY3Rpb24gc2hvd01vdmVDb2x1bW5Nb2RhbCgpIHsNCiAgICAgICAgICAgIGNvbnN0IHNlbGVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb2x1bW4tdG8tbW92ZScpOw0KICAgICAgICAgICAgY29uc3QgbWF4UG9zaXRpb25TcGFuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21heC1wb3NpdGlvbicpOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBzZWxlY3QuaW5uZXJIVE1MID0gJyc7DQogICAgICAgICAgICANCiAgICAgICAgICAgIGNvbnN0IGFsbENvbHVtbnMgPSBbLi4uYmFzaWNDb2x1bW5zLCAuLi5jdXN0b21Db2x1bW5zXTsNCiAgICAgICAgICAgIGFsbENvbHVtbnMuZm9yRWFjaCgoY29sdW1uLCBpbmRleCkgPT4gew0KICAgICAgICAgICAgICAgIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpOw0KICAgICAgICAgICAgICAgIG9wdGlvbi52YWx1ZSA9IGNvbHVtbi5pZDsNCiAgICAgICAgICAgICAgICBvcHRpb24udGV4dENvbnRlbnQgPSBjb2x1bW4ubmFtZTsNCiAgICAgICAgICAgICAgICBvcHRpb24uZGF0YXNldC5pbmRleCA9IGluZGV4ICsgMTsNCiAgICAgICAgICAgICAgICBzZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uKTsNCiAgICAgICAgICAgIH0pOw0KDQogICAgICAgICAgICBtYXhQb3NpdGlvblNwYW4udGV4dENvbnRlbnQgPSBhbGxDb2x1bW5zLmxlbmd0aCArIDE7DQogICAgICAgICAgICANCiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb2x1bW4tcG9zaXRpb24nKS52YWx1ZSA9IGFsbENvbHVtbnMubGVuZ3RoICsgMTsNCiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb2x1bW4tcG9zaXRpb24nKS5tYXggPSBhbGxDb2x1bW5zLmxlbmd0aCArIDE7DQogICAgICAgICAgICANCiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb3ZlLWNvbHVtbi1tb2RhbCcpLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7DQogICAgICAgIH0NCg0KICAgICAgICBmdW5jdGlvbiBtb3ZlU2VsZWN0ZWRDb2x1bW4oKSB7DQogICAgICAgICAgICBjb25zdCBzZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29sdW1uLXRvLW1vdmUnKTsNCiAgICAgICAgICAgIGNvbnN0IHBvc2l0aW9uSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29sdW1uLXBvc2l0aW9uJyk7DQogICAgICAgICAgICANCiAgICAgICAgICAgIGNvbnN0IGNvbHVtbklkID0gc2VsZWN0LnZhbHVlOw0KICAgICAgICAgICAgY29uc3QgbmV3UG9zaXRpb24gPSBwYXJzZUludChwb3NpdGlvbklucHV0LnZhbHVlKTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgaWYgKCFjb2x1bW5JZCB8fCAhbmV3UG9zaXRpb24pIHJldHVybjsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgY29uc3QgYWxsQ29sdW1ucyA9IFsuLi5iYXNpY0NvbHVtbnMsIC4uLmN1c3RvbUNvbHVtbnNdOw0KICAgICAgICAgICAgY29uc3QgY29sdW1uSW5kZXggPSBhbGxDb2x1bW5zLmZpbmRJbmRleChjb2wgPT4gY29sLmlkID09PSBjb2x1bW5JZCk7DQogICAgICAgICAgICANCiAgICAgICAgICAgIGlmIChjb2x1bW5JbmRleCA9PT0gLTEpIHJldHVybjsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgY29uc3QgY29sdW1uVG9Nb3ZlID0gYWxsQ29sdW1uc1tjb2x1bW5JbmRleF07DQogICAgICAgICAgICANCiAgICAgICAgICAgIGlmIChjb2x1bW5JbmRleCA8IGJhc2ljQ29sdW1ucy5sZW5ndGgpIHsNCiAgICAgICAgICAgICAgICBiYXNpY0NvbHVtbnMuc3BsaWNlKGNvbHVtbkluZGV4LCAxKTsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgY3VzdG9tQ29sdW1ucy5zcGxpY2UoY29sdW1uSW5kZXggLSBiYXNpY0NvbHVtbnMubGVuZ3RoLCAxKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIA0KICAgICAgICAgICAgY29uc3QgdGFyZ2V0UG9zaXRpb24gPSBuZXdQb3NpdGlvbiAtIDI7DQogICAgICAgICAgICANCiAgICAgICAgICAgIGlmICh0YXJnZXRQb3NpdGlvbiA8IGJhc2ljQ29sdW1ucy5sZW5ndGgpIHsNCiAgICAgICAgICAgICAgICBiYXNpY0NvbHVtbnMuc3BsaWNlKHRhcmdldFBvc2l0aW9uLCAwLCBjb2x1bW5Ub01vdmUpOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBjdXN0b21Db2x1bW5zLnNwbGljZSh0YXJnZXRQb3NpdGlvbiAtIGJhc2ljQ29sdW1ucy5sZW5ndGgsIDAsIGNvbHVtblRvTW92ZSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICANCiAgICAgICAgICAgIHN0b3JhZ2VNYW5hZ2VyLnNhdmVUb0xvY2FsU3RvcmFnZSh0YWJsZURhdGEsIHVzZXJzLCBhcHBTZXR0aW5ncywgY3VzdG9tQnV0dG9ucywgY3VzdG9tQ29sdW1ucywgYmFzaWNDb2x1bW5zLCBkYXRlVmFsaWRhdGlvbkNvbHVtbnMsIHRhYnMpOw0KICAgICAgICAgICAgYXV0b1N5bmNDaGFuZ2VzKCk7DQogICAgICAgICAgICANCiAgICAgICAgICAgIHJlbmRlclRhYmxlKCk7DQogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW92ZS1jb2x1bW4tbW9kYWwnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBhbGVydChg0KHRgtC+0LvQsdC10YYgIiR7Y29sdW1uVG9Nb3ZlLm5hbWV9IiDRg9GB0L/QtdGI0L3QviDQv9C10YDQtdC80LXRidC10L0g0L3QsCDQv9C+0LfQuNGG0LjRjiAke25ld1Bvc2l0aW9ufSFgKTsNCiAgICAgICAgfQ0KDQogICAgICAgIGZ1bmN0aW9uIG1vdmVDb2x1bW4oZGlyZWN0aW9uKSB7DQogICAgICAgICAgICBhbGVydCgn0JjRgdC/0L7Qu9GM0LfRg9C50YLQtSDQvNC+0LTQsNC70YzQvdC+0LUg0L7QutC90L4g0LTQu9GPINGC0L7Rh9C90L7Qs9C+INC/0LXRgNC10LzQtdGJ0LXQvdC40Y8g0YHRgtC+0LvQsdGG0L7QsicpOw0KICAgICAgICAgICAgc2hvd01vdmVDb2x1bW5Nb2RhbCgpOw0KICAgICAgICB9DQoNCiAgICAgICAgLy8g0KTQo9Cd0JrQptCY0K8g0JjQnNCf0J7QoNCi0JAg0JjQlyBFWENFTA0KICAgICAgICBmdW5jdGlvbiBoYW5kbGVFeGNlbEZpbGVTZWxlY3QoZSkgew0KICAgICAgICAgICAgY29uc3QgZmlsZSA9IGUudGFyZ2V0LmZpbGVzWzBdOw0KICAgICAgICAgICAgaWYgKCFmaWxlKSByZXR1cm47DQoNCiAgICAgICAgICAgIGlmICh0eXBlb2YgWExTWCA9PT0gJ3VuZGVmaW5lZCcpIHsNCiAgICAgICAgICAgICAgICBhbGVydCgn0JHQuNCx0LvQuNC+0YLQtdC60LAg0LTQu9GPINGH0YLQtdC90LjRjyBFeGNlbCDRhNCw0LnQu9C+0LIg0LfQsNCz0YDRg9C20LDQtdGC0YHRjy4g0J/QvtC/0YDQvtCx0YPQudGC0LUg0LXRidC1INGA0LDQtyDRh9C10YDQtdC3INC90LXRgdC60L7Qu9GM0LrQviDRgdC10LrRg9C90LQuJyk7DQogICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOw0KICAgICAgICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uKGUpIHsNCiAgICAgICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gbmV3IFVpbnQ4QXJyYXkoZS50YXJnZXQucmVzdWx0KTsNCiAgICAgICAgICAgICAgICAgICAgY29uc3Qgd29ya2Jvb2sgPSBYTFNYLnJlYWQoZGF0YSwgeyB0eXBlOiAnYXJyYXknIH0pOw0KICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlyc3RTaGVldCA9IHdvcmtib29rLlNoZWV0c1t3b3JrYm9vay5TaGVldE5hbWVzWzBdXTsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QganNvbkRhdGEgPSBYTFNYLnV0aWxzLnNoZWV0X3RvX2pzb24oZmlyc3RTaGVldCwgeyBoZWFkZXI6IDEgfSk7DQogICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICBzaG93SW1wb3J0UHJldmlldyhqc29uRGF0YSk7DQogICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ9Ce0YjQuNCx0LrQsCDQv9GA0Lgg0YfRgtC10L3QuNC4INGE0LDQudC70LA6ICcgKyBlcnJvci5tZXNzYWdlKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9Ow0KICAgICAgICAgICAgcmVhZGVyLm9uZXJyb3IgPSBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgICAgICBhbGVydCgn0J7RiNC40LHQutCwINC/0YDQuCDRh9GC0LXQvdC40Lgg0YTQsNC50LvQsCcpOw0KICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIHJlYWRlci5yZWFkQXNBcnJheUJ1ZmZlcihmaWxlKTsNCiAgICAgICAgfQ0KDQogICAgICAgIGZ1bmN0aW9uIHNob3dJbXBvcnRQcmV2aWV3KGRhdGEpIHsNCiAgICAgICAgICAgIGNvbnN0IHByZXZpZXdDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW1wb3J0LXByZXZpZXcnKTsNCiAgICAgICAgICAgIGNvbnN0IHByZXZpZXdUYWJsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbXBvcnQtcHJldmlldy10YWJsZScpOw0KICAgICAgICAgICAgY29uc3QgY29uZmlybUJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb25maXJtLWltcG9ydC1idG4nKTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgcHJldmlld1RhYmxlLmlubmVySFRNTCA9ICcnOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBpZiAoZGF0YS5sZW5ndGggPT09IDApIHsNCiAgICAgICAgICAgICAgICBwcmV2aWV3Q29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7DQogICAgICAgICAgICAgICAgY29uZmlybUJ0bi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOw0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIA0KICAgICAgICAgICAgY29uc3QgdGhlYWQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0aGVhZCcpOw0KICAgICAgICAgICAgY29uc3QgaGVhZGVyUm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHInKTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgY29uc3QgaGVhZGVycyA9IGRhdGFbMF07DQogICAgICAgICAgICBoZWFkZXJzLmZvckVhY2goaGVhZGVyID0+IHsNCiAgICAgICAgICAgICAgICBjb25zdCB0aCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RoJyk7DQogICAgICAgICAgICAgICAgdGgudGV4dENvbnRlbnQgPSBoZWFkZXIgfHwgJ9Ch0YLQvtC70LHQtdGGJzsNCiAgICAgICAgICAgICAgICB0aC5zdHlsZS50ZXh0QWxpZ24gPSAnY2VudGVyJzsNCiAgICAgICAgICAgICAgICBoZWFkZXJSb3cuYXBwZW5kQ2hpbGQodGgpOw0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICANCiAgICAgICAgICAgIHRoZWFkLmFwcGVuZENoaWxkKGhlYWRlclJvdyk7DQogICAgICAgICAgICBwcmV2aWV3VGFibGUuYXBwZW5kQ2hpbGQodGhlYWQpOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBjb25zdCB0Ym9keSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3Rib2R5Jyk7DQogICAgICAgICAgICBjb25zdCByb3dzVG9TaG93ID0gTWF0aC5taW4oNSwgZGF0YS5sZW5ndGggLSAxKTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gcm93c1RvU2hvdzsgaSsrKSB7DQogICAgICAgICAgICAgICAgY29uc3Qgcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHInKTsNCiAgICAgICAgICAgICAgICBpZiAoZGF0YVtpXSkgew0KICAgICAgICAgICAgICAgICAgICBkYXRhW2ldLmZvckVhY2goY2VsbCA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7DQogICAgICAgICAgICAgICAgICAgICAgICB0ZC50ZXh0Q29udGVudCA9IGNlbGwgfHwgJyc7DQogICAgICAgICAgICAgICAgICAgICAgICB0ZC5zdHlsZS50ZXh0QWxpZ24gPSAnY2VudGVyJzsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJvdy5hcHBlbmRDaGlsZCh0ZCk7DQogICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgICAgICB0Ym9keS5hcHBlbmRDaGlsZChyb3cpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIA0KICAgICAgICAgICAgcHJldmlld1RhYmxlLmFwcGVuZENoaWxkKHRib2R5KTsNCiAgICAgICAgICAgIHByZXZpZXdDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7DQogICAgICAgICAgICBjb25maXJtQnRuLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBjdXJyZW50SW1wb3J0RGF0YSA9IGRhdGE7DQogICAgICAgIH0NCg0KICAgICAgICBmdW5jdGlvbiBjb25maXJtSW1wb3J0KCkgew0KICAgICAgICAgICAgaWYgKCFjdXJyZW50SW1wb3J0RGF0YSB8fCBjdXJyZW50SW1wb3J0RGF0YS5sZW5ndGggPCAyKSB7DQogICAgICAgICAgICAgICAgYWxlcnQoJ9Cd0LXRgiDQtNCw0L3QvdGL0YUg0LTQu9GPINC40LzQv9C+0YDRgtCwJyk7DQogICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgDQogICAgICAgICAgICBjb25zdCBpbXBvcnRNb2RlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ltcG9ydC1tb2RlJykudmFsdWU7DQogICAgICAgICAgICBjb25zdCBoZWFkZXJzID0gY3VycmVudEltcG9ydERhdGFbMF07DQogICAgICAgICAgICBjb25zdCByb3dzID0gY3VycmVudEltcG9ydERhdGEuc2xpY2UoMSk7DQogICAgICAgICAgICANCiAgICAgICAgICAgIGlmIChpbXBvcnRNb2RlID09PSAncmVwbGFjZScpIHsNCiAgICAgICAgICAgICAgICB0YWJsZURhdGEgPSBbXTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIA0KICAgICAgICAgICAgbGV0IG5leHRJZCA9IHRhYmxlRGF0YS5sZW5ndGggPiAwID8gTWF0aC5tYXgoLi4udGFibGVEYXRhLm1hcChyb3cgPT4gcm93LmlkKSkgKyAxIDogMTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgcm93cy5mb3JFYWNoKHJvdyA9PiB7DQogICAgICAgICAgICAgICAgaWYgKHJvdyAmJiByb3cubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdSb3cgPSB7DQogICAgICAgICAgICAgICAgICAgICAgICBpZDogbmV4dElkKyssDQogICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiByb3dbMF0gfHwgJ9Cd0L7QstGL0Lkg0L/RgNC+0LXQutGCJywNCiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGU6IHJvd1sxXSB8fCBmb3JtYXREYXRlKG5ldyBEYXRlKCkpLA0KICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiByb3dbMl0gfHwgJ9CQ0LrRgtC40LLQtdC9JywNCiAgICAgICAgICAgICAgICAgICAgICAgIGN1c3RvbURhdGE6IHt9LA0KICAgICAgICAgICAgICAgICAgICAgICAgYXR0YWNobWVudHM6IHt9DQogICAgICAgICAgICAgICAgICAgIH07DQogICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMzsgaSA8IGhlYWRlcnMubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoZWFkZXJzW2ldKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29sdW1uTmFtZSA9IGhlYWRlcnNbaV07DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29sdW1uSWQgPSAnaW1wb3J0ZWRfJyArIGNvbHVtbk5hbWUudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9ccysvZywgJ18nKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWN1c3RvbUNvbHVtbnMuZmluZChjb2wgPT4gY29sLm5hbWUgPT09IGNvbHVtbk5hbWUpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1c3RvbUNvbHVtbnMucHVzaCh7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogY29sdW1uSWQsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBjb2x1bW5OYW1lDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdSb3cuY3VzdG9tRGF0YVtjb2x1bW5JZF0gPSByb3dbaV0gfHwgJyc7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgIHRhYmxlRGF0YS5wdXNoKG5ld1Jvdyk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICANCiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRUYWIgPSB0YWJzLmZpbmQodGFiID0+IHRhYi5pZCA9PT0gY3VycmVudFRhYklkKTsNCiAgICAgICAgICAgIGlmIChjdXJyZW50VGFiKSB7DQogICAgICAgICAgICAgICAgY3VycmVudFRhYi5kYXRhID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0YWJsZURhdGEpKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIA0KICAgICAgICAgICAgc3RvcmFnZU1hbmFnZXIuc2F2ZVRvTG9jYWxTdG9yYWdlKHRhYmxlRGF0YSwgdXNlcnMsIGFwcFNldHRpbmdzLCBjdXN0b21CdXR0b25zLCBjdXN0b21Db2x1bW5zLCBiYXNpY0NvbHVtbnMsIGRhdGVWYWxpZGF0aW9uQ29sdW1ucywgdGFicyk7DQogICAgICAgICAgICBhdXRvU3luY0NoYW5nZXMoKTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgcmVuZGVyVGFibGUoKTsNCiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbXBvcnQtZXhjZWwtbW9kYWwnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOw0KICAgICAgICAgICAgYWxlcnQoYNCj0YHQv9C10YjQvdC+INC40LzQv9C+0YDRgtC40YDQvtCy0LDQvdC+ICR7cm93cy5sZW5ndGh9INGB0YLRgNC+0LpgKTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgY3VycmVudEltcG9ydERhdGEgPSBudWxsOw0KICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4Y2VsLWZpbGUtaW5wdXQnKS52YWx1ZSA9ICcnOw0KICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ltcG9ydC1wcmV2aWV3Jykuc3R5bGUuZGlzcGxheSA9ICdub25lJzsNCiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb25maXJtLWltcG9ydC1idG4nKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOw0KICAgICAgICB9DQoNCiAgICAgICAgLy8g0J3QntCS0KvQlSDQpNCj0J3QmtCm0JjQmCDQlNCb0K8g0JLQmtCb0JDQlNCe0JoNCiAgICAgICAgZnVuY3Rpb24gcmVuZGVyVGFicygpIHsNCiAgICAgICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0YWJzLWNvbnRhaW5lcicpOw0KICAgICAgICAgICAgY29udGFpbmVyLmlubmVySFRNTCA9ICcnOw0KICAgICAgICAgICAgDQogICAgICAgICAgICB0YWJzLmZvckVhY2godGFiID0+IHsNCiAgICAgICAgICAgICAgICBjb25zdCB0YWJFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7DQogICAgICAgICAgICAgICAgdGFiRWxlbWVudC5jbGFzc05hbWUgPSBgdGFiICR7dGFiLmlkID09PSBjdXJyZW50VGFiSWQgPyAnYWN0aXZlJyA6ICcnfWA7DQogICAgICAgICAgICAgICAgdGFiRWxlbWVudC5kYXRhc2V0LnRhYklkID0gdGFiLmlkOw0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIGNvbnN0IHRhYk5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7DQogICAgICAgICAgICAgICAgdGFiTmFtZS50ZXh0Q29udGVudCA9IHRhYi5uYW1lOw0KICAgICAgICAgICAgICAgIHRhYk5hbWUuY2xhc3NOYW1lID0gJ3RhYi1uYW1lJzsNCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICBjb25zdCBjbG9zZUJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpOw0KICAgICAgICAgICAgICAgIGNsb3NlQnRuLmNsYXNzTmFtZSA9ICd0YWItY2xvc2UnOw0KICAgICAgICAgICAgICAgIGNsb3NlQnRuLmlubmVySFRNTCA9ICfDlyc7DQogICAgICAgICAgICAgICAgY2xvc2VCdG4udGl0bGUgPSAn0JfQsNC60YDRi9GC0Ywg0LLQutC70LDQtNC60YMnOw0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIGlmIChjdXJyZW50VXNlciAmJiBjdXJyZW50VXNlci5yb2xlICE9PSAnYWRtaW4nKSB7DQogICAgICAgICAgICAgICAgICAgIGNsb3NlQnRuLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7DQogICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0YWJzLmxlbmd0aCA+IDEpIHsNCiAgICAgICAgICAgICAgICAgICAgY2xvc2VCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNsb3NlVGFiKHRhYi5pZCk7DQogICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIGNsb3NlQnRuLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIHRhYkVsZW1lbnQuYXBwZW5kQ2hpbGQodGFiTmFtZSk7DQogICAgICAgICAgICAgICAgdGFiRWxlbWVudC5hcHBlbmRDaGlsZChjbG9zZUJ0bik7DQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgdGFiRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7DQogICAgICAgICAgICAgICAgICAgIGlmICghZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCd0YWItY2xvc2UnKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoVGFiKHRhYi5pZCk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9KTsNCg0KICAgICAgICAgICAgICAgIGlmIChjdXJyZW50VXNlciAmJiBjdXJyZW50VXNlci5yb2xlID09PSAnYWRtaW4nKSB7DQogICAgICAgICAgICAgICAgICAgIHRhYk5hbWUuY2xhc3NMaXN0LmFkZCgnZWRpdGFibGUnKTsNCiAgICAgICAgICAgICAgICAgICAgdGFiTmFtZS5jb250ZW50RWRpdGFibGUgPSAndHJ1ZSc7DQogICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICB0YWJOYW1lLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld05hbWUgPSB0aGlzLnRleHRDb250ZW50LnRyaW0oKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdOYW1lICYmIG5ld05hbWUgIT09IHRhYi5uYW1lKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFiLm5hbWUgPSBuZXdOYW1lOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JhZ2VNYW5hZ2VyLnNhdmVUb0xvY2FsU3RvcmFnZSh0YWJsZURhdGEsIHVzZXJzLCBhcHBTZXR0aW5ncywgY3VzdG9tQnV0dG9ucywgY3VzdG9tQ29sdW1ucywgYmFzaWNDb2x1bW5zLCBkYXRlVmFsaWRhdGlvbkNvbHVtbnMsIHRhYnMpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1dG9TeW5jQ2hhbmdlcygpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0YWIuaWQgPT09IGN1cnJlbnRUYWJJZCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaGVhZGVyLXRpdGxlJykudGV4dENvbnRlbnQgPSBuZXdOYW1lOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBTZXR0aW5ncy5oZWFkZXJUaXRsZSA9IG5ld05hbWU7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JhZ2VNYW5hZ2VyLnNhdmVUb0xvY2FsU3RvcmFnZSh0YWJsZURhdGEsIHVzZXJzLCBhcHBTZXR0aW5ncywgY3VzdG9tQnV0dG9ucywgY3VzdG9tQ29sdW1ucywgYmFzaWNDb2x1bW5zLCBkYXRlVmFsaWRhdGlvbkNvbHVtbnMsIHRhYnMpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRvU3luY0NoYW5nZXMoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGV4dENvbnRlbnQgPSB0YWIubmFtZTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICB0YWJOYW1lLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBmdW5jdGlvbihlKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS5rZXkgPT09ICdFbnRlcicpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ibHVyKCk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQodGFiRWxlbWVudCk7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgaWYgKGN1cnJlbnRUYWJJZCAmJiBjdXJyZW50VGFiSWQgIT09ICd0YWIxJykgew0KICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRUYWIgPSB0YWJzLmZpbmQodGFiID0+IHRhYi5pZCA9PT0gY3VycmVudFRhYklkKTsNCiAgICAgICAgICAgICAgICBpZiAoY3VycmVudFRhYiAmJiBjdXJyZW50VGFiLmRhdGEpIHsNCiAgICAgICAgICAgICAgICAgICAgdGFibGVEYXRhID0gY3VycmVudFRhYi5kYXRhOw0KICAgICAgICAgICAgICAgICAgICByZW5kZXJUYWJsZSgpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgY29uc3QgY3VycmVudFRhYiA9IHRhYnMuZmluZCh0YWIgPT4gdGFiLmlkID09PSBjdXJyZW50VGFiSWQpOw0KICAgICAgICAgICAgaWYgKGN1cnJlbnRUYWIpIHsNCiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaGVhZGVyLXRpdGxlJykudGV4dENvbnRlbnQgPSBjdXJyZW50VGFiLm5hbWU7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICBmdW5jdGlvbiBjcmVhdGVOZXdUYWIoKSB7DQogICAgICAgICAgICBpZiAoY3VycmVudFVzZXIucm9sZSAhPT0gJ2FkbWluJykgew0KICAgICAgICAgICAgICAgIGFsZXJ0KCfQotC+0LvRjNC60L4g0LDQtNC80LjQvdC40YHRgtGA0LDRgtC+0YDRiyDQvNC+0LPRg9GCINGB0L7Qt9C00LDQstCw0YLRjCDQvdC+0LLRi9C1INCy0LrQu9Cw0LTQutC4Jyk7DQogICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBjb25zdCB0YWJJZCA9ICd0YWJfJyArIERhdGUubm93KCk7DQogICAgICAgICAgICBjb25zdCB0YWJOYW1lID0gYNCi0LDQsdC70LjRhtCwICR7dGFicy5sZW5ndGggKyAxfWA7DQogICAgICAgICAgICANCiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRUYWIgPSB0YWJzLmZpbmQodGFiID0+IHRhYi5pZCA9PT0gY3VycmVudFRhYklkKTsNCiAgICAgICAgICAgIGlmIChjdXJyZW50VGFiKSB7DQogICAgICAgICAgICAgICAgY3VycmVudFRhYi5kYXRhID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0YWJsZURhdGEpKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIA0KICAgICAgICAgICAgY29uc3QgbmV3VGFiID0gew0KICAgICAgICAgICAgICAgIGlkOiB0YWJJZCwNCiAgICAgICAgICAgICAgICBuYW1lOiB0YWJOYW1lLA0KICAgICAgICAgICAgICAgIGRhdGE6IFsNCiAgICAgICAgICAgICAgICAgICAgeyBpZDogMSwgbmFtZTogJ9Cd0L7QstGL0Lkg0L/RgNC+0LXQutGCJywgZGF0ZTogZm9ybWF0RGF0ZShuZXcgRGF0ZSgpKSwgc3RhdHVzOiAn0JDQutGC0LjQstC10L0nLCBjdXN0b21EYXRhOiB7fSwgYXR0YWNobWVudHM6IHt9IH0NCiAgICAgICAgICAgICAgICBdDQogICAgICAgICAgICB9Ow0KICAgICAgICAgICAgDQogICAgICAgICAgICB0YWJzLnB1c2gobmV3VGFiKTsNCiAgICAgICAgICAgIHN0b3JhZ2VNYW5hZ2VyLnNhdmVUb0xvY2FsU3RvcmFnZSh0YWJsZURhdGEsIHVzZXJzLCBhcHBTZXR0aW5ncywgY3VzdG9tQnV0dG9ucywgY3VzdG9tQ29sdW1ucywgYmFzaWNDb2x1bW5zLCBkYXRlVmFsaWRhdGlvbkNvbHVtbnMsIHRhYnMpOw0KICAgICAgICAgICAgYXV0b1N5bmNDaGFuZ2VzKCk7DQogICAgICAgICAgICANCiAgICAgICAgICAgIGN1cnJlbnRUYWJJZCA9IHRhYklkOw0KICAgICAgICAgICAgdGFibGVEYXRhID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShuZXdUYWIuZGF0YSkpOw0KICAgICAgICAgICAgDQogICAgICAgICAgICByZW5kZXJUYWJzKCk7DQogICAgICAgICAgICByZW5kZXJUYWJsZSgpOw0KICAgICAgICAgICAgcmVzZXRGaWx0ZXJzQW5kU2VhcmNoKCk7DQogICAgICAgIH0NCg0KICAgICAgICBmdW5jdGlvbiBzd2l0Y2hUYWIodGFiSWQpIHsNCiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRUYWIgPSB0YWJzLmZpbmQodGFiID0+IHRhYi5pZCA9PT0gY3VycmVudFRhYklkKTsNCiAgICAgICAgICAgIGlmIChjdXJyZW50VGFiKSB7DQogICAgICAgICAgICAgICAgY3VycmVudFRhYi5kYXRhID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0YWJsZURhdGEpKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIA0KICAgICAgICAgICAgY3VycmVudFRhYklkID0gdGFiSWQ7DQogICAgICAgICAgICBjb25zdCBuZXdUYWIgPSB0YWJzLmZpbmQodGFiID0+IHRhYi5pZCA9PT0gdGFiSWQpOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBpZiAobmV3VGFiICYmIG5ld1RhYi5kYXRhKSB7DQogICAgICAgICAgICAgICAgdGFibGVEYXRhID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShuZXdUYWIuZGF0YSkpOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBpZiAodGFiSWQgPT09ICd0YWIxJykgew0KICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gc3RvcmFnZU1hbmFnZXIubG9hZEZyb21Mb2NhbFN0b3JhZ2UoKTsNCiAgICAgICAgICAgICAgICAgICAgdGFibGVEYXRhID0gZGF0YS50YWJsZURhdGE7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgDQogICAgICAgICAgICBzdG9yYWdlTWFuYWdlci5zYXZlVG9Mb2NhbFN0b3JhZ2UodGFibGVEYXRhLCB1c2VycywgYXBwU2V0dGluZ3MsIGN1c3RvbUJ1dHRvbnMsIGN1c3RvbUNvbHVtbnMsIGJhc2ljQ29sdW1ucywgZGF0ZVZhbGlkYXRpb25Db2x1bW5zLCB0YWJzKTsNCiAgICAgICAgICAgIHJlbmRlclRhYnMoKTsNCiAgICAgICAgICAgIHJlbmRlclRhYmxlKCk7DQogICAgICAgICAgICByZXNldEZpbHRlcnNBbmRTZWFyY2goKTsNCiAgICAgICAgfQ0KDQogICAgICAgIGZ1bmN0aW9uIGNsb3NlVGFiKHRhYklkKSB7DQogICAgICAgICAgICBpZiAoY3VycmVudFVzZXIucm9sZSAhPT0gJ2FkbWluJykgew0KICAgICAgICAgICAgICAgIGFsZXJ0KCfQotC+0LvRjNC60L4g0LDQtNC80LjQvdC40YHRgtGA0LDRgtC+0YDRiyDQvNC+0LPRg9GCINGD0LTQsNC70Y/RgtGMINCy0LrQu9Cw0LTQutC4Jyk7DQogICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBpZiAodGFicy5sZW5ndGggPD0gMSkgcmV0dXJuOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBjb25zdCB0YWJJbmRleCA9IHRhYnMuZmluZEluZGV4KHRhYiA9PiB0YWIuaWQgPT09IHRhYklkKTsNCiAgICAgICAgICAgIGlmICh0YWJJbmRleCA9PT0gLTEpIHJldHVybjsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgdGFicy5zcGxpY2UodGFiSW5kZXgsIDEpOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBpZiAodGFiSWQgPT09IGN1cnJlbnRUYWJJZCkgew0KICAgICAgICAgICAgICAgIGN1cnJlbnRUYWJJZCA9IHRhYnNbMF0uaWQ7DQogICAgICAgICAgICAgICAgY29uc3QgZmlyc3RUYWIgPSB0YWJzWzBdOw0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIGlmIChmaXJzdFRhYi5kYXRhKSB7DQogICAgICAgICAgICAgICAgICAgIHRhYmxlRGF0YSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZmlyc3RUYWIuZGF0YSkpOw0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZmlyc3RUYWIuaWQgPT09ICd0YWIxJykgew0KICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gc3RvcmFnZU1hbmFnZXIubG9hZEZyb21Mb2NhbFN0b3JhZ2UoKTsNCiAgICAgICAgICAgICAgICAgICAgdGFibGVEYXRhID0gZGF0YS50YWJsZURhdGE7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgDQogICAgICAgICAgICBzdG9yYWdlTWFuYWdlci5zYXZlVG9Mb2NhbFN0b3JhZ2UodGFibGVEYXRhLCB1c2VycywgYXBwU2V0dGluZ3MsIGN1c3RvbUJ1dHRvbnMsIGN1c3RvbUNvbHVtbnMsIGJhc2ljQ29sdW1ucywgZGF0ZVZhbGlkYXRpb25Db2x1bW5zLCB0YWJzKTsNCiAgICAgICAgICAgIGF1dG9TeW5jQ2hhbmdlcygpOw0KICAgICAgICAgICAgcmVuZGVyVGFicygpOw0KICAgICAgICAgICAgcmVuZGVyVGFibGUoKTsNCiAgICAgICAgfQ0KDQogICAgICAgIGZ1bmN0aW9uIHJlc2V0RmlsdGVyc0FuZFNlYXJjaCgpIHsNCiAgICAgICAgICAgIGN1cnJlbnRGaWx0ZXJzID0ge307DQogICAgICAgICAgICBzZWFyY2hUZXJtID0gJyc7DQogICAgICAgICAgICBzZWxlY3RlZFJvd3MuY2xlYXIoKTsNCiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0YWJsZS1zZWFyY2gnKS52YWx1ZSA9ICcnOw0KICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbGVjdC1hbGwtY2hlY2tib3gnKS5jaGVja2VkID0gZmFsc2U7DQogICAgICAgICAgICBjbG9zZUFsbEZpbHRlckRyb3Bkb3ducygpOw0KICAgICAgICB9DQoNCiAgICAgICAgLy8g0KTQo9Cd0JrQptCY0Jgg0JTQm9CvINCn0JXQmtCR0J7QmtCh0J7QkiDQmCDQpNCY0JvQrNCi0KDQkNCm0JjQmA0KICAgICAgICBmdW5jdGlvbiBoYW5kbGVTZWxlY3RBbGwoZSkgew0KICAgICAgICAgICAgY29uc3QgaXNDaGVja2VkID0gZS50YXJnZXQuY2hlY2tlZDsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgaWYgKGlzQ2hlY2tlZCkgew0KICAgICAgICAgICAgICAgIGN1cnJlbnRGaWx0ZXJzID0ge307DQogICAgICAgICAgICAgICAgc2VhcmNoVGVybSA9ICcnOw0KICAgICAgICAgICAgICAgIHNlbGVjdGVkUm93cy5jbGVhcigpOw0KICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0YWJsZS1zZWFyY2gnKS52YWx1ZSA9ICcnOw0KICAgICAgICAgICAgICAgIGNsb3NlQWxsRmlsdGVyRHJvcGRvd25zKCk7DQogICAgICAgICAgICAgICAgcmVuZGVyVGFibGUoKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIGZ1bmN0aW9uIGhhbmRsZVJvd0NoZWNrYm94Q2hhbmdlKHJvd0lkLCBpc0NoZWNrZWQpIHsNCiAgICAgICAgICAgIGlmIChpc0NoZWNrZWQpIHsNCiAgICAgICAgICAgICAgICBzZWxlY3RlZFJvd3MuYWRkKHJvd0lkKTsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgc2VsZWN0ZWRSb3dzLmRlbGV0ZShyb3dJZCk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICBmdW5jdGlvbiBmaWx0ZXJTZWxlY3RlZFJvd3MoKSB7DQogICAgICAgICAgICBpZiAoc2VsZWN0ZWRSb3dzLnNpemUgPT09IDApIHsNCiAgICAgICAgICAgICAgICBhbGVydCgn0JLRi9Cx0LXRgNC40YLQtSDRgdGC0YDQvtC60Lgg0LTQu9GPINGE0LjQu9GM0YLRgNCw0YbQuNC4IScpOw0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIA0KICAgICAgICAgICAgY3VycmVudEZpbHRlcnMuc2VsZWN0ZWRSb3dzID0gQXJyYXkuZnJvbShzZWxlY3RlZFJvd3MpOw0KICAgICAgICAgICAgcmVuZGVyVGFibGUoKTsNCiAgICAgICAgfQ0KDQogICAgICAgIC8vINCk0KPQndCa0KbQmNCvINCf0J7QmNCh0JrQkA0KICAgICAgICBmdW5jdGlvbiBoYW5kbGVTZWFyY2goZSkgew0KICAgICAgICAgICAgc2VhcmNoVGVybSA9IGUudGFyZ2V0LnZhbHVlLnRvTG93ZXJDYXNlKCkudHJpbSgpOw0KICAgICAgICAgICAgcmVuZGVyVGFibGUoKTsNCiAgICAgICAgfQ0KDQogICAgICAgIGZ1bmN0aW9uIGNsZWFyU2VhcmNoKCkgew0KICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RhYmxlLXNlYXJjaCcpLnZhbHVlID0gJyc7DQogICAgICAgICAgICBzZWFyY2hUZXJtID0gJyc7DQogICAgICAgICAgICByZW5kZXJUYWJsZSgpOw0KICAgICAgICB9DQoNCiAgICAgICAgZnVuY3Rpb24gYXBwbHlTZWFyY2goZGF0YSkgew0KICAgICAgICAgICAgaWYgKCFzZWFyY2hUZXJtKSByZXR1cm4gZGF0YTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgcmV0dXJuIGRhdGEuZmlsdGVyKHJvdyA9PiB7DQogICAgICAgICAgICAgICAgY29uc3Qgc2VhcmNoYWJsZUZpZWxkcyA9IFsNCiAgICAgICAgICAgICAgICAgICAgcm93LmlkLnRvU3RyaW5nKCksDQogICAgICAgICAgICAgICAgICAgIHJvdy5uYW1lIHx8ICcnLA0KICAgICAgICAgICAgICAgICAgICByb3cuZGF0ZSB8fCAnJywNCiAgICAgICAgICAgICAgICAgICAgcm93LnN0YXR1cyB8fCAnJw0KICAgICAgICAgICAgICAgIF07DQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgaWYgKHJvdy5jdXN0b21EYXRhKSB7DQogICAgICAgICAgICAgICAgICAgIE9iamVjdC52YWx1ZXMocm93LmN1c3RvbURhdGEpLmZvckVhY2godmFsdWUgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgc2VhcmNoYWJsZUZpZWxkcy5wdXNoKHZhbHVlLnRvU3RyaW5nKCkpOw0KICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgcmV0dXJuIHNlYXJjaGFibGVGaWVsZHMuc29tZShmaWVsZCA9PiANCiAgICAgICAgICAgICAgICAgICAgZmllbGQudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2hUZXJtKQ0KICAgICAgICAgICAgICAgICk7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgfQ0KDQogICAgICAgIC8vINCY0KHQn9Cg0JDQktCb0JXQndCd0JDQryDQpNCj0J3QmtCm0JjQryDQrdCa0KHQn9Ce0KDQotCQINCSIEVYQ0VMDQogICAgICAgIGZ1bmN0aW9uIGV4cG9ydFRvRXhjZWwoKSB7DQogICAgICAgICAgICBjb25zdCBleHBvcnREYXRhID0gW107DQogICAgICAgICAgICBjb25zdCBoZWFkZXJzID0gWyfihJYg0L8v0L8nLCAn0J3QsNC30LLQsNC90LjQtScsICfQlNCw0YLQsCDRgdC+0LfQtNCw0L3QuNGPJywgJ9Ch0YLQsNGC0YPRgSddOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBjdXN0b21Db2x1bW5zLmZvckVhY2goY29sID0+IHsNCiAgICAgICAgICAgICAgICBoZWFkZXJzLnB1c2goY29sLm5hbWUpOw0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICANCiAgICAgICAgICAgIGV4cG9ydERhdGEucHVzaChoZWFkZXJzKTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgdGFibGVEYXRhLmZvckVhY2gocm93ID0+IHsNCiAgICAgICAgICAgICAgICBjb25zdCByb3dEYXRhID0gWw0KICAgICAgICAgICAgICAgICAgICByb3cuZGlzcGxheUlkIHx8IHJvdy5pZCwNCiAgICAgICAgICAgICAgICAgICAgcm93Lm5hbWUgfHwgJycsDQogICAgICAgICAgICAgICAgICAgIHJvdy5kYXRlIHx8ICcnLA0KICAgICAgICAgICAgICAgICAgICByb3cuc3RhdHVzIHx8ICcnDQogICAgICAgICAgICAgICAgXTsNCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICBjdXN0b21Db2x1bW5zLmZvckVhY2goY29sID0+IHsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSByb3cuY3VzdG9tRGF0YSAmJiByb3cuY3VzdG9tRGF0YVtjb2wuaWRdID8gcm93LmN1c3RvbURhdGFbY29sLmlkXSA6ICcnOw0KICAgICAgICAgICAgICAgICAgICByb3dEYXRhLnB1c2godmFsdWUpOw0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIGV4cG9ydERhdGEucHVzaChyb3dEYXRhKTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBsZXQgY3N2Q29udGVudCA9ICdcdUZFRkYnOw0KICAgICAgICAgICAgZXhwb3J0RGF0YS5mb3JFYWNoKHJvdyA9PiB7DQogICAgICAgICAgICAgICAgY29uc3QgZXNjYXBlZFJvdyA9IHJvdy5tYXAoZmllbGQgPT4gew0KICAgICAgICAgICAgICAgICAgICBpZiAoZmllbGQgPT09IG51bGwgfHwgZmllbGQgPT09IHVuZGVmaW5lZCkgcmV0dXJuICcnOw0KICAgICAgICAgICAgICAgICAgICBjb25zdCBzdHJpbmdGaWVsZCA9IFN0cmluZyhmaWVsZCk7DQogICAgICAgICAgICAgICAgICAgIGlmIChzdHJpbmdGaWVsZC5pbmNsdWRlcygnLCcpIHx8IHN0cmluZ0ZpZWxkLmluY2x1ZGVzKCciJykgfHwgc3RyaW5nRmllbGQuaW5jbHVkZXMoJ1xuJykpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnIicgKyBzdHJpbmdGaWVsZC5yZXBsYWNlKC8iL2csICciIicpICsgJyInOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBzdHJpbmdGaWVsZDsNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICBjc3ZDb250ZW50ICs9IGVzY2FwZWRSb3cuam9pbignOycpICsgJ1xuJzsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBjb25zdCBibG9iID0gbmV3IEJsb2IoW2NzdkNvbnRlbnRdLCB7IHR5cGU6ICd0ZXh0L2NzdjtjaGFyc2V0PXV0Zi04OycgfSk7DQogICAgICAgICAgICBjb25zdCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpOw0KICAgICAgICAgICAgY29uc3QgdXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgY29uc3QgY3VycmVudFRhYiA9IHRhYnMuZmluZCh0YWIgPT4gdGFiLmlkID09PSBjdXJyZW50VGFiSWQpOw0KICAgICAgICAgICAgY29uc3QgZmlsZU5hbWUgPSBjdXJyZW50VGFiID8gY3VycmVudFRhYi5uYW1lIDogJ9GC0LDQsdC70LjRhtCwJzsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgbGluay5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCB1cmwpOw0KICAgICAgICAgICAgbGluay5zZXRBdHRyaWJ1dGUoJ2Rvd25sb2FkJywgYCR7ZmlsZU5hbWV9XyR7Zm9ybWF0RGF0ZShuZXcgRGF0ZSgpKX0uY3N2YCk7DQogICAgICAgICAgICBsaW5rLnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJzsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChsaW5rKTsNCiAgICAgICAgICAgIGxpbmsuY2xpY2soKTsNCiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQobGluayk7DQogICAgICAgICAgICANCiAgICAgICAgICAgIGFsZXJ0KGDQlNCw0L3QvdGL0LUg0LjQtyAiJHtmaWxlTmFtZX0iINGD0YHQv9C10YjQvdC+INGN0LrRgdC/0L7RgNGC0LjRgNC+0LLQsNC90Ysg0LIgQ1NWINGE0LDQudC7IWApOw0KICAgICAgICB9DQoNCiAgICAgICAgLy8g0J7QkdCd0J7QktCb0JXQndCd0JDQryDQpNCj0J3QmtCm0JjQryDQoNCV0J3QlNCV0KDQkCDQotCQ0JHQm9CY0KbQqw0KICAgICAgICBmdW5jdGlvbiByZW5kZXJUYWJsZSgpIHsNCiAgICAgICAgICAgIGNvbnN0IHRoZWFkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2RhdGEtdGFibGUgdGhlYWQgdHInKTsNCiAgICAgICAgICAgIGNvbnN0IHRib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2RhdGEtdGFibGUgdGJvZHknKTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgdGhlYWQuaW5uZXJIVE1MID0gJyc7DQogICAgICAgICAgICANCiAgICAgICAgICAgIGNvbnN0IHNlbGVjdEFsbFRoID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGgnKTsNCiAgICAgICAgICAgIHNlbGVjdEFsbFRoLnN0eWxlLm1pbldpZHRoID0gJzUwcHgnOw0KICAgICAgICAgICAgc2VsZWN0QWxsVGguc3R5bGUubWF4V2lkdGggPSAnNjBweCc7DQogICAgICAgICAgICBzZWxlY3RBbGxUaC5zdHlsZS53aWR0aCA9ICc1MHB4JzsNCiAgICAgICAgICAgIGNvbnN0IHNlbGVjdEFsbENoZWNrYm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTsNCiAgICAgICAgICAgIHNlbGVjdEFsbENoZWNrYm94LnR5cGUgPSAnY2hlY2tib3gnOw0KICAgICAgICAgICAgc2VsZWN0QWxsQ2hlY2tib3guY2xhc3NOYW1lID0gJ3NlbGVjdC1hbGwtY2hlY2tib3gnOw0KICAgICAgICAgICAgc2VsZWN0QWxsQ2hlY2tib3guaWQgPSAnc2VsZWN0LWFsbC1jaGVja2JveCc7DQogICAgICAgICAgICBzZWxlY3RBbGxDaGVja2JveC50aXRsZSA9ICfQn9C+0LrQsNC30LDRgtGMINCy0YHQtSDRgdGC0YDQvtC60LgnOw0KICAgICAgICAgICAgc2VsZWN0QWxsQ2hlY2tib3guY2hlY2tlZCA9IE9iamVjdC5rZXlzKGN1cnJlbnRGaWx0ZXJzKS5sZW5ndGggPT09IDAgJiYgc2VhcmNoVGVybSA9PT0gJyc7DQogICAgICAgICAgICBzZWxlY3RBbGxDaGVja2JveC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBoYW5kbGVTZWxlY3RBbGwpOw0KICAgICAgICAgICAgc2VsZWN0QWxsVGguYXBwZW5kQ2hpbGQoc2VsZWN0QWxsQ2hlY2tib3gpOw0KICAgICAgICAgICAgdGhlYWQuYXBwZW5kQ2hpbGQoc2VsZWN0QWxsVGgpOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBiYXNpY0NvbHVtbnMuZm9yRWFjaCgoY29sdW1uLCBpbmRleCkgPT4gew0KICAgICAgICAgICAgICAgIGNvbnN0IHRoID0gY3JlYXRlSGVhZGVyQ2VsbChjb2x1bW4sIGluZGV4LCAnYmFzaWMnKTsNCiAgICAgICAgICAgICAgICB0aGVhZC5hcHBlbmRDaGlsZCh0aCk7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgY3VzdG9tQ29sdW1ucy5mb3JFYWNoKChjb2x1bW4sIGluZGV4KSA9PiB7DQogICAgICAgICAgICAgICAgY29uc3QgdGggPSBjcmVhdGVIZWFkZXJDZWxsKGNvbHVtbiwgaW5kZXgsICdjdXN0b20nKTsNCiAgICAgICAgICAgICAgICB0aGVhZC5hcHBlbmRDaGlsZCh0aCk7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgaWYgKGN1cnJlbnRVc2VyICYmIGN1cnJlbnRVc2VyLnJvbGUgPT09ICdhZG1pbicpIHsNCiAgICAgICAgICAgICAgICBjb25zdCBhY3Rpb25zVGggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0aCcpOw0KICAgICAgICAgICAgICAgIGFjdGlvbnNUaC5jbGFzc05hbWUgPSAnYWRtaW4tb25seSBhY3Rpb25zLWhlYWRlcic7DQogICAgICAgICAgICAgICAgYWN0aW9uc1RoLmlubmVySFRNTCA9IGANCiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0idGgtY29udGVudCI+DQogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJ0aC1tYWluIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJ0aC10aXRsZSI+w5c8L2Rpdj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmaWx0ZXItY29udHJvbHMiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgIGA7DQogICAgICAgICAgICAgICAgYWN0aW9uc1RoLnN0eWxlLm1pbldpZHRoID0gJzQwcHgnOw0KICAgICAgICAgICAgICAgIGFjdGlvbnNUaC5zdHlsZS5tYXhXaWR0aCA9ICc1MHB4JzsNCiAgICAgICAgICAgICAgICBhY3Rpb25zVGguc3R5bGUud2lkdGggPSAnNDBweCc7DQogICAgICAgICAgICAgICAgYWN0aW9uc1RoLnN0eWxlLnpJbmRleCA9ICcxMCc7DQogICAgICAgICAgICAgICAgdGhlYWQuYXBwZW5kQ2hpbGQoYWN0aW9uc1RoKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIA0KICAgICAgICAgICAgdGJvZHkuaW5uZXJIVE1MID0gJyc7DQogICAgICAgICAgICANCiAgICAgICAgICAgIGxldCBmaWx0ZXJlZERhdGEgPSBhcHBseUZpbHRlcnModGFibGVEYXRhKTsNCiAgICAgICAgICAgIGZpbHRlcmVkRGF0YSA9IGFwcGx5U2VhcmNoKGZpbHRlcmVkRGF0YSk7DQogICAgICAgICAgICBsZXQgc29ydGVkRGF0YSA9IGFwcGx5U29ydGluZyhmaWx0ZXJlZERhdGEpOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBzb3J0ZWREYXRhLmZvckVhY2goKHJvd0RhdGEsIGluZGV4KSA9PiB7DQogICAgICAgICAgICAgICAgcm93RGF0YS5kaXNwbGF5SWQgPSBpbmRleCArIDE7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgc29ydGVkRGF0YS5mb3JFYWNoKHJvd0RhdGEgPT4gew0KICAgICAgICAgICAgICAgIGNvbnN0IHJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RyJyk7DQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgY29uc3QgY2hlY2tib3hUZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7DQogICAgICAgICAgICAgICAgY29uc3QgY2hlY2tib3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpOw0KICAgICAgICAgICAgICAgIGNoZWNrYm94LnR5cGUgPSAnY2hlY2tib3gnOw0KICAgICAgICAgICAgICAgIGNoZWNrYm94LmNsYXNzTmFtZSA9ICdyb3ctY2hlY2tib3gnOw0KICAgICAgICAgICAgICAgIGNoZWNrYm94LmRhdGFzZXQucm93SWQgPSByb3dEYXRhLmlkOw0KICAgICAgICAgICAgICAgIGNoZWNrYm94LmNoZWNrZWQgPSBzZWxlY3RlZFJvd3MuaGFzKHJvd0RhdGEuaWQpOw0KICAgICAgICAgICAgICAgIGNoZWNrYm94LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIChlKSA9PiB7DQogICAgICAgICAgICAgICAgICAgIGhhbmRsZVJvd0NoZWNrYm94Q2hhbmdlKHJvd0RhdGEuaWQsIGUudGFyZ2V0LmNoZWNrZWQpOw0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIGNoZWNrYm94VGQuYXBwZW5kQ2hpbGQoY2hlY2tib3gpOw0KICAgICAgICAgICAgICAgIHJvdy5hcHBlbmRDaGlsZChjaGVja2JveFRkKTsNCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICBiYXNpY0NvbHVtbnMuZm9yRWFjaChjb2x1bW4gPT4gew0KICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZCA9IGNyZWF0ZURhdGFDZWxsKHJvd0RhdGEsIGNvbHVtbiwgJ2Jhc2ljJyk7DQogICAgICAgICAgICAgICAgICAgIHJvdy5hcHBlbmRDaGlsZCh0ZCk7DQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgY3VzdG9tQ29sdW1ucy5mb3JFYWNoKGNvbHVtbiA9PiB7DQogICAgICAgICAgICAgICAgICAgIGNvbnN0IHRkID0gY3JlYXRlRGF0YUNlbGwocm93RGF0YSwgY29sdW1uLCAnY3VzdG9tJyk7DQogICAgICAgICAgICAgICAgICAgIHJvdy5hcHBlbmRDaGlsZCh0ZCk7DQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRVc2VyICYmIGN1cnJlbnRVc2VyLnJvbGUgPT09ICdhZG1pbicpIHsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWN0aW9uc1RkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTsNCiAgICAgICAgICAgICAgICAgICAgYWN0aW9uc1RkLmNsYXNzTmFtZSA9ICdhZG1pbi1vbmx5JzsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVsZXRlQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7DQogICAgICAgICAgICAgICAgICAgIGRlbGV0ZUJ0bi5jbGFzc05hbWUgPSAnZGVsZXRlLXJvdy1idG4nOw0KICAgICAgICAgICAgICAgICAgICBkZWxldGVCdG4uaW5uZXJIVE1MID0gJ8OXJzsNCiAgICAgICAgICAgICAgICAgICAgZGVsZXRlQnRuLnRpdGxlID0gJ9Cj0LTQsNC70LjRgtGMINGB0YLRgNC+0LrRgyc7DQogICAgICAgICAgICAgICAgICAgIGRlbGV0ZUJ0bi5vbmNsaWNrID0gKCkgPT4gZGVsZXRlUm93KHJvd0RhdGEuaWQpOw0KICAgICAgICAgICAgICAgICAgICBhY3Rpb25zVGQuYXBwZW5kQ2hpbGQoZGVsZXRlQnRuKTsNCiAgICAgICAgICAgICAgICAgICAgcm93LmFwcGVuZENoaWxkKGFjdGlvbnNUZCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIHRib2R5LmFwcGVuZENoaWxkKHJvdyk7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgY29uc3QgY3VycmVudFRhYiA9IHRhYnMuZmluZCh0YWIgPT4gdGFiLmlkID09PSBjdXJyZW50VGFiSWQpOw0KICAgICAgICAgICAgaWYgKGN1cnJlbnRUYWIpIHsNCiAgICAgICAgICAgICAgICBjdXJyZW50VGFiLmRhdGEgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRhYmxlRGF0YSkpOw0KICAgICAgICAgICAgICAgIHN0b3JhZ2VNYW5hZ2VyLnNhdmVUb0xvY2FsU3RvcmFnZSh0YWJsZURhdGEsIHVzZXJzLCBhcHBTZXR0aW5ncywgY3VzdG9tQnV0dG9ucywgY3VzdG9tQ29sdW1ucywgYmFzaWNDb2x1bW5zLCBkYXRlVmFsaWRhdGlvbkNvbHVtbnMsIHRhYnMpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgZnVuY3Rpb24gY3JlYXRlSGVhZGVyQ2VsbChjb2x1bW4sIGluZGV4LCB0eXBlKSB7DQogICAgICAgICAgICBjb25zdCB0aCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RoJyk7DQogICAgICAgICAgICB0aC5kYXRhc2V0LmNvbHVtbklkID0gY29sdW1uLmlkOw0KICAgICAgICAgICAgdGguZGF0YXNldC5jb2x1bW5UeXBlID0gdHlwZTsNCiAgICAgICAgICAgIHRoLmRhdGFzZXQuY29sdW1uSW5kZXggPSBpbmRleDsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdjdXN0b20nKSB7DQogICAgICAgICAgICAgICAgdGguZGF0YXNldC5jb2x1bW5OYW1lID0gY29sdW1uLm5hbWU7DQogICAgICAgICAgICB9DQogICAgICAgICAgICANCiAgICAgICAgICAgIGNvbnN0IHRoQ29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOw0KICAgICAgICAgICAgdGhDb250ZW50LmNsYXNzTmFtZSA9ICd0aC1jb250ZW50JzsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgY29uc3QgdGhNYWluID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7DQogICAgICAgICAgICB0aE1haW4uY2xhc3NOYW1lID0gJ3RoLW1haW4nOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBjb25zdCB0aFRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7DQogICAgICAgICAgICB0aFRpdGxlLmNsYXNzTmFtZSA9ICd0aC10aXRsZSc7DQogICAgICAgICAgICB0aFRpdGxlLnRleHRDb250ZW50ID0gY29sdW1uLm5hbWU7DQogICAgICAgICAgICANCiAgICAgICAgICAgIGlmIChjdXJyZW50U29ydC5jb2x1bW4gPT09IGNvbHVtbi5pZCkgew0KICAgICAgICAgICAgICAgIHRoVGl0bGUuY2xhc3NMaXN0LmFkZChgc29ydC0ke2N1cnJlbnRTb3J0LmRpcmVjdGlvbn1gKTsNCiAgICAgICAgICAgICAgICBjb25zdCBzb3J0SW5kaWNhdG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpOw0KICAgICAgICAgICAgICAgIHNvcnRJbmRpY2F0b3IuY2xhc3NOYW1lID0gJ3NvcnQtaW5kaWNhdG9yJzsNCiAgICAgICAgICAgICAgICB0aFRpdGxlLmFwcGVuZENoaWxkKHNvcnRJbmRpY2F0b3IpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgDQogICAgICAgICAgICBjb25zdCBmaWx0ZXJDb250cm9scyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOw0KICAgICAgICAgICAgZmlsdGVyQ29udHJvbHMuY2xhc3NOYW1lID0gJ2ZpbHRlci1jb250cm9scyc7DQogICAgICAgICAgICANCiAgICAgICAgICAgIGNvbnN0IHNvcnRCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTsNCiAgICAgICAgICAgIHNvcnRCdG4uY2xhc3NOYW1lID0gJ3NvcnQtYnRuJzsNCiAgICAgICAgICAgIHNvcnRCdG4uaW5uZXJIVE1MID0gJ+KGlSc7DQogICAgICAgICAgICBzb3J0QnRuLnRpdGxlID0gJ9Ch0L7RgNGC0LjRgNC+0LLQutCwJzsNCiAgICAgICAgICAgIHNvcnRCdG4ub25jbGljayA9IChlKSA9PiB7DQogICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsNCiAgICAgICAgICAgICAgICBoYW5kbGVTb3J0KGNvbHVtbi5pZCk7DQogICAgICAgICAgICB9Ow0KICAgICAgICAgICAgDQogICAgICAgICAgICBjb25zdCBmaWx0ZXJCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTsNCiAgICAgICAgICAgIGZpbHRlckJ0bi5jbGFzc05hbWUgPSAnZmlsdGVyLWJ0bic7DQogICAgICAgICAgICBmaWx0ZXJCdG4uaW5uZXJIVE1MID0gJ+KMlSc7DQogICAgICAgICAgICBmaWx0ZXJCdG4udGl0bGUgPSAn0KTQuNC70YzRgtGAJzsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgaWYgKGN1cnJlbnRGaWx0ZXJzW2NvbHVtbi5pZF0pIHsNCiAgICAgICAgICAgICAgICBmaWx0ZXJCdG4uY2xhc3NMaXN0LmFkZCgnZmlsdGVyZWQnKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIA0KICAgICAgICAgICAgZmlsdGVyQnRuLm9uY2xpY2sgPSAoZSkgPT4gew0KICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7DQogICAgICAgICAgICAgICAgdG9nZ2xlRmlsdGVyKGNvbHVtbi5pZCwgZmlsdGVyQnRuLCB0aCk7DQogICAgICAgICAgICB9Ow0KICAgICAgICAgICAgDQogICAgICAgICAgICBmaWx0ZXJDb250cm9scy5hcHBlbmRDaGlsZChzb3J0QnRuKTsNCiAgICAgICAgICAgIGZpbHRlckNvbnRyb2xzLmFwcGVuZENoaWxkKGZpbHRlckJ0bik7DQogICAgICAgICAgICANCiAgICAgICAgICAgIHRoTWFpbi5hcHBlbmRDaGlsZCh0aFRpdGxlKTsNCiAgICAgICAgICAgIHRoTWFpbi5hcHBlbmRDaGlsZChmaWx0ZXJDb250cm9scyk7DQogICAgICAgICAgICB0aENvbnRlbnQuYXBwZW5kQ2hpbGQodGhNYWluKTsNCiAgICAgICAgICAgIHRoLmFwcGVuZENoaWxkKHRoQ29udGVudCk7DQogICAgICAgICAgICANCiAgICAgICAgICAgIGlmIChjdXJyZW50VXNlciAmJiBjdXJyZW50VXNlci5yb2xlID09PSAnYWRtaW4nICYmICh0eXBlID09PSAnY3VzdG9tJyB8fCBjb2x1bW4uZWRpdGFibGUpKSB7DQogICAgICAgICAgICAgICAgdGguY2xhc3NMaXN0LmFkZCgnZWRpdGFibGUtaGVhZGVyJyk7DQogICAgICAgICAgICAgICAgdGguc3R5bGUuY3Vyc29yID0gJ3BvaW50ZXInOw0KICAgICAgICAgICAgICAgIHRoLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKCFlLnRhcmdldC5jbG9zZXN0KCcuZmlsdGVyLWNvbnRyb2xzJykpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7DQogICAgICAgICAgICAgICAgICAgICAgICBvcGVuRWRpdEhlYWRlck1vZGFsKHRoKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgDQogICAgICAgICAgICByZXR1cm4gdGg7DQogICAgICAgIH0NCg0KICAgICAgICAvLyDQn9Ce0JvQndCe0KHQotCs0K4g0J/QldCg0JXQoNCQ0JHQntCi0JDQndCd0JDQryDQpNCj0J3QmtCm0JjQryDQodCe0JfQlNCQ0J3QmNCvINCv0KfQldCZ0JrQmCDQlNCQ0J3QndCr0KUNCiAgICAgICAgZnVuY3Rpb24gY3JlYXRlRGF0YUNlbGwocm93RGF0YSwgY29sdW1uLCB0eXBlKSB7DQogICAgICAgICAgICBjb25zdCB0ZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7DQogICAgICAgICAgICANCiAgICAgICAgICAgIGNvbnN0IGlzRGF0ZUNvbHVtbiA9IGRhdGVWYWxpZGF0aW9uQ29sdW1uc1tjb2x1bW4uaWRdOw0KICAgICAgICAgICAgDQogICAgICAgICAgICB0ZC5kYXRhc2V0LmNvbHVtbklkID0gY29sdW1uLmlkOw0KICAgICAgICAgICAgdGQuZGF0YXNldC5yb3dJZCA9IHJvd0RhdGEuaWQ7DQogICAgICAgICAgICANCiAgICAgICAgICAgIGlmICh0eXBlID09PSAnY3VzdG9tJykgew0KICAgICAgICAgICAgICAgIHRkLmRhdGFzZXQuY29sdW1uTmFtZSA9IGNvbHVtbi5uYW1lOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgDQogICAgICAgICAgICBsZXQgdmFsdWUgPSAnJzsNCiAgICAgICAgICAgIGlmICh0eXBlID09PSAnYmFzaWMnKSB7DQogICAgICAgICAgICAgICAgc3dpdGNoKGNvbHVtbi5pZCkgew0KICAgICAgICAgICAgICAgICAgICBjYXNlICdpZCc6IHZhbHVlID0gcm93RGF0YS5kaXNwbGF5SWQgfHwgcm93RGF0YS5pZDsgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgIGNhc2UgJ25hbWUnOiB2YWx1ZSA9IHJvd0RhdGEubmFtZSB8fCAnJzsgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgIGNhc2UgJ2RhdGUnOiB2YWx1ZSA9IHJvd0RhdGEuZGF0ZSB8fCAnJzsgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgIGNhc2UgJ3N0YXR1cyc6IHZhbHVlID0gcm93RGF0YS5zdGF0dXMgfHwgJyc7IGJyZWFrOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgdmFsdWUgPSByb3dEYXRhLmN1c3RvbURhdGEgJiYgcm93RGF0YS5jdXN0b21EYXRhW2NvbHVtbi5pZF0gDQogICAgICAgICAgICAgICAgICAgID8gcm93RGF0YS5jdXN0b21EYXRhW2NvbHVtbi5pZF0gDQogICAgICAgICAgICAgICAgICAgIDogJyc7DQogICAgICAgICAgICB9DQogICAgICAgICAgICANCiAgICAgICAgICAgIGNvbnN0IGNlbGxDb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7DQogICAgICAgICAgICBjZWxsQ29udGVudC5jbGFzc05hbWUgPSAnY2VsbC1jb250ZW50JzsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgY29uc3QgY2VsbFRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsNCiAgICAgICAgICAgIGNlbGxUZXh0LmNsYXNzTmFtZSA9ICdjZWxsLXRleHQnOw0KICAgICAgICAgICAgY2VsbFRleHQudGV4dENvbnRlbnQgPSB2YWx1ZTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgY29uc3QgZmlsZUljb25zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7DQogICAgICAgICAgICBmaWxlSWNvbnMuY2xhc3NOYW1lID0gJ2ZpbGUtaWNvbnMnOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBpZiAocm93RGF0YS5hdHRhY2htZW50cyAmJiByb3dEYXRhLmF0dGFjaG1lbnRzW2NvbHVtbi5pZF0pIHsNCiAgICAgICAgICAgICAgICBhZGRGaWxlSWNvbnNUb0NlbGwoZmlsZUljb25zLCByb3dEYXRhLmF0dGFjaG1lbnRzW2NvbHVtbi5pZF0sIHJvd0RhdGEuaWQsIGNvbHVtbi5pZCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICANCiAgICAgICAgICAgIGNlbGxDb250ZW50LmFwcGVuZENoaWxkKGNlbGxUZXh0KTsNCiAgICAgICAgICAgIGNlbGxDb250ZW50LmFwcGVuZENoaWxkKGZpbGVJY29ucyk7DQogICAgICAgICAgICB0ZC5hcHBlbmRDaGlsZChjZWxsQ29udGVudCk7DQogICAgICAgICAgICANCiAgICAgICAgICAgIC8vINCe0LHRgNCw0LHQvtGC0YfQuNC60Lgg0YHQvtCx0YvRgtC40Lkg0LTQu9GPINGP0YfQtdC50LrQuA0KICAgICAgICAgICAgaWYgKGN1cnJlbnRVc2VyICYmIGN1cnJlbnRVc2VyLnJvbGUgPT09ICdhZG1pbicpIHsNCiAgICAgICAgICAgICAgICBpZiAoaXNEYXRlQ29sdW1uKSB7DQogICAgICAgICAgICAgICAgICAgIC8vINCU0LvRjyDRj9GH0LXQtdC6INGBINC00LDRgtCw0LzQuCAtINGB0L/QtdGG0LjQsNC70YzQvdCw0Y8g0L7QsdGA0LDQsdC+0YLQutCwDQogICAgICAgICAgICAgICAgICAgIHRkLmNsYXNzTGlzdC5hZGQoJ2RhdGUtY2VsbCcpOw0KICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgdGQuYWRkRXZlbnRMaXN0ZW5lcignZGJsY2xpY2snLCAoZSkgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFlLnRhcmdldC5jbG9zZXN0KCcuZmlsZS1pY29ucycpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BlbkRhdGVJbnB1dCh0ZCwgdmFsdWUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgIHRkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZS50YXJnZXQuY2xvc2VzdCgnLmZpbGUtaWNvbnMnKSAmJiAhZS50YXJnZXQuY2xvc2VzdCgnLmRhdGUtaW5wdXQtb3ZlcmxheScpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BlbkRhdGVQaWNrZXIodGQsIHZhbHVlKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgJiYgaXNWYWxpZERhdGUodmFsdWUpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKCk7DQogICAgICAgICAgICAgICAgICAgICAgICB0b2RheS5zZXRIb3VycygwLCAwLCAwLCAwKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNlbGxEYXRlID0gcGFyc2VEYXRlKHZhbHVlKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRpbWVEaWZmID0gY2VsbERhdGUuZ2V0VGltZSgpIC0gdG9kYXkuZ2V0VGltZSgpOw0KICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF5c0RpZmYgPSBNYXRoLmNlaWwodGltZURpZmYgLyAoMTAwMCAqIDM2MDAgKiAyNCkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF5c0RpZmYgPCAwKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGQuY2xhc3NMaXN0LmFkZCgnZGF0ZS1jZWxsLWRhbmdlcicpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChkYXlzRGlmZiA8PSAzMCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRkLmNsYXNzTGlzdC5hZGQoJ2RhdGUtY2VsbC13YXJuaW5nJyk7DQogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRkLmNsYXNzTGlzdC5yZW1vdmUoJ2RhdGUtY2VsbC13YXJuaW5nJywgJ2RhdGUtY2VsbC1kYW5nZXInKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIC8vINCU0LvRjyDQvtCx0YvRh9C90YvRhSDRgtC10LrRgdGC0L7QstGL0YUg0Y/Rh9C10LXQuiAtINC90L7QstGL0Lkg0LDQu9Cz0L7RgNC40YLQvA0KICAgICAgICAgICAgICAgICAgICBsZXQgY2xpY2tUaW1lciA9IG51bGw7DQogICAgICAgICAgICAgICAgICAgIGxldCBpc0VkaXRpbmcgPSBmYWxzZTsNCiAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgIC8vINCe0LTQuNC90LDRgNC90YvQuSDQutC70LjQuiAtINGA0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40LUg0YLQtdC60YHRgtCwDQogICAgICAgICAgICAgICAgICAgIHRkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jbG9zZXN0KCcuZmlsZS1pY29ucycpIHx8IGlzRWRpdGluZykgcmV0dXJuOw0KICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2xpY2tUaW1lcikgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChjbGlja1RpbWVyKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGlja1RpbWVyID0gbnVsbDsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgICAgIGNsaWNrVGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDQntC00LjQvdCw0YDQvdGL0Lkg0LrQu9C40LogLSDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNC1INGC0LXQutGB0YLQsA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0VGV4dEVkaXRpbmcodGQsIHJvd0RhdGEsIGNvbHVtbiwgdHlwZSwgdmFsdWUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzRWRpdGluZyA9IHRydWU7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpY2tUaW1lciA9IG51bGw7DQogICAgICAgICAgICAgICAgICAgICAgICB9LCAzMDApOw0KICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgIC8vINCU0LLQvtC50L3QvtC5INC60LvQuNC6IC0g0L7RgtC60YDRi9GC0LjQtSDQvNC+0LTQsNC70YzQvdC+0LPQviDQvtC60L3QsCDQtNC70Y8g0YTQsNC50LvQvtCyDQogICAgICAgICAgICAgICAgICAgIHRkLmFkZEV2ZW50TGlzdGVuZXIoJ2RibGNsaWNrJywgKGUpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jbG9zZXN0KCcuZmlsZS1pY29ucycpIHx8IGlzRWRpdGluZykgcmV0dXJuOw0KICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2xpY2tUaW1lcikgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChjbGlja1RpbWVyKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGlja1RpbWVyID0gbnVsbDsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICAgICAgLy8g0JTQstC+0LnQvdC+0Lkg0LrQu9C40LogLSDQvtGC0LrRgNGL0YLQuNC1INC80L7QtNCw0LvRjNC90L7Qs9C+INC+0LrQvdCwINC00LvRjyDRhNCw0LnQu9C+0LINCiAgICAgICAgICAgICAgICAgICAgICAgIG9wZW5GaWxlTWFuYWdlbWVudE1vZGFsKHJvd0RhdGEuaWQsIGNvbHVtbi5pZCk7DQogICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgLy8g0JTQvtCx0LDQstC70Y/QtdC8INCy0LjQt9GD0LDQu9GM0L3Ri9C5INC60YPRgNGB0L7RgCDQtNC70Y8g0YPQutCw0LfQsNC90LjRjyDQstC+0LfQvNC+0LbQvdC+0YHRgtC4INGA0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40Y8NCiAgICAgICAgICAgICAgICAgICAgdGQuc3R5bGUuY3Vyc29yID0gJ3RleHQnOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIA0KICAgICAgICAgICAgcmV0dXJuIHRkOw0KICAgICAgICB9DQoNCiAgICAgICAgLy8g0J3QntCS0JDQryDQpNCj0J3QmtCm0JjQryDQlNCb0K8g0KDQldCU0JDQmtCi0JjQoNCe0JLQkNCd0JjQryDQotCV0JrQodCi0JANCiAgICAgICAgZnVuY3Rpb24gc3RhcnRUZXh0RWRpdGluZyhjZWxsLCByb3dEYXRhLCBjb2x1bW4sIHR5cGUsIGN1cnJlbnRWYWx1ZSkgew0KICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxDb250ZW50ID0gY2VsbC5pbm5lckhUTUw7DQogICAgICAgICAgICANCiAgICAgICAgICAgIC8vINCh0L7Qt9C00LDQtdC8IGlucHV0INC00LvRjyDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPDQogICAgICAgICAgICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7DQogICAgICAgICAgICBpbnB1dC50eXBlID0gJ3RleHQnOw0KICAgICAgICAgICAgaW5wdXQudmFsdWUgPSBjdXJyZW50VmFsdWUgfHwgJyc7DQogICAgICAgICAgICBpbnB1dC5zdHlsZS53aWR0aCA9ICcxMDAlJzsNCiAgICAgICAgICAgIGlucHV0LnN0eWxlLmhlaWdodCA9ICcxMDAlJzsNCiAgICAgICAgICAgIGlucHV0LnN0eWxlLmJvcmRlciA9ICcycHggc29saWQgdmFyKC0tYWNjZW50LWNvbG9yKSc7DQogICAgICAgICAgICBpbnB1dC5zdHlsZS5iYWNrZ3JvdW5kID0gJ3ZhcigtLWJnLXByaW1hcnkpJzsNCiAgICAgICAgICAgIGlucHV0LnN0eWxlLmNvbG9yID0gJ3ZhcigtLXRleHQtcHJpbWFyeSknOw0KICAgICAgICAgICAgaW5wdXQuc3R5bGUucGFkZGluZyA9ICc0cHgnOw0KICAgICAgICAgICAgaW5wdXQuc3R5bGUuYm9yZGVyUmFkaXVzID0gJzRweCc7DQogICAgICAgICAgICBpbnB1dC5zdHlsZS5vdXRsaW5lID0gJ25vbmUnOw0KICAgICAgICAgICAgaW5wdXQuY2xhc3NOYW1lID0gJ2NlbGwtaW5wdXQnOw0KICAgICAgICAgICAgDQogICAgICAgICAgICAvLyDQl9Cw0LzQtdC90Y/QtdC8INGB0L7QtNC10YDQttC40LzQvtC1INGP0YfQtdC50LrQuCDQvdCwIGlucHV0DQogICAgICAgICAgICBjZWxsLmlubmVySFRNTCA9ICcnOw0KICAgICAgICAgICAgY2VsbC5hcHBlbmRDaGlsZChpbnB1dCk7DQogICAgICAgICAgICBpbnB1dC5mb2N1cygpOw0KICAgICAgICAgICAgaW5wdXQuc2VsZWN0KCk7DQogICAgICAgICAgICANCiAgICAgICAgICAgIC8vINCk0YPQvdC60YbQuNGPINGB0L7RhdGA0LDQvdC10L3QuNGPDQogICAgICAgICAgICBjb25zdCBzYXZlQ2hhbmdlcyA9ICgpID0+IHsNCiAgICAgICAgICAgICAgICBjb25zdCBuZXdWYWx1ZSA9IGlucHV0LnZhbHVlLnRyaW0oKTsNCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gJ2Jhc2ljJykgew0KICAgICAgICAgICAgICAgICAgICBzd2l0Y2goY29sdW1uLmlkKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICduYW1lJzogcm93RGF0YS5uYW1lID0gbmV3VmFsdWU7IGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnc3RhdHVzJzogcm93RGF0YS5zdGF0dXMgPSBuZXdWYWx1ZTsgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29sdW1uLmVkaXRhYmxlKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvd0RhdGFbY29sdW1uLmlkXSA9IG5ld1ZhbHVlOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIGlmICghcm93RGF0YS5jdXN0b21EYXRhKSByb3dEYXRhLmN1c3RvbURhdGEgPSB7fTsNCiAgICAgICAgICAgICAgICAgICAgcm93RGF0YS5jdXN0b21EYXRhW2NvbHVtbi5pZF0gPSBuZXdWYWx1ZTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgY29uc3QgY3VycmVudFRhYiA9IHRhYnMuZmluZCh0YWIgPT4gdGFiLmlkID09PSBjdXJyZW50VGFiSWQpOw0KICAgICAgICAgICAgICAgIGlmIChjdXJyZW50VGFiKSB7DQogICAgICAgICAgICAgICAgICAgIGN1cnJlbnRUYWIuZGF0YSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGFibGVEYXRhKSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIHN0b3JhZ2VNYW5hZ2VyLnNhdmVUb0xvY2FsU3RvcmFnZSh0YWJsZURhdGEsIHVzZXJzLCBhcHBTZXR0aW5ncywgY3VzdG9tQnV0dG9ucywgY3VzdG9tQ29sdW1ucywgYmFzaWNDb2x1bW5zLCBkYXRlVmFsaWRhdGlvbkNvbHVtbnMsIHRhYnMpOw0KICAgICAgICAgICAgICAgIGF1dG9TeW5jQ2hhbmdlcygpOw0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIC8vINCS0L7RgdGB0YLQsNC90LDQstC70LjQstCw0LXQvCDRj9GH0LXQudC60YMg0YEg0L3QvtCy0YvQvCDQt9C90LDRh9C10L3QuNC10LwNCiAgICAgICAgICAgICAgICByZW5kZXJUYWJsZSgpOw0KICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgLy8g0J7QsdGA0LDQsdC+0YLRh9C40LrQuCDQtNC70Y8gaW5wdXQNCiAgICAgICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBmdW5jdGlvbihlKSB7DQogICAgICAgICAgICAgICAgaWYgKGUua2V5ID09PSAnRW50ZXInKSB7DQogICAgICAgICAgICAgICAgICAgIHNhdmVDaGFuZ2VzKCk7DQogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlLmtleSA9PT0gJ0VzY2FwZScpIHsNCiAgICAgICAgICAgICAgICAgICAgLy8g0J7RgtC80LXQvdCwINGA0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40Y8gLSDQstC+0YHRgdGC0LDQvdCw0LLQu9C40LLQsNC10Lwg0L7RgNC40LPQuNC90LDQu9GM0L3QvtC1INGB0L7QtNC10YDQttC40LzQvtC1DQogICAgICAgICAgICAgICAgICAgIGNlbGwuaW5uZXJIVE1MID0gb3JpZ2luYWxDb250ZW50Ow0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgZnVuY3Rpb24oKSB7DQogICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7DQogICAgICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5hY3RpdmVFbGVtZW50ICE9PSBpbnB1dCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgc2F2ZUNoYW5nZXMoKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0sIDEwMCk7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgfQ0KDQogICAgICAgIGZ1bmN0aW9uIGFkZEZpbGVJY29uc1RvQ2VsbChjb250YWluZXIsIGZpbGVzLCByb3dJZCwgY29sdW1uSWQpIHsNCiAgICAgICAgICAgIGZpbGVzLmZvckVhY2goKGZpbGUsIGluZGV4KSA9PiB7DQogICAgICAgICAgICAgICAgY29uc3QgZmlsZUljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsNCiAgICAgICAgICAgICAgICBmaWxlSWNvbi5jbGFzc05hbWUgPSAnZmlsZS1pY29uLXNtYWxsJzsNCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICBsZXQgaWNvbiA9ICfwn5OEJzsNCiAgICAgICAgICAgICAgICBpZiAoZmlsZS50eXBlLnN0YXJ0c1dpdGgoJ2ltYWdlLycpKSB7DQogICAgICAgICAgICAgICAgICAgIGljb24gPSAn8J+WvCc7DQogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChmaWxlLnR5cGUuaW5jbHVkZXMoJ3BkZicpKSB7DQogICAgICAgICAgICAgICAgICAgIGljb24gPSAn8J+TlSc7DQogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChmaWxlLnR5cGUuaW5jbHVkZXMoJ3dvcmQnKSB8fCBmaWxlLnR5cGUuaW5jbHVkZXMoJ2RvY3VtZW50JykpIHsNCiAgICAgICAgICAgICAgICAgICAgaWNvbiA9ICfwn5OdJzsNCiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGZpbGUudHlwZS5pbmNsdWRlcygnZXhjZWwnKSB8fCBmaWxlLnR5cGUuaW5jbHVkZXMoJ3NwcmVhZHNoZWV0JykpIHsNCiAgICAgICAgICAgICAgICAgICAgaWNvbiA9ICfwn5OKJzsNCiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGZpbGUudHlwZS5pbmNsdWRlcygndGV4dCcpKSB7DQogICAgICAgICAgICAgICAgICAgIGljb24gPSAn8J+Tgyc7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIGZpbGVJY29uLmlubmVySFRNTCA9IGljb247DQogICAgICAgICAgICAgICAgZmlsZUljb24udGl0bGUgPSBmaWxlLm5hbWU7DQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgZmlsZUljb24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4gew0KICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOw0KICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFVzZXIgJiYgY3VycmVudFVzZXIucm9sZSA9PT0gJ2FkbWluJykgew0KICAgICAgICAgICAgICAgICAgICAgICAgb3BlbkZpbGVNYW5hZ2VtZW50TW9kYWwocm93SWQsIGNvbHVtbklkKTsNCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIG9wZW5GaWxlUHJldmlldyhmaWxlLCByb3dJZCwgY29sdW1uSWQsIGluZGV4KTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChmaWxlSWNvbik7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgfQ0KDQogICAgICAgIC8vINCe0JHQndCe0JLQm9CV0J3QndCQ0K8g0KTQo9Cd0JrQptCY0K8g0KPQlNCQ0JvQldCd0JjQryDQodCi0KDQntCa0JgNCiAgICAgICAgZnVuY3Rpb24gZGVsZXRlUm93KHJvd0lkKSB7DQogICAgICAgICAgICBpZiAoIWNvbmZpcm0oJ9CS0Ysg0YPQstC10YDQtdC90YssINGH0YLQviDRhdC+0YLQuNGC0LUg0YPQtNCw0LvQuNGC0Ywg0Y3RgtGDINGB0YLRgNC+0LrRgz8nKSkgew0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIA0KICAgICAgICAgICAgdGFibGVEYXRhID0gdGFibGVEYXRhLmZpbHRlcihyb3cgPT4gcm93LmlkICE9PSByb3dJZCk7DQogICAgICAgICAgICANCiAgICAgICAgICAgIHRhYmxlRGF0YS5mb3JFYWNoKChyb3csIGluZGV4KSA9PiB7DQogICAgICAgICAgICAgICAgcm93LmRpc3BsYXlJZCA9IGluZGV4ICsgMTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBzZWxlY3RlZFJvd3MuZGVsZXRlKHJvd0lkKTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgY29uc3QgY3VycmVudFRhYiA9IHRhYnMuZmluZCh0YWIgPT4gdGFiLmlkID09PSBjdXJyZW50VGFiSWQpOw0KICAgICAgICAgICAgaWYgKGN1cnJlbnRUYWIpIHsNCiAgICAgICAgICAgICAgICBjdXJyZW50VGFiLmRhdGEgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRhYmxlRGF0YSkpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgDQogICAgICAgICAgICBzdG9yYWdlTWFuYWdlci5zYXZlVG9Mb2NhbFN0b3JhZ2UodGFibGVEYXRhLCB1c2VycywgYXBwU2V0dGluZ3MsIGN1c3RvbUJ1dHRvbnMsIGN1c3RvbUNvbHVtbnMsIGJhc2ljQ29sdW1ucywgZGF0ZVZhbGlkYXRpb25Db2x1bW5zLCB0YWJzKTsNCiAgICAgICAgICAgIGF1dG9TeW5jQ2hhbmdlcygpOw0KICAgICAgICAgICAgDQogICAgICAgICAgICByZW5kZXJUYWJsZSgpOw0KICAgICAgICB9DQoNCiAgICAgICAgLy8g0J7QkdCd0J7QktCb0JXQndCd0JDQryDQpNCj0J3QmtCm0JjQryDQn9Cg0JjQnNCV0J3QldCd0JjQryDQpNCY0JvQrNCi0KDQntCSDQogICAgICAgIGZ1bmN0aW9uIGFwcGx5RmlsdGVycyhkYXRhKSB7DQogICAgICAgICAgICBpZiAoT2JqZWN0LmtleXMoY3VycmVudEZpbHRlcnMpLmxlbmd0aCA9PT0gMCkgcmV0dXJuIGRhdGE7DQogICAgICAgICAgICANCiAgICAgICAgICAgIHJldHVybiBkYXRhLmZpbHRlcihyb3cgPT4gew0KICAgICAgICAgICAgICAgIHJldHVybiBPYmplY3QuZW50cmllcyhjdXJyZW50RmlsdGVycykuZXZlcnkoKFtmaWx0ZXJUeXBlLCBmaWx0ZXJWYWx1ZV0pID0+IHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGZpbHRlclR5cGUgPT09ICdzZWxlY3RlZFJvd3MnKSB7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmlsdGVyVmFsdWUuaW5jbHVkZXMocm93LmlkKTsNCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB2YWx1ZTsNCiAgICAgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1c3RvbUNvbHVtbnMuZmluZChjb2wgPT4gY29sLmlkID09PSBmaWx0ZXJUeXBlKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gcm93LmN1c3RvbURhdGEgJiYgcm93LmN1c3RvbURhdGFbZmlsdGVyVHlwZV0gPyByb3cuY3VzdG9tRGF0YVtmaWx0ZXJUeXBlXSA6ICcnOw0KICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2goZmlsdGVyVHlwZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdpZCc6IHZhbHVlID0gcm93LmlkLnRvU3RyaW5nKCk7IGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICduYW1lJzogdmFsdWUgPSByb3cubmFtZSB8fCAnJzsgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2RhdGUnOiB2YWx1ZSA9IHJvdy5kYXRlIHx8ICcnOyBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnc3RhdHVzJzogdmFsdWUgPSByb3cuc3RhdHVzIHx8ICcnOyBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogdmFsdWUgPSAnJzsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmaWx0ZXJWYWx1ZS5pbmNsdWRlcyh2YWx1ZSk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICB9DQoNCiAgICAgICAgLy8g0JjQvdC40YbQuNCw0LvQuNC30LDRhtC40Y8g0L/RgNC4INC30LDQs9GA0YPQt9C60LUg0YHRgtGA0LDQvdC40YbRiw0KICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgZnVuY3Rpb24oKSB7DQogICAgICAgICAgICBpbml0aWFsaXplQXBwV2l0aEZhbGxiYWNrKCk7DQogICAgICAgICAgICANCiAgICAgICAgICAgIHNldEludGVydmFsKHVwZGF0ZVN0YXR1c0JhciwgMzAwMDApOw0KICAgICAgICAgICAgDQogICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignb25saW5lJywgZnVuY3Rpb24oKSB7DQogICAgICAgICAgICAgICAgdXBkYXRlU3luY1N0YXR1cygn0JLQvtGB0YHRgtCw0L3QvtCy0LvQtdC90L4g0YHQvtC10LTQuNC90LXQvdC40LUnLCAnc3VjY2VzcycpOw0KICAgICAgICAgICAgICAgIGlmIChzdG9yYWdlTWFuYWdlci5wZW5kaW5nQ2hhbmdlcy5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICAgICAgICAgIHN0b3JhZ2VNYW5hZ2VyLnRyeVN5bmNDaGFuZ2VzKHVwZGF0ZVN5bmNTdGF0dXMpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgDQogICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignb2ZmbGluZScsIGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgICAgIHVwZGF0ZVN5bmNTdGF0dXMoJ9Ce0YLRgdGD0YLRgdGC0LLRg9C10YIg0YHQvtC10LTQuNC90LXQvdC40LUnLCAnZXJyb3InKTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICB9KTsNCiAgICA8L3NjcmlwdD4NCjwvYm9keT4NCjwvaHRtbD4="
          }
        ]
      },
      "displayId": 3
    },
    {
      "id": 4,
      "name": "Новый проект",
      "date": "24.11.2025",
      "status": "Активен",
      "customData": {
        "col_1763927601006_0": "06.11.2025"
      },
      "attachments": {},
      "displayId": 4
    }
  ],
  "users": [
    {
      "username": "admin",
      "password": "admin",
      "role": "admin"
    },
    {
      "username": "user",
      "password": "user",
      "role": "user"
    },
    {
      "username": "1",
      "password": "1",
      "role": "user"
    }
  ],
  "appSettings": {
    "headerTitle": "",
    "headerLogo": "",
    "fixedColumnsCount": 4,
    "currentTheme": "theme-orange"
  },
  "customButtons": [
    {
      "id": "btn_1763927601006",
      "name": "12345678",
      "columns": [
        "ааа"
      ],
      "dateColumns": [
        "ааа"
      ]
    },
    {
      "id": "btn_1763960675779",
      "name": "Время",
      "columns": [
        "1",
        "2"
      ],
      "dateColumns": [
        "1"
      ]
    }
  ],
  "customColumns": [
    {
      "id": "col_1763927601006_0",
      "name": "ааа"
    },
    {
      "id": "col_1763960675780_0",
      "name": "1"
    },
    {
      "id": "col_1763960675780_1",
      "name": "2"
    },
    {
      "id": "col_1763960733989",
      "name": "000"
    }
  ],
  "basicColumns": [
    {
      "id": "id",
      "name": "№ п/п",
      "editable": false
    },
    {
      "id": "name",
      "name": "Название",
      "editable": true
    },
    {
      "id": "date",
      "name": "Дата создания",
      "editable": true
    },
    {
      "id": "status",
      "name": "Статус",
      "editable": true
    }
  ],
  "dateValidationColumns": {},
  "tabs": [
    {
      "id": "tab1",
      "name": "Основное окно",
      "data": null
    }
  ],
  "lastSync": "2025-11-24T05:05:36.046Z",
  "lastEditor": "admin",
  "mergeOperation": true
}